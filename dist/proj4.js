(function(t){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=t()}else if(typeof define==="function"&&define.amd){define([],t)}else{var s;if(typeof window!=="undefined"){s=window}else if(typeof global!=="undefined"){s=global}else if(typeof self!=="undefined"){s=self}else{s=this}s.proj4=t()}})(function(){var t,s,a;return function i(t,s,a){function h(r,n){if(!s[r]){if(!t[r]){var o=typeof require=="function"&&require;if(!n&&o)return o(r,!0);if(e)return e(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var c=s[r]={exports:{}};t[r][0].call(c.exports,function(s){var a=t[r][1][s];return h(a?a:s)},c,c.exports,i,t,s,a)}return s[r].exports}var e=typeof require=="function"&&require;for(var r=0;r<a.length;r++)h(a[r]);return h}({1:[function(t,s,a){var i=t("mgrs");function h(t,s,a){if(!(this instanceof h)){return new h(t,s,a)}if(Array.isArray(t)){this.x=t[0];this.y=t[1];this.z=t[2]||0}else if(typeof t==="object"){this.x=t.x;this.y=t.y;this.z=t.z||0}else if(typeof t==="string"&&typeof s==="undefined"){var i=t.split(",");this.x=parseFloat(i[0],10);this.y=parseFloat(i[1],10);this.z=parseFloat(i[2],10)||0}else{this.x=t;this.y=s;this.z=a||0}console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}h.fromMGRS=function(t){return new h(i.toPoint(t))};h.prototype.toMGRS=function(t){return i.forward([this.x,this.y],t)};s.exports=h},{mgrs:67}],2:[function(t,s,a){var i=t("./parseCode");var h=t("./extend");var e=t("./projections");var r=t("./deriveConstants");function n(t,s){if(!(this instanceof n)){return new n(t)}s=s||function(t){if(t){throw t}};var a=i(t);if(typeof a!=="object"){s(t);return}var e=r(a);var o=n.projections.get(e.projName);if(o){h(this,e);h(this,o);this.init();s(null,this)}else{s(t)}}n.projections=e;n.projections.start();s.exports=n},{"./deriveConstants":33,"./extend":34,"./parseCode":37,"./projections":39}],3:[function(t,s,a){s.exports=function(t,s,a){var i=a.x,h=a.y,e=a.z||0;var r,n,o;for(o=0;o<3;o++){if(s&&o===2&&a.z===undefined){continue}if(o===0){r=i;n="x"}else if(o===1){r=h;n="y"}else{r=e;n="z"}switch(t.axis[o]){case"e":a[n]=r;break;case"w":a[n]=-r;break;case"n":a[n]=r;break;case"s":a[n]=-r;break;case"u":if(a[n]!==undefined){a.z=r}break;case"d":if(a[n]!==undefined){a.z=-r}break;default:return null}}return a}},{}],4:[function(t,s,a){var i=Math.PI/2;var h=t("./sign");s.exports=function(t){return Math.abs(t)<i?t:t-h(t)*Math.PI}},{"./sign":21}],5:[function(t,s,a){var i=Math.PI*2;var h=3.14159265359;var e=t("./sign");s.exports=function(t){return Math.abs(t)<=h?t:t-e(t)*i}},{"./sign":21}],6:[function(t,s,a){s.exports=function(t){if(Math.abs(t)>1){t=t>1?1:-1}return Math.asin(t)}},{}],7:[function(t,s,a){s.exports=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},{}],8:[function(t,s,a){s.exports=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},{}],9:[function(t,s,a){s.exports=function(t){return.05859375*t*t*(1+.75*t)}},{}],10:[function(t,s,a){s.exports=function(t){return t*t*t*(35/3072)}},{}],11:[function(t,s,a){s.exports=function(t,s,a){var i=s*a;return t/Math.sqrt(1-i*i)}},{}],12:[function(t,s,a){s.exports=function(t,s,a,i,h){var e;var r;e=t/s;for(var n=0;n<15;n++){r=(t-(s*e-a*Math.sin(2*e)+i*Math.sin(4*e)-h*Math.sin(6*e)))/(s-2*a*Math.cos(2*e)+4*i*Math.cos(4*e)-6*h*Math.cos(6*e));e+=r;if(Math.abs(r)<=1e-10){return e}}return NaN}},{}],13:[function(t,s,a){var i=Math.PI/2;s.exports=function(t,s){var a=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(s)-a)<1e-6){if(s<0){return-1*i}else{return i}}var h=Math.asin(.5*s);var e;var r;var n;var o;for(var l=0;l<30;l++){r=Math.sin(h);n=Math.cos(h);o=t*r;e=Math.pow(1-o*o,2)/(2*n)*(s/(1-t*t)-r/(1-o*o)+.5/t*Math.log((1-o)/(1+o)));h+=e;if(Math.abs(e)<=1e-10){return h}}return NaN}},{}],14:[function(t,s,a){s.exports=function(t,s,a,i,h){return t*h-s*Math.sin(2*h)+a*Math.sin(4*h)-i*Math.sin(6*h)}},{}],15:[function(t,s,a){s.exports=function(t,s,a){var i=t*s;return a/Math.sqrt(1-i*i)}},{}],16:[function(t,s,a){var i=Math.PI/2;s.exports=function(t,s){var a=.5*t;var h,e;var r=i-2*Math.atan(s);for(var n=0;n<=15;n++){h=t*Math.sin(r);e=i-2*Math.atan(s*Math.pow((1-h)/(1+h),a))-r;r+=e;if(Math.abs(e)<=1e-10){return r}}return-9999}},{}],17:[function(t,s,a){var i=1;var h=.25;var e=.046875;var r=.01953125;var n=.01068115234375;var o=.75;var l=.46875;var c=.013020833333333334;var m=.007120768229166667;var f=.3645833333333333;var u=.005696614583333333;var v=.3076171875;s.exports=function(t){var s=[];s[0]=i-t*(h+t*(e+t*(r+t*n)));s[1]=t*(o-t*(e+t*(r+t*n)));var a=t*t;s[2]=a*(l-t*(c+t*m));a*=t;s[3]=a*(f-t*u);s[4]=a*t*v;return s}},{}],18:[function(t,s,a){var i=t("./pj_mlfn");var h=1e-10;var e=20;s.exports=function(t,s,a){var r=1/(1-s);var n=t;for(var o=e;o;--o){var l=Math.sin(n);var c=1-s*l*l;c=(i(n,l,Math.cos(n),a)-t)*(c*Math.sqrt(c))*r;n-=c;if(Math.abs(c)<h){return n}}return n}},{"./pj_mlfn":19}],19:[function(t,s,a){s.exports=function(t,s,a,i){a*=s;s*=s;return i[0]*t-a*(i[1]+s*(i[2]+s*(i[3]+s*i[4])))}},{}],20:[function(t,s,a){s.exports=function(t,s){var a;if(t>1e-7){a=t*s;return(1-t*t)*(s/(1-a*a)-.5/t*Math.log((1-a)/(1+a)))}else{return 2*s}}},{}],21:[function(t,s,a){s.exports=function(t){return t<0?-1:1}},{}],22:[function(t,s,a){s.exports=function(t,s){return Math.pow((1-t)/(1+t),s)}},{}],23:[function(t,s,a){s.exports=function(t){var s={x:t[0],y:t[1]};if(t.length>2){s.z=t[2]}if(t.length>3){s.m=t[3]}return s}},{}],24:[function(t,s,a){var i=Math.PI/2;s.exports=function(t,s,a){var h=t*a;var e=.5*t;h=Math.pow((1-h)/(1+h),e);return Math.tan(.5*(i-s))/h}},{}],25:[function(t,s,a){a.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};a.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};a.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};a.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};a.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};a.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};a.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};a.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"};a.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};a.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};a.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};a.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};a.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};a.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};a.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};a.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},{}],26:[function(t,s,a){a.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};a.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};a.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};a.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};a.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"};a.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};a.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};a.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"};a.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};a.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};a.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};a.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"};a.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};a.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"};a.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."};a.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"};a.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};a.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};a.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"};a.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"};a.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"};a.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"};a.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"};a.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};a.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};a.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};a.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};a.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};a.hough={a:6378270,rf:297,ellipseName:"Hough"};a.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};a.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};a.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};a.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};a.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"};a.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};a.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};a.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"};a.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"};a.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};a.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};a.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};a.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};a.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],27:[function(t,s,a){a.greenwich=0;a.lisbon=-9.131906111111;a.paris=2.337229166667;a.bogota=-74.080916666667;a.madrid=-3.687938888889;a.rome=12.452333333333;a.bern=7.439583333333;a.jakarta=106.807719444444;a.ferro=-17.666666666667;a.brussels=4.367975;a.stockholm=18.058277777778;a.athens=23.7163375;a.oslo=10.722916666667},{}],28:[function(t,s,a){a.ft={to_meter:.3048};a["us-ft"]={to_meter:1200/3937}},{}],29:[function(t,s,a){var i=t("./Proj");var h=t("./transform");var e=i("WGS84");function r(t,s,a){var i;if(Array.isArray(a)){i=h(t,s,a);if(a.length===3){return[i.x,i.y,i.z]}else{return[i.x,i.y]}}else{return h(t,s,a)}}function n(t){if(t instanceof i){return t}if(t.oProj){return t.oProj}return i(t)}function o(t,s,a){t=n(t);var i=false;var h;if(typeof s==="undefined"){s=t;t=e;i=true}else if(typeof s.x!=="undefined"||Array.isArray(s)){a=s;s=t;t=e;i=true}s=n(s);if(a){return r(t,s,a)}else{h={forward:function(a){return r(t,s,a)},inverse:function(a){return r(s,t,a)}};if(i){h.oProj=s}return h}}s.exports=o},{"./Proj":2,"./transform":65}],30:[function(t,s,a){var i=Math.PI/2;var h=1;var e=2;var r=3;var n=4;var o=5;var l=484813681109536e-20;var c=1.0026;var m=.3826834323650898;var f=function(t){if(!(this instanceof f)){return new f(t)}this.datum_type=n;if(!t){return}if(t.datumCode&&t.datumCode==="none"){this.datum_type=o}if(t.datum_params){this.datum_params=t.datum_params.map(parseFloat);if(this.datum_params[0]!==0||this.datum_params[1]!==0||this.datum_params[2]!==0){this.datum_type=h}if(this.datum_params.length>3){if(this.datum_params[3]!==0||this.datum_params[4]!==0||this.datum_params[5]!==0||this.datum_params[6]!==0){this.datum_type=e;this.datum_params[3]*=l;this.datum_params[4]*=l;this.datum_params[5]*=l;this.datum_params[6]=this.datum_params[6]/1e6+1}}}this.datum_type=t.grids?r:this.datum_type;this.a=t.a;this.b=t.b;this.es=t.es;this.ep2=t.ep2;if(this.datum_type===r){this.grids=t.grids}};f.prototype={compare_datums:function(t){if(this.datum_type!==t.datum_type){return false}else if(this.a!==t.a||Math.abs(this.es-t.es)>5e-11){return false}else if(this.datum_type===h){return this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]}else if(this.datum_type===e){return this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]&&this.datum_params[3]===t.datum_params[3]&&this.datum_params[4]===t.datum_params[4]&&this.datum_params[5]===t.datum_params[5]&&this.datum_params[6]===t.datum_params[6]}else if(this.datum_type===r||t.datum_type===r){return this.nadgrids===t.nadgrids}else{return true}},geodetic_to_geocentric:function(t){var s=t.x;var a=t.y;var h=t.z?t.z:0;var e;var r;var n;var o=0;var l;var c;var m;var f;if(a<-i&&a>-1.001*i){a=-i}else if(a>i&&a<1.001*i){a=i}else if(a<-i||a>i){return null}if(s>Math.PI){s-=2*Math.PI}c=Math.sin(a);f=Math.cos(a);m=c*c;l=this.a/Math.sqrt(1-this.es*m);e=(l+h)*f*Math.cos(s);r=(l+h)*f*Math.sin(s);n=(l*(1-this.es)+h)*c;t.x=e;t.y=r;t.z=n;return o},geocentric_to_geodetic:function(t){var s=1e-12;var a=s*s;var h=30;var e;var r;var n;var o;var l;var c;var m;var f;var u;var v;var M;var p;var d;var _;var y=t.x;var g=t.y;var x=t.z?t.z:0;var b;var j;var w;d=false;e=Math.sqrt(y*y+g*g);r=Math.sqrt(y*y+g*g+x*x);if(e/this.a<s){d=true;b=0;if(r/this.a<s){j=i;w=-this.b;return}}else{b=Math.atan2(g,y)}n=x/r;o=e/r;l=1/Math.sqrt(1-this.es*(2-this.es)*o*o);f=o*(1-this.es)*l;u=n*l;_=0;do{_++;m=this.a/Math.sqrt(1-this.es*u*u);w=e*f+x*u-m*(1-this.es*u*u);c=this.es*m/(m+w);l=1/Math.sqrt(1-c*(2-c)*o*o);v=o*(1-c)*l;M=n*l;p=M*f-v*u;f=v;u=M}while(p*p>a&&_<h);j=Math.atan(M/Math.abs(v));t.x=b;t.y=j;t.z=w;return t},geocentric_to_geodetic_noniter:function(t){var s=t.x;var a=t.y;var h=t.z?t.z:0;var e;var r;var n;var o;var l;var f;var u;var v;var M;var p;var d;var _;var y;var g;var x;var b;var j;s=parseFloat(s);a=parseFloat(a);h=parseFloat(h);j=false;if(s!==0){e=Math.atan2(a,s)}else{if(a>0){e=i}else if(a<0){e=-i}else{j=true;e=0;if(h>0){r=i}else if(h<0){r=-i}else{r=i;n=-this.b;return}}}l=s*s+a*a;o=Math.sqrt(l);f=h*c;v=Math.sqrt(f*f+l);p=f/v;_=o/v;d=p*p*p;u=h+this.b*this.ep2*d;b=o-this.a*this.es*_*_*_;M=Math.sqrt(u*u+b*b);y=u/M;g=b/M;x=this.a/Math.sqrt(1-this.es*y*y);if(g>=m){n=o/g-x}else if(g<=-m){n=o/-g-x}else{n=h/y+x*(this.es-1)}if(j===false){r=Math.atan(y/g)}t.x=e;t.y=r;t.z=n;return t},geocentric_to_wgs84:function(t){if(this.datum_type===h){t.x+=this.datum_params[0];t.y+=this.datum_params[1];t.z+=this.datum_params[2]}else if(this.datum_type===e){var s=this.datum_params[0];var a=this.datum_params[1];var i=this.datum_params[2];var r=this.datum_params[3];var n=this.datum_params[4];var o=this.datum_params[5];var l=this.datum_params[6];var c=l*(t.x-o*t.y+n*t.z)+s;var m=l*(o*t.x+t.y-r*t.z)+a;var f=l*(-n*t.x+r*t.y+t.z)+i;t.x=c;t.y=m;t.z=f}},geocentric_from_wgs84:function(t){if(this.datum_type===h){t.x-=this.datum_params[0];t.y-=this.datum_params[1];t.z-=this.datum_params[2]}else if(this.datum_type===e){var s=this.datum_params[0];var a=this.datum_params[1];var i=this.datum_params[2];var r=this.datum_params[3];var n=this.datum_params[4];var o=this.datum_params[5];var l=this.datum_params[6];var c=(t.x-s)/l;var m=(t.y-a)/l;var f=(t.z-i)/l;t.x=c+o*m-n*f;t.y=-o*c+m+r*f;t.z=n*c-r*m+f}}};s.exports=f},{}],31:[function(t,s,a){var i=1;var h=2;var e=3;var r=5;var n=6378137;var o=.006694379990141316;s.exports=function(t,s,a){var l,c,m;function f(t){return t===i||t===h}if(t.compare_datums(s)){return a}if(t.datum_type===r||s.datum_type===r){return a}var u=t.a;var v=t.es;var M=s.a;var p=s.es;var d=t.datum_type;if(d===e){if(this.apply_gridshift(t,0,a)===0){t.a=n;t.es=o}else{if(!t.datum_params){t.a=u;t.es=t.es;return a}l=1;for(c=0,m=t.datum_params.length;c<m;c++){l*=t.datum_params[c]}if(l===0){t.a=u;t.es=t.es;return a}if(t.datum_params.length>3){d=h}else{d=i}}}if(s.datum_type===e){s.a=n;s.es=o}if(t.es!==s.es||t.a!==s.a||f(d)||f(s.datum_type)){t.geodetic_to_geocentric(a);if(f(t.datum_type)){t.geocentric_to_wgs84(a)}if(f(s.datum_type)){s.geocentric_from_wgs84(a)}s.geocentric_to_geodetic(a)}if(s.datum_type===e){this.apply_gridshift(s,1,a)}t.a=u;t.es=v;s.a=M;s.es=p;return a}},{}],32:[function(t,s,a){var i=t("./global");var h=t("./projString");var e=t("./wkt");function r(t){var s=this;if(arguments.length===2){var a=arguments[1];if(typeof a==="string"){if(a.charAt(0)==="+"){r[t]=h(arguments[1])}else{r[t]=e(arguments[1])}}else{r[t]=a}}else if(arguments.length===1){if(Array.isArray(t)){return t.map(function(t){if(Array.isArray(t)){r.apply(s,t)}else{r(t)}})}else if(typeof t==="string"){if(t in r){return r[t]}}else if("EPSG"in t){r["EPSG:"+t.EPSG]=t}else if("ESRI"in t){r["ESRI:"+t.ESRI]=t}else if("IAU2000"in t){r["IAU2000:"+t.IAU2000]=t}else{console.log(t)}return}}i(r);s.exports=r},{"./global":35,"./projString":38,"./wkt":66}],33:[function(t,s,a){var i=t("./constants/Datum");var h=t("./constants/Ellipsoid");var e=t("./extend");var r=t("./datum");var n=1e-10;var o=.16666666666666666;var l=.04722222222222222;var c=.022156084656084655;s.exports=function(t){if(t.datumCode&&t.datumCode!=="none"){var s=i[t.datumCode];if(s){t.datum_params=s.towgs84?s.towgs84.split(","):null;t.ellps=s.ellipse;t.datumName=s.datumName?s.datumName:t.datumCode}}if(!t.a){var a=h[t.ellps]?h[t.ellps]:h.WGS84;e(t,a)}if(t.rf&&!t.b){t.b=(1-1/t.rf)*t.a}if(t.rf===0||Math.abs(t.a-t.b)<n){t.sphere=true;t.b=t.a}t.a2=t.a*t.a;t.b2=t.b*t.b;t.es=(t.a2-t.b2)/t.a2;t.e=Math.sqrt(t.es);if(t.R_A){t.a*=1-t.es*(o+t.es*(l+t.es*c));t.a2=t.a*t.a;t.b2=t.b*t.b;t.es=0}t.ep2=(t.a2-t.b2)/t.b2;if(!t.k0){t.k0=1}if(!t.axis){t.axis="enu"}if(!t.datum){t.datum=r(t)}return t}},{"./constants/Datum":25,"./constants/Ellipsoid":26,"./datum":30,"./extend":34}],34:[function(t,s,a){s.exports=function(t,s){t=t||{};var a,i;if(!s){return t}for(i in s){a=s[i];if(a!==undefined){t[i]=a}}return t}},{}],35:[function(t,s,a){s.exports=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees");t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees");t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");t.WGS84=t["EPSG:4326"];t["EPSG:3785"]=t["EPSG:3857"];t.GOOGLE=t["EPSG:3857"];t["EPSG:900913"]=t["EPSG:3857"];t["EPSG:102113"]=t["EPSG:3857"]}},{}],36:[function(t,s,a){var i=[t("./projections/tmerc"),t("./projections/utm"),t("./projections/sterea"),t("./projections/stere"),t("./projections/somerc"),t("./projections/omerc"),t("./projections/lcc"),t("./projections/krovak"),t("./projections/cass"),t("./projections/laea"),t("./projections/aea"),t("./projections/gnom"),t("./projections/cea"),t("./projections/eqc"),t("./projections/poly"),t("./projections/nzmg"),t("./projections/mill"),t("./projections/sinu"),t("./projections/moll"),t("./projections/eqdc"),t("./projections/vandg"),t("./projections/aeqd")];s.exports=function(t){i.forEach(function(s){t.Proj.projections.add(s)})}},{"./projections/aea":40,"./projections/aeqd":41,"./projections/cass":42,"./projections/cea":43,"./projections/eqc":44,"./projections/eqdc":45,"./projections/gnom":47,"./projections/krovak":48,"./projections/laea":49,"./projections/lcc":50,"./projections/mill":53,"./projections/moll":54,"./projections/nzmg":55,"./projections/omerc":56,"./projections/poly":57,"./projections/sinu":58,"./projections/somerc":59,"./projections/stere":60,"./projections/sterea":61,"./projections/tmerc":62,"./projections/utm":63,"./projections/vandg":64}],37:[function(t,s,a){var i=t("./defs");var h=t("./wkt");var e=t("./projString");function r(t){return typeof t==="string"}function n(t){return t in i}function o(t){var s=["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"];return s.reduce(function(s,a){return s+1+t.indexOf(a)},0)}function l(t){return t[0]==="+"}function c(t){if(r(t)){if(n(t)){return i[t]}else if(o(t)){return h(t)}else if(l(t)){return e(t)}}else{return t}}s.exports=c},{"./defs":32,"./projString":38,"./wkt":66}],38:[function(t,s,a){var i=.017453292519943295;var h=t("./constants/PrimeMeridian");var e=t("./constants/units");s.exports=function(t){var s={};var a={};t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).forEach(function(t){var s=t.split("=");s.push(true);a[s[0].toLowerCase()]=s[1]});var r,n,o;var l={proj:"projName",datum:"datumCode",rf:function(t){s.rf=parseFloat(t)},lat_0:function(t){s.lat0=t*i},lat_1:function(t){s.lat1=t*i},lat_2:function(t){s.lat2=t*i},lat_ts:function(t){s.lat_ts=t*i},lon_0:function(t){s.long0=t*i},lon_1:function(t){s.long1=t*i},lon_2:function(t){s.long2=t*i},alpha:function(t){s.alpha=parseFloat(t)*i},lonc:function(t){s.longc=t*i},x_0:function(t){s.x0=parseFloat(t)},y_0:function(t){s.y0=parseFloat(t)},k_0:function(t){s.k0=parseFloat(t)},k:function(t){s.k0=parseFloat(t)},a:function(t){s.a=parseFloat(t)},b:function(t){s.b=parseFloat(t)},r_a:function(){s.R_A=true},zone:function(t){s.zone=parseInt(t,10)},south:function(){s.utmSouth=true},towgs84:function(t){s.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){s.to_meter=parseFloat(t)},units:function(t){s.units=t;if(e[t]){s.to_meter=e[t].to_meter}},from_greenwich:function(t){s.from_greenwich=t*i},pm:function(t){s.from_greenwich=(h[t]?h[t]:parseFloat(t))*i},nadgrids:function(t){if(t==="@null"){s.datumCode="none"}else{s.nadgrids=t}},axis:function(t){var a="ewnsud";if(t.length===3&&a.indexOf(t.substr(0,1))!==-1&&a.indexOf(t.substr(1,1))!==-1&&a.indexOf(t.substr(2,1))!==-1){s.axis=t}}};for(r in a){n=a[r];if(r in l){o=l[r];if(typeof o==="function"){o(n)}else{s[o]=n}}else{s[r]=n}}if(typeof s.datumCode==="string"&&s.datumCode!=="WGS84"){s.datumCode=s.datumCode.toLowerCase()}return s}},{"./constants/PrimeMeridian":27,"./constants/units":28}],39:[function(t,s,a){var i=[t("./projections/merc"),t("./projections/longlat")];var h={};var e=[];function r(t,s){var a=e.length;if(!t.names){console.log(s);return true}e[a]=t;t.names.forEach(function(t){h[t.toLowerCase()]=a});return this}a.add=r;a.get=function(t){if(!t){return false}var s=t.toLowerCase();if(typeof h[s]!=="undefined"&&e[h[s]]){return e[h[s]]}};a.start=function(){i.forEach(r)}},{"./projections/longlat":51,"./projections/merc":52}],40:[function(t,s,a){var i=1e-10;var h=t("../common/msfnz");var e=t("../common/qsfnz");var r=t("../common/adjust_lon");var n=t("../common/asinz");a.init=function(){if(Math.abs(this.lat1+this.lat2)<i){return}this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e3=Math.sqrt(this.es);this.sin_po=Math.sin(this.lat1);this.cos_po=Math.cos(this.lat1);this.t1=this.sin_po;this.con=this.sin_po;this.ms1=h(this.e3,this.sin_po,this.cos_po);this.qs1=e(this.e3,this.sin_po,this.cos_po);this.sin_po=Math.sin(this.lat2);this.cos_po=Math.cos(this.lat2);this.t2=this.sin_po;this.ms2=h(this.e3,this.sin_po,this.cos_po);this.qs2=e(this.e3,this.sin_po,this.cos_po);this.sin_po=Math.sin(this.lat0);this.cos_po=Math.cos(this.lat0);this.t3=this.sin_po;this.qs0=e(this.e3,this.sin_po,this.cos_po);if(Math.abs(this.lat1-this.lat2)>i){this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1)}else{this.ns0=this.con}this.c=this.ms1*this.ms1+this.ns0*this.qs1;this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0};a.forward=function(t){var s=t.x;var a=t.y;this.sin_phi=Math.sin(a);this.cos_phi=Math.cos(a);var i=e(this.e3,this.sin_phi,this.cos_phi);var h=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0;var n=this.ns0*r(s-this.long0);var o=h*Math.sin(n)+this.x0;var l=this.rh-h*Math.cos(n)+this.y0;t.x=o;t.y=l;return t};a.inverse=function(t){var s,a,i,h,e,n;t.x-=this.x0;t.y=this.rh-t.y+this.y0;if(this.ns0>=0){s=Math.sqrt(t.x*t.x+t.y*t.y);i=1}else{s=-Math.sqrt(t.x*t.x+t.y*t.y);i=-1}h=0;if(s!==0){h=Math.atan2(i*t.x,i*t.y)}i=s*this.ns0/this.a;if(this.sphere){n=Math.asin((this.c-i*i)/(2*this.ns0))}else{a=(this.c-i*i)/this.ns0;n=this.phi1z(this.e3,a)}e=r(h/this.ns0+this.long0);t.x=e;t.y=n;return t};a.phi1z=function(t,s){var a,h,e,r,o;var l=n(.5*s);if(t<i){return l}var c=t*t;for(var m=1;m<=25;m++){a=Math.sin(l);h=Math.cos(l);e=t*a;r=1-e*e;o=.5*r*r/h*(s/(1-c)-a/r+.5/t*Math.log((1-e)/(1+e)));l=l+o;if(Math.abs(o)<=1e-7){return l}}return null};a.names=["Albers_Conic_Equal_Area","Albers","aea"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/msfnz":15,"../common/qsfnz":20}],41:[function(t,s,a){var i=t("../common/adjust_lon");var h=Math.PI/2;var e=1e-10;var r=t("../common/mlfn");var n=t("../common/e0fn");var o=t("../common/e1fn");var l=t("../common/e2fn");var c=t("../common/e3fn");var m=t("../common/gN");var f=t("../common/asinz");var u=t("../common/imlfn");a.init=function(){this.sin_p12=Math.sin(this.lat0);this.cos_p12=Math.cos(this.lat0)};a.forward=function(t){var s=t.x;var a=t.y;var f=Math.sin(t.y);var u=Math.cos(t.y);var v=i(s-this.long0);var M,p,d,_,y,g,x,b,j,w,P,C,k,N,S,q,I,E,z,A,O,G,L;if(this.sphere){if(Math.abs(this.sin_p12-1)<=e){t.x=this.x0+this.a*(h-a)*Math.sin(v);t.y=this.y0-this.a*(h-a)*Math.cos(v);return t}else if(Math.abs(this.sin_p12+1)<=e){t.x=this.x0+this.a*(h+a)*Math.sin(v);t.y=this.y0+this.a*(h+a)*Math.cos(v);return t}else{E=this.sin_p12*f+this.cos_p12*u*Math.cos(v);q=Math.acos(E);I=q/Math.sin(q);t.x=this.x0+this.a*I*u*Math.sin(v);t.y=this.y0+this.a*I*(this.cos_p12*f-this.sin_p12*u*Math.cos(v));return t}}else{M=n(this.es);p=o(this.es);d=l(this.es);_=c(this.es);if(Math.abs(this.sin_p12-1)<=e){y=this.a*r(M,p,d,_,h);g=this.a*r(M,p,d,_,a);t.x=this.x0+(y-g)*Math.sin(v);t.y=this.y0-(y-g)*Math.cos(v);return t}else if(Math.abs(this.sin_p12+1)<=e){y=this.a*r(M,p,d,_,h);g=this.a*r(M,p,d,_,a);t.x=this.x0+(y+g)*Math.sin(v);t.y=this.y0+(y+g)*Math.cos(v);return t}else{x=f/u;b=m(this.a,this.e,this.sin_p12);j=m(this.a,this.e,f);w=Math.atan((1-this.es)*x+this.es*b*this.sin_p12/(j*u));P=Math.atan2(Math.sin(v),this.cos_p12*Math.tan(w)-this.sin_p12*Math.cos(v));if(P===0){z=Math.asin(this.cos_p12*Math.sin(w)-this.sin_p12*Math.cos(w))}else if(Math.abs(Math.abs(P)-Math.PI)<=e){z=-Math.asin(this.cos_p12*Math.sin(w)-this.sin_p12*Math.cos(w))}else{z=Math.asin(Math.sin(v)*Math.cos(w)/Math.sin(P))}C=this.e*this.sin_p12/Math.sqrt(1-this.es);k=this.e*this.cos_p12*Math.cos(P)/Math.sqrt(1-this.es);N=C*k;S=k*k;A=z*z;O=A*z;G=O*z;L=G*z;q=b*z*(1-A*S*(1-S)/6+O/8*N*(1-2*S)+G/120*(S*(4-7*S)-3*C*C*(1-7*S))-L/48*N);t.x=this.x0+q*Math.sin(P);t.y=this.y0+q*Math.cos(P);return t}}};a.inverse=function(t){t.x-=this.x0;t.y-=this.y0;var s,a,v,M,p,d,_,y,g,x,b,j,w,P,C,k,N,S,q,I,E,z,A;if(this.sphere){s=Math.sqrt(t.x*t.x+t.y*t.y);if(s>2*h*this.a){return}a=s/this.a;v=Math.sin(a);M=Math.cos(a);p=this.long0;if(Math.abs(s)<=e){d=this.lat0}else{d=f(M*this.sin_p12+t.y*v*this.cos_p12/s);_=Math.abs(this.lat0)-h;if(Math.abs(_)<=e){if(this.lat0>=0){p=i(this.long0+Math.atan2(t.x,-t.y))}else{p=i(this.long0-Math.atan2(-t.x,t.y))}}else{p=i(this.long0+Math.atan2(t.x*v,s*this.cos_p12*M-t.y*this.sin_p12*v))}}t.x=p;t.y=d;return t}else{y=n(this.es);g=o(this.es);x=l(this.es);b=c(this.es);if(Math.abs(this.sin_p12-1)<=e){j=this.a*r(y,g,x,b,h);s=Math.sqrt(t.x*t.x+t.y*t.y);w=j-s;d=u(w/this.a,y,g,x,b);p=i(this.long0+Math.atan2(t.x,-1*t.y));t.x=p;t.y=d;return t}else if(Math.abs(this.sin_p12+1)<=e){j=this.a*r(y,g,x,b,h);s=Math.sqrt(t.x*t.x+t.y*t.y);w=s-j;d=u(w/this.a,y,g,x,b);p=i(this.long0+Math.atan2(t.x,t.y));t.x=p;t.y=d;return t}else{s=Math.sqrt(t.x*t.x+t.y*t.y);k=Math.atan2(t.x,t.y);P=m(this.a,this.e,this.sin_p12);N=Math.cos(k);S=this.e*this.cos_p12*N;q=-S*S/(1-this.es);I=3*this.es*(1-q)*this.sin_p12*this.cos_p12*N/(1-this.es);E=s/P;z=E-q*(1+q)*Math.pow(E,3)/6-I*(1+3*q)*Math.pow(E,4)/24;A=1-q*z*z/2-E*z*z*z/6;C=Math.asin(this.sin_p12*Math.cos(z)+this.cos_p12*Math.sin(z)*N);p=i(this.long0+Math.asin(Math.sin(k)*Math.sin(z)/Math.cos(C)));d=Math.atan((1-this.es*A*this.sin_p12/Math.sin(C))*Math.tan(C)/(1-this.es));t.x=p;t.y=d;return t}}};a.names=["Azimuthal_Equidistant","aeqd"]},{"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],42:[function(t,s,a){var i=t("../common/mlfn");var h=t("../common/e0fn");var e=t("../common/e1fn");var r=t("../common/e2fn");var n=t("../common/e3fn");var o=t("../common/gN");var l=t("../common/adjust_lon");var c=t("../common/adjust_lat");var m=t("../common/imlfn");var f=Math.PI/2;var u=1e-10;a.init=function(){if(!this.sphere){this.e0=h(this.es);this.e1=e(this.es);this.e2=r(this.es);this.e3=n(this.es);this.ml0=this.a*i(this.e0,this.e1,this.e2,this.e3,this.lat0)}};a.forward=function(t){var s,a;var h=t.x;var e=t.y;h=l(h-this.long0);if(this.sphere){s=this.a*Math.asin(Math.cos(e)*Math.sin(h));a=this.a*(Math.atan2(Math.tan(e),Math.cos(h))-this.lat0)}else{var r=Math.sin(e);var n=Math.cos(e);var c=o(this.a,this.e,r);var m=Math.tan(e)*Math.tan(e);var f=h*Math.cos(e);var u=f*f;var v=this.es*n*n/(1-this.es);var M=this.a*i(this.e0,this.e1,this.e2,this.e3,e);s=c*f*(1-u*m*(1/6-(8-m+8*v)*u/120));a=M-this.ml0+c*r/n*u*(.5+(5-m+6*v)*u/24)}t.x=s+this.x0;t.y=a+this.y0;return t};a.inverse=function(t){t.x-=this.x0;t.y-=this.y0;var s=t.x/this.a;var a=t.y/this.a;var i,h;if(this.sphere){var e=a+this.lat0;i=Math.asin(Math.sin(e)*Math.cos(s));h=Math.atan2(Math.tan(s),Math.cos(e))}else{var r=this.ml0/this.a+a;var n=m(r,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(n)-f)<=u){t.x=this.long0;t.y=f;if(a<0){t.y*=-1}return t}var v=o(this.a,this.e,Math.sin(n));var M=v*v*v/this.a/this.a*(1-this.es);var p=Math.pow(Math.tan(n),2);var d=s*this.a/v;var _=d*d;i=n-v*Math.tan(n)/M*d*d*(.5-(1+3*p)*d*d/24);h=d*(1-_*(p/3+(1+3*p)*p*_/15))/Math.cos(n)}t.x=l(h+this.long0);t.y=c(i);return t};a.names=["Cassini","Cassini_Soldner","cass"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/imlfn":12,"../common/mlfn":14}],43:[function(t,s,a){var i=t("../common/adjust_lon");var h=t("../common/qsfnz");var e=t("../common/msfnz");var r=t("../common/iqsfnz");a.init=function(){if(!this.sphere){this.k0=e(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))}};a.forward=function(t){var s=t.x;var a=t.y;var e,r;var n=i(s-this.long0);if(this.sphere){e=this.x0+this.a*n*Math.cos(this.lat_ts);r=this.y0+this.a*Math.sin(a)/Math.cos(this.lat_ts)}else{var o=h(this.e,Math.sin(a));e=this.x0+this.a*this.k0*n;r=this.y0+this.a*o*.5/this.k0}t.x=e;t.y=r;return t};a.inverse=function(t){t.x-=this.x0;t.y-=this.y0;var s,a;if(this.sphere){s=i(this.long0+t.x/this.a/Math.cos(this.lat_ts));a=Math.asin(t.y/this.a*Math.cos(this.lat_ts))}else{a=r(this.e,2*t.y*this.k0/this.a);s=i(this.long0+t.x/(this.a*this.k0))}t.x=s;t.y=a;return t};a.names=["cea"]},{"../common/adjust_lon":5,"../common/iqsfnz":13,"../common/msfnz":15,"../common/qsfnz":20}],44:[function(t,s,a){var i=t("../common/adjust_lon");var h=t("../common/adjust_lat");a.init=function(){this.x0=this.x0||0;this.y0=this.y0||0;this.lat0=this.lat0||0;this.long0=this.long0||0;this.lat_ts=this.lat_ts||0;this.title=this.title||"Equidistant Cylindrical (Plate Carre)";this.rc=Math.cos(this.lat_ts)};a.forward=function(t){var s=t.x;var a=t.y;var e=i(s-this.long0);var r=h(a-this.lat0);t.x=this.x0+this.a*e*this.rc;t.y=this.y0+this.a*r;return t};a.inverse=function(t){var s=t.x;var a=t.y;t.x=i(this.long0+(s-this.x0)/(this.a*this.rc));t.y=h(this.lat0+(a-this.y0)/this.a);return t};a.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5}],45:[function(t,s,a){var i=t("../common/e0fn");var h=t("../common/e1fn");var e=t("../common/e2fn");var r=t("../common/e3fn");var n=t("../common/msfnz");var o=t("../common/mlfn");var l=t("../common/adjust_lon");var c=t("../common/adjust_lat");var m=t("../common/imlfn");var f=1e-10;a.init=function(){if(Math.abs(this.lat1+this.lat2)<f){return}this.lat2=this.lat2||this.lat1;this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e=Math.sqrt(this.es);this.e0=i(this.es);this.e1=h(this.es);this.e2=e(this.es);this.e3=r(this.es);this.sinphi=Math.sin(this.lat1);this.cosphi=Math.cos(this.lat1);this.ms1=n(this.e,this.sinphi,this.cosphi);

this.ml1=o(this.e0,this.e1,this.e2,this.e3,this.lat1);if(Math.abs(this.lat1-this.lat2)<f){this.ns=this.sinphi}else{this.sinphi=Math.sin(this.lat2);this.cosphi=Math.cos(this.lat2);this.ms2=n(this.e,this.sinphi,this.cosphi);this.ml2=o(this.e0,this.e1,this.e2,this.e3,this.lat2);this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)}this.g=this.ml1+this.ms1/this.ns;this.ml0=o(this.e0,this.e1,this.e2,this.e3,this.lat0);this.rh=this.a*(this.g-this.ml0)};a.forward=function(t){var s=t.x;var a=t.y;var i;if(this.sphere){i=this.a*(this.g-a)}else{var h=o(this.e0,this.e1,this.e2,this.e3,a);i=this.a*(this.g-h)}var e=this.ns*l(s-this.long0);var r=this.x0+i*Math.sin(e);var n=this.y0+this.rh-i*Math.cos(e);t.x=r;t.y=n;return t};a.inverse=function(t){t.x-=this.x0;t.y=this.rh-t.y+this.y0;var s,a,i,h;if(this.ns>=0){a=Math.sqrt(t.x*t.x+t.y*t.y);s=1}else{a=-Math.sqrt(t.x*t.x+t.y*t.y);s=-1}var e=0;if(a!==0){e=Math.atan2(s*t.x,s*t.y)}if(this.sphere){h=l(this.long0+e/this.ns);i=c(this.g-a/this.a);t.x=h;t.y=i;return t}else{var r=this.g-a/this.a;i=m(r,this.e0,this.e1,this.e2,this.e3);h=l(this.long0+e/this.ns);t.x=h;t.y=i;return t}};a.names=["Equidistant_Conic","eqdc"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/imlfn":12,"../common/mlfn":14,"../common/msfnz":15}],46:[function(t,s,a){var i=Math.PI/4;var h=t("../common/srat");var e=Math.PI/2;var r=20;a.init=function(){var t=Math.sin(this.lat0);var s=Math.cos(this.lat0);s*=s;this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t);this.C=Math.sqrt(1+this.es*s*s/(1-this.es));this.phic0=Math.asin(t/this.C);this.ratexp=.5*this.C*this.e;this.K=Math.tan(.5*this.phic0+i)/(Math.pow(Math.tan(.5*this.lat0+i),this.C)*h(this.e*t,this.ratexp))};a.forward=function(t){var s=t.x;var a=t.y;t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*a+i),this.C)*h(this.e*Math.sin(a),this.ratexp))-e;t.x=this.C*s;return t};a.inverse=function(t){var s=1e-14;var a=t.x/this.C;var n=t.y;var o=Math.pow(Math.tan(.5*n+i)/this.K,1/this.C);for(var l=r;l>0;--l){n=2*Math.atan(o*h(this.e*Math.sin(t.y),-.5*this.e))-e;if(Math.abs(n-t.y)<s){break}t.y=n}if(!l){return null}t.x=a;t.y=n;return t};a.names=["gauss"]},{"../common/srat":22}],47:[function(t,s,a){var i=t("../common/adjust_lon");var h=1e-10;var e=t("../common/asinz");a.init=function(){this.sin_p14=Math.sin(this.lat0);this.cos_p14=Math.cos(this.lat0);this.infinity_dist=1e3*this.a;this.rc=1};a.forward=function(t){var s,a;var e;var r;var n;var o;var l,c;var m=t.x;var f=t.y;e=i(m-this.long0);s=Math.sin(f);a=Math.cos(f);r=Math.cos(e);o=this.sin_p14*s+this.cos_p14*a*r;n=1;if(o>0||Math.abs(o)<=h){l=this.x0+this.a*n*a*Math.sin(e)/o;c=this.y0+this.a*n*(this.cos_p14*s-this.sin_p14*a*r)/o}else{l=this.x0+this.infinity_dist*a*Math.sin(e);c=this.y0+this.infinity_dist*(this.cos_p14*s-this.sin_p14*a*r)}t.x=l;t.y=c;return t};a.inverse=function(t){var s;var a,h;var r;var n,o;t.x=(t.x-this.x0)/this.a;t.y=(t.y-this.y0)/this.a;t.x/=this.k0;t.y/=this.k0;if(s=Math.sqrt(t.x*t.x+t.y*t.y)){r=Math.atan2(s,this.rc);a=Math.sin(r);h=Math.cos(r);o=e(h*this.sin_p14+t.y*a*this.cos_p14/s);n=Math.atan2(t.x*a,s*this.cos_p14*h-t.y*this.sin_p14*a);n=i(this.long0+n)}else{o=this.phic0;n=0}t.x=n;t.y=o;return t};a.names=["gnom"]},{"../common/adjust_lon":5,"../common/asinz":6}],48:[function(t,s,a){var i=t("../common/adjust_lon");a.init=function(){this.a=6377397.155;this.es=.006674372230614;this.e=Math.sqrt(this.es);if(!this.lat0){this.lat0=.863937979737193}if(!this.long0){this.long0=.7417649320975901-.308341501185665}if(!this.k0){this.k0=.9999}this.s45=.785398163397448;this.s90=2*this.s45;this.fi0=this.lat0;this.e2=this.es;this.e=Math.sqrt(this.e2);this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2));this.uq=1.04216856380474;this.u0=Math.asin(Math.sin(this.fi0)/this.alfa);this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2);this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g;this.k1=this.k0;this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2));this.s0=1.37008346281555;this.n=Math.sin(this.s0);this.ro0=this.k1*this.n0/Math.tan(this.s0);this.ad=this.s90-this.uq};a.forward=function(t){var s,a,h,e,r,n,o;var l=t.x;var c=t.y;var m=i(l-this.long0);s=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2);a=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/s)-this.s45);h=-m*this.alfa;e=Math.asin(Math.cos(this.ad)*Math.sin(a)+Math.sin(this.ad)*Math.cos(a)*Math.cos(h));r=Math.asin(Math.cos(a)*Math.sin(h)/Math.cos(e));n=this.n*r;o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(e/2+this.s45),this.n);t.y=o*Math.cos(n)/1;t.x=o*Math.sin(n)/1;if(!this.czech){t.y*=-1;t.x*=-1}return t};a.inverse=function(t){var s,a,i,h,e,r,n;var o;var l=t.x;t.x=t.y;t.y=l;if(!this.czech){t.y*=-1;t.x*=-1}r=Math.sqrt(t.x*t.x+t.y*t.y);e=Math.atan2(t.y,t.x);h=e/Math.sin(this.s0);i=2*(Math.atan(Math.pow(this.ro0/r,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45);s=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(h));a=Math.asin(Math.cos(i)*Math.sin(h)/Math.cos(s));t.x=this.long0-a/this.alfa;n=s;o=0;var c=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(s/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(n))/(1-this.e*Math.sin(n)),this.e/2))-this.s45);if(Math.abs(n-t.y)<1e-10){o=1}n=t.y;c+=1}while(o===0&&c<15);if(c>=15){return null}return t};a.names=["Krovak","krovak"]},{"../common/adjust_lon":5}],49:[function(t,s,a){var i=Math.PI/2;var h=Math.PI/4;var e=1e-10;var r=t("../common/qsfnz");var n=t("../common/adjust_lon");a.S_POLE=1;a.N_POLE=2;a.EQUIT=3;a.OBLIQ=4;a.init=function(){var t=Math.abs(this.lat0);if(Math.abs(t-i)<e){this.mode=this.lat0<0?this.S_POLE:this.N_POLE}else if(Math.abs(t)<e){this.mode=this.EQUIT}else{this.mode=this.OBLIQ}if(this.es>0){var s;this.qp=r(this.e,1);this.mmf=.5/(1-this.es);this.apa=this.authset(this.es);switch(this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp);this.dd=1/this.rq;this.xmf=1;this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp);s=Math.sin(this.lat0);this.sinb1=r(this.e,s)/this.qp;this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1);this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*s*s)*this.rq*this.cosb1);this.ymf=(this.xmf=this.rq)/this.dd;this.xmf*=this.dd;break}}else{if(this.mode===this.OBLIQ){this.sinph0=Math.sin(this.lat0);this.cosph0=Math.cos(this.lat0)}}};a.forward=function(t){var s,a,o,l,c,m,f,u,v,M;var p=t.x;var d=t.y;p=n(p-this.long0);if(this.sphere){c=Math.sin(d);M=Math.cos(d);o=Math.cos(p);if(this.mode===this.OBLIQ||this.mode===this.EQUIT){a=this.mode===this.EQUIT?1+M*o:1+this.sinph0*c+this.cosph0*M*o;if(a<=e){return null}a=Math.sqrt(2/a);s=a*M*Math.sin(p);a*=this.mode===this.EQUIT?c:this.cosph0*c-this.sinph0*M*o}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE){o=-o}if(Math.abs(d+this.phi0)<e){return null}a=h-d*.5;a=2*(this.mode===this.S_POLE?Math.cos(a):Math.sin(a));s=a*Math.sin(p);a*=o}}else{f=0;u=0;v=0;o=Math.cos(p);l=Math.sin(p);c=Math.sin(d);m=r(this.e,c);if(this.mode===this.OBLIQ||this.mode===this.EQUIT){f=m/this.qp;u=Math.sqrt(1-f*f)}switch(this.mode){case this.OBLIQ:v=1+this.sinb1*f+this.cosb1*u*o;break;case this.EQUIT:v=1+u*o;break;case this.N_POLE:v=i+d;m=this.qp-m;break;case this.S_POLE:v=d-i;m=this.qp+m;break}if(Math.abs(v)<e){return null}switch(this.mode){case this.OBLIQ:case this.EQUIT:v=Math.sqrt(2/v);if(this.mode===this.OBLIQ){a=this.ymf*v*(this.cosb1*f-this.sinb1*u*o)}else{a=(v=Math.sqrt(2/(1+u*o)))*f*this.ymf}s=this.xmf*v*u*l;break;case this.N_POLE:case this.S_POLE:if(m>=0){s=(v=Math.sqrt(m))*l;a=o*(this.mode===this.S_POLE?v:-v)}else{s=a=0}break}}t.x=this.a*s+this.x0;t.y=this.a*a+this.y0;return t};a.inverse=function(t){t.x-=this.x0;t.y-=this.y0;var s=t.x/this.a;var a=t.y/this.a;var h,r,o,l,c,m,f;if(this.sphere){var u=0,v,M=0;v=Math.sqrt(s*s+a*a);r=v*.5;if(r>1){return null}r=2*Math.asin(r);if(this.mode===this.OBLIQ||this.mode===this.EQUIT){M=Math.sin(r);u=Math.cos(r)}switch(this.mode){case this.EQUIT:r=Math.abs(v)<=e?0:Math.asin(a*M/v);s*=M;a=u*v;break;case this.OBLIQ:r=Math.abs(v)<=e?this.phi0:Math.asin(u*this.sinph0+a*M*this.cosph0/v);s*=M*this.cosph0;a=(u-Math.sin(r)*this.sinph0)*v;break;case this.N_POLE:a=-a;r=i-r;break;case this.S_POLE:r-=i;break}h=a===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(s,a)}else{f=0;if(this.mode===this.OBLIQ||this.mode===this.EQUIT){s/=this.dd;a*=this.dd;m=Math.sqrt(s*s+a*a);if(m<e){t.x=0;t.y=this.phi0;return t}l=2*Math.asin(.5*m/this.rq);o=Math.cos(l);s*=l=Math.sin(l);if(this.mode===this.OBLIQ){f=o*this.sinb1+a*l*this.cosb1/m;c=this.qp*f;a=m*this.cosb1*o-a*this.sinb1*l}else{f=a*l/m;c=this.qp*f;a=m*o}}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE){a=-a}c=s*s+a*a;if(!c){t.x=0;t.y=this.phi0;return t}f=1-c/this.qp;if(this.mode===this.S_POLE){f=-f}}h=Math.atan2(s,a);r=this.authlat(Math.asin(f),this.apa)}t.x=n(this.long0+h);t.y=r;return t};a.P00=.3333333333333333;a.P01=.17222222222222222;a.P02=.10257936507936508;a.P10=.06388888888888888;a.P11=.0664021164021164;a.P20=.016415012942191543;a.authset=function(t){var s;var a=[];a[0]=t*this.P00;s=t*t;a[0]+=s*this.P01;a[1]=s*this.P10;s*=t;a[0]+=s*this.P02;a[1]+=s*this.P11;a[2]=s*this.P20;return a};a.authlat=function(t,s){var a=t+t;return t+s[0]*Math.sin(a)+s[1]*Math.sin(a+a)+s[2]*Math.sin(a+a+a)};a.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},{"../common/adjust_lon":5,"../common/qsfnz":20}],50:[function(t,s,a){var i=1e-10;var h=t("../common/msfnz");var e=t("../common/tsfnz");var r=Math.PI/2;var n=t("../common/sign");var o=t("../common/adjust_lon");var l=t("../common/phi2z");a.init=function(){if(!this.lat2){this.lat2=this.lat1}if(!this.k0){this.k0=1}this.x0=this.x0||0;this.y0=this.y0||0;if(Math.abs(this.lat1+this.lat2)<i){return}var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var s=Math.sin(this.lat1);var a=Math.cos(this.lat1);var r=h(this.e,s,a);var n=e(this.e,this.lat1,s);var o=Math.sin(this.lat2);var l=Math.cos(this.lat2);var c=h(this.e,o,l);var m=e(this.e,this.lat2,o);var f=e(this.e,this.lat0,Math.sin(this.lat0));if(Math.abs(this.lat1-this.lat2)>i){this.ns=Math.log(r/c)/Math.log(n/m)}else{this.ns=s}if(isNaN(this.ns)){this.ns=s}this.f0=r/(this.ns*Math.pow(n,this.ns));this.rh=this.a*this.f0*Math.pow(f,this.ns);if(!this.title){this.title="Lambert Conformal Conic"}};a.forward=function(t){var s=t.x;var a=t.y;if(Math.abs(2*Math.abs(a)-Math.PI)<=i){a=n(a)*(r-2*i)}var h=Math.abs(Math.abs(a)-r);var l,c;if(h>i){l=e(this.e,a,Math.sin(a));c=this.a*this.f0*Math.pow(l,this.ns)}else{h=a*this.ns;if(h<=0){return null}c=0}var m=this.ns*o(s-this.long0);t.x=this.k0*(c*Math.sin(m))+this.x0;t.y=this.k0*(this.rh-c*Math.cos(m))+this.y0;return t};a.inverse=function(t){var s,a,i;var h,e;var n=(t.x-this.x0)/this.k0;var c=this.rh-(t.y-this.y0)/this.k0;if(this.ns>0){s=Math.sqrt(n*n+c*c);a=1}else{s=-Math.sqrt(n*n+c*c);a=-1}var m=0;if(s!==0){m=Math.atan2(a*n,a*c)}if(s!==0||this.ns>0){a=1/this.ns;i=Math.pow(s/(this.a*this.f0),a);h=l(this.e,i);if(h===-9999){return null}}else{h=-r}e=o(m/this.ns+this.long0);t.x=e;t.y=h;return t};a.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],51:[function(t,s,a){a.init=function(){};function i(t){return t}a.forward=i;a.inverse=i;a.names=["longlat","identity"]},{}],52:[function(t,s,a){var i=t("../common/msfnz");var h=Math.PI/2;var e=1e-10;var r=57.29577951308232;var n=t("../common/adjust_lon");var o=Math.PI/4;var l=t("../common/tsfnz");var c=t("../common/phi2z");a.init=function(){var t=this.b/this.a;this.es=1-t*t;if(!("x0"in this)){this.x0=0}if(!("y0"in this)){this.y0=0}this.e=Math.sqrt(this.es);if(this.lat_ts){if(this.sphere){this.k0=Math.cos(this.lat_ts)}else{this.k0=i(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))}}else{if(!this.k0){if(this.k){this.k0=this.k}else{this.k0=1}}}};a.forward=function(t){var s=t.x;var a=t.y;if(a*r>90&&a*r<-90&&s*r>180&&s*r<-180){return null}var i,c;if(Math.abs(Math.abs(a)-h)<=e){return null}else{if(this.sphere){i=this.x0+this.a*this.k0*n(s-this.long0);c=this.y0+this.a*this.k0*Math.log(Math.tan(o+.5*a))}else{var m=Math.sin(a);var f=l(this.e,a,m);i=this.x0+this.a*this.k0*n(s-this.long0);c=this.y0-this.a*this.k0*Math.log(f)}t.x=i;t.y=c;return t}};a.inverse=function(t){var s=t.x-this.x0;var a=t.y-this.y0;var i,e;if(this.sphere){e=h-2*Math.atan(Math.exp(-a/(this.a*this.k0)))}else{var r=Math.exp(-a/(this.a*this.k0));e=c(this.e,r);if(e===-9999){return null}}i=n(this.long0+s/(this.a*this.k0));t.x=i;t.y=e;return t};a.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/tsfnz":24}],53:[function(t,s,a){var i=t("../common/adjust_lon");a.init=function(){};a.forward=function(t){var s=t.x;var a=t.y;var h=i(s-this.long0);var e=this.x0+this.a*h;var r=this.y0+this.a*Math.log(Math.tan(Math.PI/4+a/2.5))*1.25;t.x=e;t.y=r;return t};a.inverse=function(t){t.x-=this.x0;t.y-=this.y0;var s=i(this.long0+t.x/this.a);var a=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);t.x=s;t.y=a;return t};a.names=["Miller_Cylindrical","mill"]},{"../common/adjust_lon":5}],54:[function(t,s,a){var i=t("../common/adjust_lon");var h=1e-10;a.init=function(){};a.forward=function(t){var s=t.x;var a=t.y;var e=i(s-this.long0);var r=a;var n=Math.PI*Math.sin(a);for(var o=0;true;o++){var l=-(r+Math.sin(r)-n)/(1+Math.cos(r));r+=l;if(Math.abs(l)<h){break}}r/=2;if(Math.PI/2-Math.abs(a)<h){e=0}var c=.900316316158*this.a*e*Math.cos(r)+this.x0;var m=1.4142135623731*this.a*Math.sin(r)+this.y0;t.x=c;t.y=m;return t};a.inverse=function(t){var s;var a;t.x-=this.x0;t.y-=this.y0;a=t.y/(1.4142135623731*this.a);if(Math.abs(a)>.999999999999){a=.999999999999}s=Math.asin(a);var h=i(this.long0+t.x/(.900316316158*this.a*Math.cos(s)));if(h<-Math.PI){h=-Math.PI}if(h>Math.PI){h=Math.PI}a=(2*s+Math.sin(2*s))/Math.PI;if(Math.abs(a)>1){a=1}var e=Math.asin(a);t.x=h;t.y=e;return t};a.names=["Mollweide","moll"]},{"../common/adjust_lon":5}],55:[function(t,s,a){var i=484813681109536e-20;a.iterations=1;a.init=function(){this.A=[];this.A[1]=.6399175073;this.A[2]=-.1358797613;this.A[3]=.063294409;this.A[4]=-.02526853;this.A[5]=.0117879;this.A[6]=-.0055161;this.A[7]=.0026906;this.A[8]=-.001333;this.A[9]=67e-5;this.A[10]=-34e-5;this.B_re=[];this.B_im=[];this.B_re[1]=.7557853228;this.B_im[1]=0;this.B_re[2]=.249204646;this.B_im[2]=.003371507;this.B_re[3]=-.001541739;this.B_im[3]=.04105856;this.B_re[4]=-.10162907;this.B_im[4]=.01727609;this.B_re[5]=-.26623489;this.B_im[5]=-.36249218;this.B_re[6]=-.6870983;this.B_im[6]=-1.1651967;this.C_re=[];this.C_im=[];this.C_re[1]=1.3231270439;this.C_im[1]=0;this.C_re[2]=-.577245789;this.C_im[2]=-.007809598;this.C_re[3]=.508307513;this.C_im[3]=-.112208952;this.C_re[4]=-.15094762;this.C_im[4]=.18200602;this.C_re[5]=1.01418179;this.C_im[5]=1.64497696;this.C_re[6]=1.9660549;this.C_im[6]=2.5127645;this.D=[];this.D[1]=1.5627014243;this.D[2]=.5185406398;this.D[3]=-.03333098;this.D[4]=-.1052906;this.D[5]=-.0368594;this.D[6]=.007317;this.D[7]=.0122;this.D[8]=.00394;this.D[9]=-.0013};a.forward=function(t){var s;var a=t.x;var h=t.y;var e=h-this.lat0;var r=a-this.long0;var n=e/i*1e-5;var o=r;var l=1;var c=0;for(s=1;s<=10;s++){l=l*n;c=c+this.A[s]*l}var m=c;var f=o;var u=1;var v=0;var M;var p;var d=0;var _=0;for(s=1;s<=6;s++){M=u*m-v*f;p=v*m+u*f;u=M;v=p;d=d+this.B_re[s]*u-this.B_im[s]*v;_=_+this.B_im[s]*u+this.B_re[s]*v}t.x=_*this.a+this.x0;t.y=d*this.a+this.y0;return t};a.inverse=function(t){var s;var a=t.x;var h=t.y;var e=a-this.x0;var r=h-this.y0;var n=r/this.a;var o=e/this.a;var l=1;var c=0;var m;var f;var u=0;var v=0;for(s=1;s<=6;s++){m=l*n-c*o;f=c*n+l*o;l=m;c=f;u=u+this.C_re[s]*l-this.C_im[s]*c;v=v+this.C_im[s]*l+this.C_re[s]*c}for(var M=0;M<this.iterations;M++){var p=u;var d=v;var _;var y;var g=n;var x=o;for(s=2;s<=6;s++){_=p*u-d*v;y=d*u+p*v;p=_;d=y;g=g+(s-1)*(this.B_re[s]*p-this.B_im[s]*d);x=x+(s-1)*(this.B_im[s]*p+this.B_re[s]*d)}p=1;d=0;var b=this.B_re[1];var j=this.B_im[1];for(s=2;s<=6;s++){_=p*u-d*v;y=d*u+p*v;p=_;d=y;b=b+s*(this.B_re[s]*p-this.B_im[s]*d);j=j+s*(this.B_im[s]*p+this.B_re[s]*d)}var w=b*b+j*j;u=(g*b+x*j)/w;v=(x*b-g*j)/w}var P=u;var C=v;var k=1;var N=0;for(s=1;s<=9;s++){k=k*P;N=N+this.D[s]*k}var S=this.lat0+N*i*1e5;var q=this.long0+C;t.x=q;t.y=S;return t};a.names=["New_Zealand_Map_Grid","nzmg"]},{}],56:[function(t,s,a){var i=t("../common/tsfnz");var h=t("../common/adjust_lon");var e=t("../common/phi2z");var r=Math.PI/2;var n=Math.PI/4;var o=1e-10;a.init=function(){this.no_off=this.no_off||false;this.no_rot=this.no_rot||false;if(isNaN(this.k0)){this.k0=1}var t=Math.sin(this.lat0);var s=Math.cos(this.lat0);var a=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(s,4));this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-a*a);var e=i(this.e,this.lat0,t);var r=this.bl/s*Math.sqrt((1-this.es)/(1-a*a));if(r*r<1){r=1}var n;var o;if(!isNaN(this.longc)){if(this.lat0>=0){n=r+Math.sqrt(r*r-1)}else{n=r-Math.sqrt(r*r-1)}this.el=n*Math.pow(e,this.bl);o=.5*(n-1/n);this.gamma0=Math.asin(Math.sin(this.alpha)/r);this.long0=this.longc-Math.asin(o*Math.tan(this.gamma0))/this.bl}else{var l=i(this.e,this.lat1,Math.sin(this.lat1));var c=i(this.e,this.lat2,Math.sin(this.lat2));if(this.lat0>=0){this.el=(r+Math.sqrt(r*r-1))*Math.pow(e,this.bl)}else{this.el=(r-Math.sqrt(r*r-1))*Math.pow(e,this.bl)}var m=Math.pow(l,this.bl);var f=Math.pow(c,this.bl);n=this.el/m;o=.5*(n-1/n);var u=(this.el*this.el-f*m)/(this.el*this.el+f*m);var v=(f-m)/(f+m);var M=h(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(u*Math.tan(.5*this.bl*M)/v)/this.bl;this.long0=h(this.long0);var p=h(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*p)/o);this.alpha=Math.asin(r*Math.sin(this.gamma0))}if(this.no_off){this.uc=0}else{if(this.lat0>=0){this.uc=this.al/this.bl*Math.atan2(Math.sqrt(r*r-1),Math.cos(this.alpha))}else{this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(r*r-1),Math.cos(this.alpha))}}};a.forward=function(t){var s=t.x;var a=t.y;var e=h(s-this.long0);var l,c;var m;if(Math.abs(Math.abs(a)-r)<=o){if(a>0){m=-1}else{m=1}c=this.al/this.bl*Math.log(Math.tan(n+m*this.gamma0*.5));l=-1*m*r*this.al/this.bl}else{var f=i(this.e,a,Math.sin(a));var u=this.el/Math.pow(f,this.bl);var v=.5*(u-1/u);var M=.5*(u+1/u);var p=Math.sin(this.bl*e);var d=(v*Math.sin(this.gamma0)-p*Math.cos(this.gamma0))/M;if(Math.abs(Math.abs(d)-1)<=o){c=Number.POSITIVE_INFINITY}else{c=.5*this.al*Math.log((1-d)/(1+d))/this.bl}if(Math.abs(Math.cos(this.bl*e))<=o){l=this.al*this.bl*e}else{l=this.al*Math.atan2(v*Math.cos(this.gamma0)+p*Math.sin(this.gamma0),Math.cos(this.bl*e))/this.bl}}if(this.no_rot){t.x=this.x0+l;t.y=this.y0+c}else{l-=this.uc;t.x=this.x0+c*Math.cos(this.alpha)+l*Math.sin(this.alpha);t.y=this.y0+l*Math.cos(this.alpha)-c*Math.sin(this.alpha)}return t};a.inverse=function(t){var s,a;if(this.no_rot){a=t.y-this.y0;s=t.x-this.x0}else{a=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha);s=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha);s+=this.uc}var i=Math.exp(-1*this.bl*a/this.al);var n=.5*(i-1/i);var l=.5*(i+1/i);var c=Math.sin(this.bl*s/this.al);var m=(c*Math.cos(this.gamma0)+n*Math.sin(this.gamma0))/l;var f=Math.pow(this.el/Math.sqrt((1+m)/(1-m)),1/this.bl);if(Math.abs(m-1)<o){t.x=this.long0;t.y=r}else if(Math.abs(m+1)<o){t.x=this.long0;t.y=-1*r}else{t.y=e(this.e,f);t.x=h(this.long0-Math.atan2(n*Math.cos(this.gamma0)-c*Math.sin(this.gamma0),Math.cos(this.bl*s/this.al))/this.bl)}return t};a.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},{"../common/adjust_lon":5,"../common/phi2z":16,"../common/tsfnz":24}],57:[function(t,s,a){var i=t("../common/e0fn");var h=t("../common/e1fn");var e=t("../common/e2fn");var r=t("../common/e3fn");var n=t("../common/adjust_lon");var o=t("../common/adjust_lat");var l=t("../common/mlfn");var c=1e-10;var m=t("../common/gN");var f=20;a.init=function(){this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e=Math.sqrt(this.es);this.e0=i(this.es);this.e1=h(this.es);this.e2=e(this.es);this.e3=r(this.es);this.ml0=this.a*l(this.e0,this.e1,this.e2,this.e3,this.lat0)};a.forward=function(t){var s=t.x;var a=t.y;var i,h,e;var r=n(s-this.long0);e=r*Math.sin(a);if(this.sphere){if(Math.abs(a)<=c){i=this.a*r;h=-1*this.a*this.lat0}else{i=this.a*Math.sin(e)/Math.tan(a);h=this.a*(o(a-this.lat0)+(1-Math.cos(e))/Math.tan(a))}}else{if(Math.abs(a)<=c){i=this.a*r;h=-1*this.ml0}else{var f=m(this.a,this.e,Math.sin(a))/Math.tan(a);i=f*Math.sin(e);h=this.a*l(this.e0,this.e1,this.e2,this.e3,a)-this.ml0+f*(1-Math.cos(e))}}t.x=i+this.x0;t.y=h+this.y0;return t};a.inverse=function(t){var s,a,i,h,e;var r,o;var m,u;i=t.x-this.x0;h=t.y-this.y0;if(this.sphere){if(Math.abs(h+this.a*this.lat0)<=c){s=n(i/this.a+this.long0);a=0}else{r=this.lat0+h/this.a;o=i*i/this.a/this.a+r*r;m=r;var v;for(e=f;e;--e){v=Math.tan(m);u=-1*(r*(m*v+1)-m-.5*(m*m+o)*v)/((m-r)/v-1);m+=u;if(Math.abs(u)<=c){a=m;break}}s=n(this.long0+Math.asin(i*Math.tan(m)/this.a)/Math.sin(a))}}else{if(Math.abs(h+this.ml0)<=c){a=0;s=n(this.long0+i/this.a)}else{r=(this.ml0+h)/this.a;o=i*i/this.a/this.a+r*r;m=r;var M,p,d,_;var y;for(e=f;e;--e){y=this.e*Math.sin(m);M=Math.sqrt(1-y*y)*Math.tan(m);p=this.a*l(this.e0,this.e1,this.e2,this.e3,m);d=this.e0-2*this.e1*Math.cos(2*m)+4*this.e2*Math.cos(4*m)-6*this.e3*Math.cos(6*m);_=p/this.a;u=(r*(M*_+1)-_-.5*M*(_*_+o))/(this.es*Math.sin(2*m)*(_*_+o-2*r*_)/(4*M)+(r-_)*(M*d-2/Math.sin(2*m))-d);m-=u;if(Math.abs(u)<=c){a=m;break}}M=Math.sqrt(1-this.es*Math.pow(Math.sin(a),2))*Math.tan(a);s=n(this.long0+Math.asin(i*M/this.a)/Math.sin(a))}}t.x=s;t.y=a;return t};a.names=["Polyconic","poly"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/gN":11,"../common/mlfn":14}],58:[function(t,s,a){var i=t("../common/adjust_lon");var h=t("../common/adjust_lat");var e=t("../common/pj_enfn");var r=20;var n=t("../common/pj_mlfn");var o=t("../common/pj_inv_mlfn");var l=Math.PI/2;var c=1e-10;var m=t("../common/asinz");a.init=function(){if(!this.sphere){this.en=e(this.es)}else{this.n=1;this.m=0;this.es=0;this.C_y=Math.sqrt((this.m+1)/this.n);this.C_x=this.C_y/(this.m+1)}};a.forward=function(t){var s,a;var h=t.x;var e=t.y;h=i(h-this.long0);if(this.sphere){if(!this.m){e=this.n!==1?Math.asin(this.n*Math.sin(e)):e}else{var o=this.n*Math.sin(e);for(var l=r;l;--l){var m=(this.m*e+Math.sin(e)-o)/(this.m+Math.cos(e));e-=m;if(Math.abs(m)<c){break}}}s=this.a*this.C_x*h*(this.m+Math.cos(e));a=this.a*this.C_y*e}else{var f=Math.sin(e);var u=Math.cos(e);a=this.a*n(e,f,u,this.en);s=this.a*h*u/Math.sqrt(1-this.es*f*f)}t.x=s;t.y=a;return t};a.inverse=function(t){var s,a,e,r;t.x-=this.x0;e=t.x/this.a;t.y-=this.y0;s=t.y/this.a;if(this.sphere){s/=this.C_y;e=e/(this.C_x*(this.m+Math.cos(s)));if(this.m){s=m((this.m*s+Math.sin(s))/this.n)}else if(this.n!==1){s=m(Math.sin(s)/this.n)}e=i(e+this.long0);s=h(s)}else{s=o(t.y/this.a,this.es,this.en);r=Math.abs(s);if(r<l){r=Math.sin(s);a=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(s));e=i(a)}else if(r-c<l){e=this.long0}}t.x=e;t.y=s;return t};a.names=["Sinusoidal","sinu"]},{"../common/adjust_lat":4,"../common/adjust_lon":5,"../common/asinz":6,"../common/pj_enfn":17,"../common/pj_inv_mlfn":18,"../common/pj_mlfn":19}],59:[function(t,s,a){a.init=function(){var t=this.lat0;this.lambda0=this.long0;var s=Math.sin(t);var a=this.a;var i=this.rf;var h=1/i;var e=2*h-Math.pow(h,2);var r=this.e=Math.sqrt(e);this.R=this.k0*a*Math.sqrt(1-e)/(1-e*Math.pow(s,2));this.alpha=Math.sqrt(1+e/(1-e)*Math.pow(Math.cos(t),4));this.b0=Math.asin(s/this.alpha);var n=Math.log(Math.tan(Math.PI/4+this.b0/2));var o=Math.log(Math.tan(Math.PI/4+t/2));var l=Math.log((1+r*s)/(1-r*s));this.K=n-this.alpha*o+this.alpha*r/2*l};a.forward=function(t){var s=Math.log(Math.tan(Math.PI/4-t.y/2));var a=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y)));var i=-this.alpha*(s+a)+this.K;var h=2*(Math.atan(Math.exp(i))-Math.PI/4);var e=this.alpha*(t.x-this.lambda0);var r=Math.atan(Math.sin(e)/(Math.sin(this.b0)*Math.tan(h)+Math.cos(this.b0)*Math.cos(e)));var n=Math.asin(Math.cos(this.b0)*Math.sin(h)-Math.sin(this.b0)*Math.cos(h)*Math.cos(e));t.y=this.R/2*Math.log((1+Math.sin(n))/(1-Math.sin(n)))+this.y0;t.x=this.R*r+this.x0;return t};a.inverse=function(t){var s=t.x-this.x0;var a=t.y-this.y0;var i=s/this.R;var h=2*(Math.atan(Math.exp(a/this.R))-Math.PI/4);var e=Math.asin(Math.cos(this.b0)*Math.sin(h)+Math.sin(this.b0)*Math.cos(h)*Math.cos(i));var r=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(h)));var n=this.lambda0+r/this.alpha;var o=0;var l=e;var c=-1e3;var m=0;while(Math.abs(l-c)>1e-7){if(++m>20){return}o=1/this.alpha*(Math.log(Math.tan(Math.PI/4+e/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2));c=l;l=2*Math.atan(Math.exp(o))-Math.PI/2}t.x=n;t.y=l;return t};a.names=["somerc"]},{}],60:[function(t,s,a){var i=Math.PI/2;var h=1e-10;var e=t("../common/sign");var r=t("../common/msfnz");var n=t("../common/tsfnz");var o=t("../common/phi2z");var l=t("../common/adjust_lon");a.ssfn_=function(t,s,a){s*=a;return Math.tan(.5*(i+t))*Math.pow((1-s)/(1+s),.5*a)};a.init=function(){this.coslat0=Math.cos(this.lat0);this.sinlat0=Math.sin(this.lat0);if(this.sphere){if(this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=h){this.k0=.5*(1+e(this.lat0)*Math.sin(this.lat_ts))}}else{if(Math.abs(this.coslat0)<=h){if(this.lat0>0){this.con=1}else{this.con=-1}}this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e));if(this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=h){this.k0=.5*this.cons*r(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/n(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))}this.ms1=r(this.e,this.sinlat0,this.coslat0);this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-i;this.cosX0=Math.cos(this.X0);this.sinX0=Math.sin(this.X0)}};a.forward=function(t){var s=t.x;var a=t.y;var e=Math.sin(a);var r=Math.cos(a);var o,c,m,f,u,v;var M=l(s-this.long0);if(Math.abs(Math.abs(s-this.long0)-Math.PI)<=h&&Math.abs(a+this.lat0)<=h){t.x=NaN;t.y=NaN;return t}if(this.sphere){o=2*this.k0/(1+this.sinlat0*e+this.coslat0*r*Math.cos(M));t.x=this.a*o*r*Math.sin(M)+this.x0;t.y=this.a*o*(this.coslat0*e-this.sinlat0*r*Math.cos(M))+this.y0;return t}else{c=2*Math.atan(this.ssfn_(a,e,this.e))-i;f=Math.cos(c);m=Math.sin(c);if(Math.abs(this.coslat0)<=h){u=n(this.e,a*this.con,this.con*e);v=2*this.a*this.k0*u/this.cons;t.x=this.x0+v*Math.sin(s-this.long0);t.y=this.y0-this.con*v*Math.cos(s-this.long0);return t}else if(Math.abs(this.sinlat0)<h){o=2*this.a*this.k0/(1+f*Math.cos(M));t.y=o*m}else{o=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*m+this.cosX0*f*Math.cos(M)));t.y=o*(this.cosX0*m-this.sinX0*f*Math.cos(M))+this.y0}t.x=o*f*Math.sin(M)+this.x0}return t};a.inverse=function(t){t.x-=this.x0;t.y-=this.y0;var s,a,e,r,n;var c=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var m=2*Math.atan(c/(.5*this.a*this.k0));s=this.long0;a=this.lat0;if(c<=h){t.x=s;t.y=a;return t}a=Math.asin(Math.cos(m)*this.sinlat0+t.y*Math.sin(m)*this.coslat0/c);if(Math.abs(this.coslat0)<h){if(this.lat0>0){s=l(this.long0+Math.atan2(t.x,-1*t.y))}else{s=l(this.long0+Math.atan2(t.x,t.y))}}else{s=l(this.long0+Math.atan2(t.x*Math.sin(m),c*this.coslat0*Math.cos(m)-t.y*this.sinlat0*Math.sin(m)))}t.x=s;t.y=a;return t}else{if(Math.abs(this.coslat0)<=h){if(c<=h){a=this.lat0;s=this.long0;t.x=s;t.y=a;return t}t.x*=this.con;t.y*=this.con;e=c*this.cons/(2*this.a*this.k0);a=this.con*o(this.e,e);s=this.con*l(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else{r=2*Math.atan(c*this.cosX0/(2*this.a*this.k0*this.ms1));s=this.long0;if(c<=h){n=this.X0}else{n=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/c);s=l(this.long0+Math.atan2(t.x*Math.sin(r),c*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))}a=-1*o(this.e,Math.tan(.5*(i+n)))}}t.x=s;t.y=a;return t};a.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},{"../common/adjust_lon":5,"../common/msfnz":15,"../common/phi2z":16,"../common/sign":21,"../common/tsfnz":24}],61:[function(t,s,a){var i=t("./gauss");var h=t("../common/adjust_lon");a.init=function(){i.init.apply(this);if(!this.rc){return}this.sinc0=Math.sin(this.phic0);this.cosc0=Math.cos(this.phic0);this.R2=2*this.rc;if(!this.title){this.title="Oblique Stereographic Alternative"}};a.forward=function(t){var s,a,e,r;t.x=h(t.x-this.long0);i.forward.apply(this,[t]);s=Math.sin(t.y);a=Math.cos(t.y);e=Math.cos(t.x);r=this.k0*this.R2/(1+this.sinc0*s+this.cosc0*a*e);t.x=r*a*Math.sin(t.x);t.y=r*(this.cosc0*s-this.sinc0*a*e);t.x=this.a*t.x+this.x0;t.y=this.a*t.y+this.y0;return t};a.inverse=function(t){var s,a,e,r,n;t.x=(t.x-this.x0)/this.a;t.y=(t.y-this.y0)/this.a;t.x/=this.k0;t.y/=this.k0;if(n=Math.sqrt(t.x*t.x+t.y*t.y)){var o=2*Math.atan2(n,this.R2);s=Math.sin(o);a=Math.cos(o);r=Math.asin(a*this.sinc0+t.y*s*this.cosc0/n);e=Math.atan2(t.x*s,n*this.cosc0*a-t.y*this.sinc0*s)}else{r=this.phic0;e=0}t.x=e;t.y=r;i.inverse.apply(this,[t]);t.x=h(t.x+this.long0);return t};a.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},{"../common/adjust_lon":5,"./gauss":46}],62:[function(t,s,a){var i=t("../common/e0fn");var h=t("../common/e1fn");var e=t("../common/e2fn");var r=t("../common/e3fn");var n=t("../common/mlfn");var o=t("../common/adjust_lon");var l=Math.PI/2;var c=1e-10;var m=t("../common/sign");var f=t("../common/asinz");a.init=function(){this.e0=i(this.es);this.e1=h(this.es);this.e2=e(this.es);this.e3=r(this.es);this.ml0=this.a*n(this.e0,this.e1,this.e2,this.e3,this.lat0)};a.forward=function(t){var s=t.x;var a=t.y;var i=o(s-this.long0);var h;var e,r;var l=Math.sin(a);var c=Math.cos(a);if(this.sphere){var m=c*Math.sin(i);if(Math.abs(Math.abs(m)-1)<1e-10){return 93}else{e=.5*this.a*this.k0*Math.log((1+m)/(1-m));h=Math.acos(c*Math.cos(i)/Math.sqrt(1-m*m));if(a<0){h=-h}r=this.a*this.k0*(h-this.lat0)}}else{var f=c*i;var u=Math.pow(f,2);var v=this.ep2*Math.pow(c,2);var M=Math.tan(a);var p=Math.pow(M,2);h=1-this.es*Math.pow(l,2);var d=this.a/Math.sqrt(h);var _=this.a*n(this.e0,this.e1,this.e2,this.e3,a);e=this.k0*d*f*(1+u/6*(1-p+v+u/20*(5-18*p+Math.pow(p,2)+72*v-58*this.ep2)))+this.x0;r=this.k0*(_-this.ml0+d*M*(u*(.5+u/24*(5-p+9*v+4*Math.pow(v,2)+u/30*(61-58*p+Math.pow(p,2)+600*v-330*this.ep2)))))+this.y0}t.x=e;t.y=r;return t};a.inverse=function(t){var s,a;var i;var h;var e=6;var r,n;if(this.sphere){var u=Math.exp(t.x/(this.a*this.k0));var v=.5*(u-1/u);var M=this.lat0+t.y/(this.a*this.k0);var p=Math.cos(M);s=Math.sqrt((1-p*p)/(1+v*v));r=f(s);if(M<0){r=-r}if(v===0&&p===0){n=this.long0}else{n=o(Math.atan2(v,p)+this.long0)}}else{var d=t.x-this.x0;var _=t.y-this.y0;s=(this.ml0+_/this.k0)/this.a;a=s;for(h=0;true;h++){i=(s+this.e1*Math.sin(2*a)-this.e2*Math.sin(4*a)+this.e3*Math.sin(6*a))/this.e0-a;a+=i;if(Math.abs(i)<=c){break}if(h>=e){return 95}}if(Math.abs(a)<l){var y=Math.sin(a);var g=Math.cos(a);var x=Math.tan(a);var b=this.ep2*Math.pow(g,2);var j=Math.pow(b,2);var w=Math.pow(x,2);var P=Math.pow(w,2);s=1-this.es*Math.pow(y,2);var C=this.a/Math.sqrt(s);var k=C*(1-this.es)/s;var N=d/(C*this.k0);var S=Math.pow(N,2);r=a-C*x*S/k*(.5-S/24*(5+3*w+10*b-4*j-9*this.ep2-S/30*(61+90*w+298*b+45*P-252*this.ep2-3*j)));n=o(this.long0+N*(1-S/6*(1+2*w+b-S/20*(5-2*b+28*w-3*j+8*this.ep2+24*P)))/g)}else{r=l*m(_);n=this.long0}}t.x=n;t.y=r;return t};a.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{
"../common/adjust_lon":5,"../common/asinz":6,"../common/e0fn":7,"../common/e1fn":8,"../common/e2fn":9,"../common/e3fn":10,"../common/mlfn":14,"../common/sign":21}],63:[function(t,s,a){var i=.017453292519943295;var h=t("./tmerc");a.dependsOn="tmerc";a.init=function(){if(!this.zone){return}this.lat0=0;this.long0=(6*Math.abs(this.zone)-183)*i;this.x0=5e5;this.y0=this.utmSouth?1e7:0;this.k0=.9996;h.init.apply(this);this.forward=h.forward;this.inverse=h.inverse};a.names=["Universal Transverse Mercator System","utm"]},{"./tmerc":62}],64:[function(t,s,a){var i=t("../common/adjust_lon");var h=Math.PI/2;var e=1e-10;var r=t("../common/asinz");a.init=function(){this.R=this.a};a.forward=function(t){var s=t.x;var a=t.y;var n=i(s-this.long0);var o,l;if(Math.abs(a)<=e){o=this.x0+this.R*n;l=this.y0}var c=r(2*Math.abs(a/Math.PI));if(Math.abs(n)<=e||Math.abs(Math.abs(a)-h)<=e){o=this.x0;if(a>=0){l=this.y0+Math.PI*this.R*Math.tan(.5*c)}else{l=this.y0+Math.PI*this.R*-Math.tan(.5*c)}}var m=.5*Math.abs(Math.PI/n-n/Math.PI);var f=m*m;var u=Math.sin(c);var v=Math.cos(c);var M=v/(u+v-1);var p=M*M;var d=M*(2/u-1);var _=d*d;var y=Math.PI*this.R*(m*(M-_)+Math.sqrt(f*(M-_)*(M-_)-(_+f)*(p-_)))/(_+f);if(n<0){y=-y}o=this.x0+y;var g=f+M;y=Math.PI*this.R*(d*g-m*Math.sqrt((_+f)*(f+1)-g*g))/(_+f);if(a>=0){l=this.y0+y}else{l=this.y0-y}t.x=o;t.y=l;return t};a.inverse=function(t){var s,a;var h,r,n,o,l,c;var m;var f;var u;var v;var M;t.x-=this.x0;t.y-=this.y0;u=Math.PI*this.R;h=t.x/u;r=t.y/u;n=h*h+r*r;o=-Math.abs(r)*(1+n);l=o-2*r*r+h*h;c=-2*o+1+2*r*r+n*n;M=r*r/c+(2*l*l*l/c/c/c-9*o*l/c/c)/27;m=(o-l*l/3/c)/c;f=2*Math.sqrt(-m/3);u=3*M/m/f;if(Math.abs(u)>1){if(u>=0){u=1}else{u=-1}}v=Math.acos(u)/3;if(t.y>=0){a=(-f*Math.cos(v+Math.PI/3)-l/3/c)*Math.PI}else{a=-(-f*Math.cos(v+Math.PI/3)-l/3/c)*Math.PI}if(Math.abs(h)<e){s=this.long0}else{s=i(this.long0+Math.PI*(n-1+Math.sqrt(1+2*(h*h-r*r)+n*n))/2/h)}t.x=s;t.y=a;return t};a.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},{"../common/adjust_lon":5,"../common/asinz":6}],65:[function(t,s,a){var i=.017453292519943295;var h=57.29577951308232;var e=1;var r=2;var n=t("./datum_transform");var o=t("./adjust_axis");var l=t("./Proj");var c=t("./common/toPoint");s.exports=function m(t,s,a){var f;if(Array.isArray(a)){a=c(a)}function u(t,s){return(t.datum.datum_type===e||t.datum.datum_type===r)&&s.datumCode!=="WGS84"}if(t.datum&&s.datum&&(u(t,s)||u(s,t))){f=new l("WGS84");m(t,f,a);t=f}if(t.axis!=="enu"){o(t,false,a)}if(t.projName==="longlat"){a.x*=i;a.y*=i}else{if(t.to_meter){a.x*=t.to_meter;a.y*=t.to_meter}t.inverse(a)}if(t.from_greenwich){a.x+=t.from_greenwich}a=n(t.datum,s.datum,a);if(s.from_greenwich){a.x-=s.from_greenwich}if(s.projName==="longlat"){a.x*=h;a.y*=h}else{s.forward(a);if(s.to_meter){a.x/=s.to_meter;a.y/=s.to_meter}}if(s.axis!=="enu"){o(s,true,a)}return a}},{"./Proj":2,"./adjust_axis":3,"./common/toPoint":23,"./datum_transform":31}],66:[function(t,s,a){var i=.017453292519943295;var h=t("./extend");function e(t,s,a){t[s]=a.map(function(t){var s={};r(t,s);return s}).reduce(function(t,s){return h(t,s)},{})}function r(t,s){var a;if(!Array.isArray(t)){s[t]=true;return}else{a=t.shift();if(a==="PARAMETER"){a=t.shift()}if(t.length===1){if(Array.isArray(t[0])){s[a]={};r(t[0],s[a])}else{s[a]=t[0]}}else if(!t.length){s[a]=true}else if(a==="TOWGS84"){s[a]=t}else{s[a]={};if(["UNIT","PRIMEM","VERT_DATUM"].indexOf(a)>-1){s[a]={name:t[0].toLowerCase(),convert:t[1]};if(t.length===3){s[a].auth=t[2]}}else if(a==="SPHEROID"){s[a]={name:t[0],a:t[1],rf:t[2]};if(t.length===4){s[a].auth=t[3]}}else if(["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(a)>-1){t[0]=["name",t[0]];e(s,a,t)}else if(t.every(function(t){return Array.isArray(t)})){e(s,a,t)}else{r(t,s[a])}}}}function n(t,s){var a=s[0];var i=s[1];if(!(a in t)&&i in t){t[a]=t[i];if(s.length===3){t[a]=s[2](t[a])}}}function o(t){return t*i}function l(t){if(t.type==="GEOGCS"){t.projName="longlat"}else if(t.type==="LOCAL_CS"){t.projName="identity";t.local=true}else{if(typeof t.PROJECTION==="object"){t.projName=Object.keys(t.PROJECTION)[0]}else{t.projName=t.PROJECTION}}if(t.UNIT){t.units=t.UNIT.name.toLowerCase();if(t.units==="metre"){t.units="meter"}if(t.UNIT.convert){if(t.type==="GEOGCS"){if(t.DATUM&&t.DATUM.SPHEROID){t.to_meter=parseFloat(t.UNIT.convert,10)*t.DATUM.SPHEROID.a}}else{t.to_meter=parseFloat(t.UNIT.convert,10)}}}if(t.GEOGCS){if(t.GEOGCS.DATUM){t.datumCode=t.GEOGCS.DATUM.name.toLowerCase()}else{t.datumCode=t.GEOGCS.name.toLowerCase()}if(t.datumCode.slice(0,2)==="d_"){t.datumCode=t.datumCode.slice(2)}if(t.datumCode==="new_zealand_geodetic_datum_1949"||t.datumCode==="new_zealand_1949"){t.datumCode="nzgd49"}if(t.datumCode==="wgs_1984"){if(t.PROJECTION==="Mercator_Auxiliary_Sphere"){t.sphere=true}t.datumCode="wgs84"}if(t.datumCode.slice(-6)==="_ferro"){t.datumCode=t.datumCode.slice(0,-6)}if(t.datumCode.slice(-8)==="_jakarta"){t.datumCode=t.datumCode.slice(0,-8)}if(~t.datumCode.indexOf("belge")){t.datumCode="rnb72"}if(t.GEOGCS.DATUM&&t.GEOGCS.DATUM.SPHEROID){t.ellps=t.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk");if(t.ellps.toLowerCase().slice(0,13)==="international"){t.ellps="intl"}t.a=t.GEOGCS.DATUM.SPHEROID.a;t.rf=parseFloat(t.GEOGCS.DATUM.SPHEROID.rf,10)}if(~t.datumCode.indexOf("osgb_1936")){t.datumCode="osgb36"}}if(t.b&&!isFinite(t.b)){t.b=t.a}function s(s){var a=t.to_meter||1;return parseFloat(s,10)*a}var a=function(s){return n(t,s)};var i=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",o],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",o],["x0","false_easting",s],["y0","false_northing",s],["long0","central_meridian",o],["lat0","latitude_of_origin",o],["lat0","standard_parallel_1",o],["lat1","standard_parallel_1",o],["lat2","standard_parallel_2",o],["alpha","azimuth",o],["srsCode","name"]];i.forEach(a);if(!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")){t.long0=t.longc}if(!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")){t.lat0=o(t.lat1>0?90:-90);t.lat_ts=t.lat1}}s.exports=function(t,s){var a=JSON.parse((","+t).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,""));var i=a.shift();var e=a.shift();a.unshift(["name",e]);a.unshift(["type",i]);a.unshift("output");var n={};r(a,n);l(n.output);return h(s,n.output)}},{"./extend":34}],67:[function(t,s,a){var i=6;var h="AJSAJS";var e="AFAFAF";var r=65;var n=73;var o=79;var l=86;var c=90;a.forward=function(t,s){s=s||5;return p(u({lat:t[1],lon:t[0]}),s)};a.inverse=function(t){var s=v(g(t.toUpperCase()));if(s.lat&&s.lon){return[s.lon,s.lat,s.lon,s.lat]}return[s.left,s.bottom,s.right,s.top]};a.toPoint=function(t){var s=v(g(t.toUpperCase()));if(s.lat&&s.lon){return[s.lon,s.lat]}return[(s.left+s.right)/2,(s.top+s.bottom)/2]};function m(t){return t*(Math.PI/180)}function f(t){return 180*(t/Math.PI)}function u(t){var s=t.lat;var a=t.lon;var i=6378137;var h=.00669438;var e=.9996;var r;var n;var o,l,c,f,u;var v=m(s);var p=m(a);var d;var _;_=Math.floor((a+180)/6)+1;if(a===180){_=60}if(s>=56&&s<64&&a>=3&&a<12){_=32}if(s>=72&&s<84){if(a>=0&&a<9){_=31}else if(a>=9&&a<21){_=33}else if(a>=21&&a<33){_=35}else if(a>=33&&a<42){_=37}}r=(_-1)*6-180+3;d=m(r);n=h/(1-h);o=i/Math.sqrt(1-h*Math.sin(v)*Math.sin(v));l=Math.tan(v)*Math.tan(v);c=n*Math.cos(v)*Math.cos(v);f=Math.cos(v)*(p-d);u=i*((1-h/4-3*h*h/64-5*h*h*h/256)*v-(3*h/8+3*h*h/32+45*h*h*h/1024)*Math.sin(2*v)+(15*h*h/256+45*h*h*h/1024)*Math.sin(4*v)-35*h*h*h/3072*Math.sin(6*v));var y=e*o*(f+(1-l+c)*f*f*f/6+(5-18*l+l*l+72*c-58*n)*f*f*f*f*f/120)+5e5;var g=e*(u+o*Math.tan(v)*(f*f/2+(5-l+9*c+4*c*c)*f*f*f*f/24+(61-58*l+l*l+600*c-330*n)*f*f*f*f*f*f/720));if(s<0){g+=1e7}return{northing:Math.round(g),easting:Math.round(y),zoneNumber:_,zoneLetter:M(s)}}function v(t){var s=t.northing;var a=t.easting;var i=t.zoneLetter;var h=t.zoneNumber;if(h<0||h>60){return null}var e=.9996;var r=6378137;var n=.00669438;var o;var l=(1-Math.sqrt(1-n))/(1+Math.sqrt(1-n));var c,m,u,M,p,d;var _;var y,g;var x=a-5e5;var b=s;if(i<"N"){b-=1e7}_=(h-1)*6-180+3;o=n/(1-n);d=b/e;y=d/(r*(1-n/4-3*n*n/64-5*n*n*n/256));g=y+(3*l/2-27*l*l*l/32)*Math.sin(2*y)+(21*l*l/16-55*l*l*l*l/32)*Math.sin(4*y)+151*l*l*l/96*Math.sin(6*y);c=r/Math.sqrt(1-n*Math.sin(g)*Math.sin(g));m=Math.tan(g)*Math.tan(g);u=o*Math.cos(g)*Math.cos(g);M=r*(1-n)/Math.pow(1-n*Math.sin(g)*Math.sin(g),1.5);p=x/(c*e);var j=g-c*Math.tan(g)/M*(p*p/2-(5+3*m+10*u-4*u*u-9*o)*p*p*p*p/24+(61+90*m+298*u+45*m*m-252*o-3*u*u)*p*p*p*p*p*p/720);j=f(j);var w=(p-(1+2*m+u)*p*p*p/6+(5-2*u+28*m-3*u*u+8*o+24*m*m)*p*p*p*p*p/120)/Math.cos(g);w=_+f(w);var P;if(t.accuracy){var C=v({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});P={top:C.lat,right:C.lon,bottom:j,left:w}}else{P={lat:j,lon:w}}return P}function M(t){var s="Z";if(84>=t&&t>=72){s="X"}else if(72>t&&t>=64){s="W"}else if(64>t&&t>=56){s="V"}else if(56>t&&t>=48){s="U"}else if(48>t&&t>=40){s="T"}else if(40>t&&t>=32){s="S"}else if(32>t&&t>=24){s="R"}else if(24>t&&t>=16){s="Q"}else if(16>t&&t>=8){s="P"}else if(8>t&&t>=0){s="N"}else if(0>t&&t>=-8){s="M"}else if(-8>t&&t>=-16){s="L"}else if(-16>t&&t>=-24){s="K"}else if(-24>t&&t>=-32){s="J"}else if(-32>t&&t>=-40){s="H"}else if(-40>t&&t>=-48){s="G"}else if(-48>t&&t>=-56){s="F"}else if(-56>t&&t>=-64){s="E"}else if(-64>t&&t>=-72){s="D"}else if(-72>t&&t>=-80){s="C"}return s}function p(t,s){var a="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+d(t.easting,t.northing,t.zoneNumber)+a.substr(a.length-5,s)+i.substr(i.length-5,s)}function d(t,s,a){var i=_(a);var h=Math.floor(t/1e5);var e=Math.floor(s/1e5)%20;return y(h,e,i)}function _(t){var s=t%i;if(s===0){s=i}return s}function y(t,s,a){var i=a-1;var m=h.charCodeAt(i);var f=e.charCodeAt(i);var u=m+t-1;var v=f+s;var M=false;if(u>c){u=u-c+r-1;M=true}if(u===n||m<n&&u>n||(u>n||m<n)&&M){u++}if(u===o||m<o&&u>o||(u>o||m<o)&&M){u++;if(u===n){u++}}if(u>c){u=u-c+r-1}if(v>l){v=v-l+r-1;M=true}else{M=false}if(v===n||f<n&&v>n||(v>n||f<n)&&M){v++}if(v===o||f<o&&v>o||(v>o||f<o)&&M){v++;if(v===n){v++}}if(v>l){v=v-l+r-1}var p=String.fromCharCode(u)+String.fromCharCode(v);return p}function g(t){if(t&&t.length===0){throw"MGRSPoint coverting from nothing"}var s=t.length;var a=null;var i="";var h;var e=0;while(!/[A-Z]/.test(h=t.charAt(e))){if(e>=2){throw"MGRSPoint bad conversion from: "+t}i+=h;e++}var r=parseInt(i,10);if(e===0||e+3>s){throw"MGRSPoint bad conversion from: "+t}var n=t.charAt(e++);if(n<="A"||n==="B"||n==="Y"||n>="Z"||n==="I"||n==="O"){throw"MGRSPoint zone letter "+n+" not handled: "+t}a=t.substring(e,e+=2);var o=_(r);var l=x(a.charAt(0),o);var c=b(a.charAt(1),o);while(c<j(n)){c+=2e6}var m=s-e;if(m%2!==0){throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t}var f=m/2;var u=0;var v=0;var M,p,d,y,g;if(f>0){M=1e5/Math.pow(10,f);p=t.substring(e,e+f);u=parseFloat(p)*M;d=t.substring(e+f);v=parseFloat(d)*M}y=u+l;g=v+c;return{easting:y,northing:g,zoneLetter:n,zoneNumber:r,accuracy:M}}function x(t,s){var a=h.charCodeAt(s-1);var i=1e5;var e=false;while(a!==t.charCodeAt(0)){a++;if(a===n){a++}if(a===o){a++}if(a>c){if(e){throw"Bad character: "+t}a=r;e=true}i+=1e5}return i}function b(t,s){if(t>"V"){throw"MGRSPoint given invalid Northing "+t}var a=e.charCodeAt(s-1);var i=0;var h=false;while(a!==t.charCodeAt(0)){a++;if(a===n){a++}if(a===o){a++}if(a>l){if(h){throw"Bad character: "+t}a=r;h=true}i+=1e5}return i}function j(t){var s;switch(t){case"C":s=11e5;break;case"D":s=2e6;break;case"E":s=28e5;break;case"F":s=37e5;break;case"G":s=46e5;break;case"H":s=55e5;break;case"J":s=64e5;break;case"K":s=73e5;break;case"L":s=82e5;break;case"M":s=91e5;break;case"N":s=0;break;case"P":s=8e5;break;case"Q":s=17e5;break;case"R":s=26e5;break;case"S":s=35e5;break;case"T":s=44e5;break;case"U":s=53e5;break;case"V":s=62e5;break;case"W":s=7e6;break;case"X":s=79e5;break;default:s=-1}if(s>=0){return s}else{throw"Invalid zone letter: "+t}}},{}],68:[function(t,s,a){s.exports={name:"proj4",version:"2.3.12",description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",main:"lib/index.js",directories:{test:"test",doc:"docs"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},author:"",license:"MIT",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},devDependencies:{"grunt-cli":"~0.1.13",grunt:"~0.4.2","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0",chai:"~1.8.1",mocha:"~1.17.1","grunt-mocha-phantomjs":"~0.4.0",browserify:"~3.24.5","grunt-browserify":"~1.3.0","grunt-contrib-uglify":"~0.3.2",curl:"git://github.com/cujojs/curl.git",istanbul:"~0.2.4",tin:"~0.4.0"},dependencies:{mgrs:"~0.0.2"},contributors:[{name:"Mike Adair",email:"madair@dmsolutions.ca"},{name:"Richard Greenwood",email:"rich@greenwoodmap.com"},{name:"Calvin Metcalf",email:"calvin.metcalf@gmail.com"},{name:"Richard Marsden",url:"http://www.winwaed.com"},{name:"T. Mittan"},{name:"D. Steinwand"},{name:"S. Nelson"}],gitHead:"cd07cad5c6a5b6ed82b59a21356848979eafe22c",bugs:{url:"https://github.com/proj4js/proj4js/issues"},homepage:"https://github.com/proj4js/proj4js#readme",_id:"proj4@2.3.12",_shasum:"96b9ed2a810dad6e62f1e32b4dad37c276b427a2",_from:"proj4@*",_npmVersion:"2.11.3",_nodeVersion:"0.12.7",_npmUser:{name:"ahocevar",email:"andreas.hocevar@gmail.com"},dist:{shasum:"96b9ed2a810dad6e62f1e32b4dad37c276b427a2",tarball:"http://registry.npmjs.org/proj4/-/proj4-2.3.12.tgz"},maintainers:[{name:"cwmma",email:"calvin.metcalf@gmail.com"},{name:"ahocevar",email:"andreas.hocevar@gmail.com"}],_resolved:"https://registry.npmjs.org/proj4/-/proj4-2.3.12.tgz"}},{}],proj4:[function(t,s,a){var i=t("./core");i.defaultDatum="WGS84";i.Proj=t("./Proj");i.WGS84=new i.Proj("WGS84");i.Point=t("./Point");i.toPoint=t("./common/toPoint");i.defs=t("./defs");i.transform=t("./transform");i.mgrs=t("mgrs");i.version=t("../package.json").version;t("./includedProjections")(i);s.exports=i},{"../package.json":68,"./Point":1,"./Proj":2,"./common/toPoint":23,"./core":29,"./defs":32,"./includedProjections":36,"./transform":65,mgrs:67}]},{},[])("proj4")});
var proj4 = module.exports;
