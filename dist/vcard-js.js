!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.vcard=e()}}(function(){var e;return function e(t,n,r){function i(u,a){if(!n[u]){if(!t[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(o)return o(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){var n=t[u][1][e];return i(n?n:e)},f,f.exports,e,t,n,r)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(e,t,n){},{}],2:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],3:[function(e,t,n){function r(e){if(c===setTimeout)return setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function o(){h&&p&&(h=!1,p.length?d=p.concat(d):y=-1,d.length&&u())}function u(){if(!h){var e=r(o);h=!0;for(var t=d.length;t;){for(p=d,d=[];++y<t;)p&&p[y].run();y=-1,t=d.length}p=null,h=!1,i(e)}}function a(e,t){this.fun=e,this.array=t}function s(){}var c,f,l=t.exports={};!function(){try{c=setTimeout}catch(e){c=function(){throw new Error("setTimeout is not defined")}}try{f=clearTimeout}catch(e){f=function(){throw new Error("clearTimeout is not defined")}}}();var p,d=[],h=!1,y=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new a(e,t)),1!==d.length||h||r(u)},a.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=s,l.addListener=s,l.once=s,l.off=s,l.removeListener=s,l.removeAllListeners=s,l.emit=s,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],4:[function(t,n,r){(function(t){!function(i){var o="object"==typeof r&&r,u="object"==typeof n&&n&&n.exports==o&&n,a="object"==typeof t&&t;a.global!==a&&a.window!==a||(i=a);var s=String.fromCharCode,c=function(e){return e.replace(/[\t\x20]$/gm,"").replace(/=(?:\r\n?|\n|$)/g,"").replace(/=([a-fA-F0-9]{2})/g,function(e,t){var n=parseInt(t,16);return s(n)})},f=function(e){return e.replace(/\x20$/,"=20").replace(/\t$/,"=09")},l=/[\0-\x08\n-\x1F=\x7F-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p=function(e){for(var t=e.replace(l,function(e){if(e>"Ã¿")throw RangeError("`quotedPrintable.encode()` expects extended ASCII input only. Donâ€™t forget to encode the input first using a character encoding like UTF-8.");var t=e.charCodeAt(0),n=t.toString(16).toUpperCase();return"="+("0"+n).slice(-2)}),n=t.split(/\r\n?|\n/g),r=-1,i=n.length,o=[];++r<i;)for(var u=n[r],a=75,s=0,c=u.length;s<c;){var p=t.slice(s,s+a);/=$/.test(p)?(p=p.slice(0,a-1),s+=a-1):/=[A-F0-9]$/.test(p)?(p=p.slice(0,a-2),s+=a-2):s+=a,o.push(p)}var d=p.length;return/[\t\x20]$/.test(p)&&(o.pop(),d+2<=a+1?o.push(f(p)):o.push(p.slice(0,d-1),f(p.slice(d-1,d)))),o.join("=\r\n")},d={encode:p,decode:c,version:"1.0.1"};if("function"==typeof e&&"object"==typeof e.amd&&e.amd)e(function(){return d});else if(o&&!o.nodeType)if(u)u.exports=d;else for(var h in d)d.hasOwnProperty(h)&&(o[h]=d[h]);else i.quotedPrintable=d}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,n,r){(function(t){!function(i){function o(e){for(var t,n,r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function u(e){for(var t,n=e.length,r=-1,i="";++r<n;)t=e[r],t>65535&&(t-=65536,i+=w(t>>>10&1023|55296),t=56320|1023&t),i+=w(t);return i}function a(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function s(e,t){return w(e>>t&63|128)}function c(e){if(0==(4294967168&e))return w(e);var t="";return 0==(4294965248&e)?t=w(e>>6&31|192):0==(4294901760&e)?(a(e),t=w(e>>12&15|224),t+=s(e,6)):0==(4292870144&e)&&(t=w(e>>18&7|240),t+=s(e,12),t+=s(e,6)),t+=w(63&e|128)}function f(e){for(var t,n=o(e),r=n.length,i=-1,u="";++i<r;)t=n[i],u+=c(t);return u}function l(){if(b>=m)throw Error("Invalid byte index");var e=255&v[b];if(b++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function p(){var e,t,n,r,i;if(b>m)throw Error("Invalid byte index");if(b==m)return!1;if(e=255&v[b],b++,0==(128&e))return e;if(192==(224&e)){if(t=l(),i=(31&e)<<6|t,i>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=l(),n=l(),i=(15&e)<<12|t<<6|n,i>=2048)return a(i),i;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=l(),n=l(),r=l(),i=(7&e)<<18|t<<12|n<<6|r,i>=65536&&i<=1114111))return i;throw Error("Invalid UTF-8 detected")}function d(e){v=o(e),m=v.length,b=0;for(var t,n=[];(t=p())!==!1;)n.push(t);return u(n)}var h="object"==typeof r&&r,y="object"==typeof n&&n&&n.exports==h&&n,g="object"==typeof t&&t;g.global!==g&&g.window!==g||(i=g);var v,m,b,w=String.fromCharCode,E={version:"2.1.2",encode:f,decode:d};if("function"==typeof e&&"object"==typeof e.amd&&e.amd)e(function(){return E});else if(h&&!h.nodeType)if(y)y.exports=E;else{var O={},S=O.hasOwnProperty;for(var x in E)S.call(E,x)&&(h[x]=E[x])}else i.utf8=E}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],7:[function(e,t,n){(function(t,r){function i(e,t){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(t)?r.showHidden=t:t&&n._extend(r,t),E(r.showHidden)&&(r.showHidden=!1),E(r.depth)&&(r.depth=2),E(r.colors)&&(r.colors=!1),E(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),s(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function u(e,t){return e}function a(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function s(e,t,r){if(e.customInspect&&t&&A(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return b(i)||(i=s(e,i,r)),i}var o=c(e,t);if(o)return o;var u=Object.keys(t),y=a(u);if(e.showHidden&&(u=Object.getOwnPropertyNames(t)),C(t)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return f(t);if(0===u.length){if(A(t)){var g=t.name?": "+t.name:"";return e.stylize("[Function"+g+"]","special")}if(O(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(x(t))return e.stylize(Date.prototype.toString.call(t),"date");if(C(t))return f(t)}var v="",m=!1,w=["{","}"];if(h(t)&&(m=!0,w=["[","]"]),A(t)){var E=t.name?": "+t.name:"";v=" [Function"+E+"]"}if(O(t)&&(v=" "+RegExp.prototype.toString.call(t)),x(t)&&(v=" "+Date.prototype.toUTCString.call(t)),C(t)&&(v=" "+f(t)),0===u.length&&(!m||0==t.length))return w[0]+v+w[1];if(r<0)return O(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var S;return S=m?l(e,t,r,y,u):u.map(function(n){return p(e,t,r,y,n,m)}),e.seen.pop(),d(S,v,w)}function c(e,t){if(E(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return m(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function l(e,t,n,r,i){for(var o=[],u=0,a=t.length;u<a;++u)T(t,String(u))?o.push(p(e,t,n,r,String(u),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(e,t,n,r,i,!0))}),o}function p(e,t,n,r,i,o){var u,a,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),T(r,i)||(u="["+i+"]"),a||(e.seen.indexOf(c.value)<0?(a=g(n)?s(e,c.value,null):s(e,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),E(u)){if(o&&i.match(/^\d+$/))return a;u=JSON.stringify(""+i),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=e.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=e.stylize(u,"string"))}return u+": "+a}function d(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function h(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function m(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function E(e){return void 0===e}function O(e){return S(e)&&"[object RegExp]"===D(e)}function S(e){return"object"==typeof e&&null!==e}function x(e){return S(e)&&"[object Date]"===D(e)}function C(e){return S(e)&&("[object Error]"===D(e)||e instanceof Error)}function A(e){return"function"==typeof e}function j(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function D(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}function N(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),U[e.getMonth()],t].join(" ")}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var F=/%[sdj%]/g;n.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,u=String(e).replace(F,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),a=r[n];n<o;a=r[++n])u+=g(a)||!S(a)?" "+a:" "+i(a);return u},n.deprecate=function(e,i){function o(){if(!u){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),u=!0}return e.apply(this,arguments)}if(E(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var u=!1;return o};var $,z={};n.debuglog=function(e){if(E($)&&($=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!z[e])if(new RegExp("\\b"+e+"\\b","i").test($)){var r=t.pid;z[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else z[e]=function(){};return z[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=h,n.isBoolean=y,n.isNull=g,n.isNullOrUndefined=v,n.isNumber=m,n.isString=b,n.isSymbol=w,n.isUndefined=E,n.isRegExp=O,n.isObject=S,n.isDate=x,n.isError=C,n.isFunction=A,n.isPrimitive=j,n.isBuffer=e("./support/isBuffer");var U=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",N(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!S(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":6,_process:3,inherits:2}],8:[function(e,t,n){function r(e,t){function n(e){var t=i(e,function(e){return o.isArray(e)?/^version$/i.test(e[0]):/^version:/i.test(e)});return o.isString(t)?t.substr(8):o.isArray(t)?t[3]:null}t=t||{};var u=t.vCard=this;this._origin=e,this._filename=t.filename,this.version=n(e),this.items=[],e.forEach(function(e){var n=new r.Item(e,t);t.filter&&!t.filter(n)||u.items.push(n)}),(t.debug||r.debug)(u)}function i(e,t){if(o.isArray(e))for(var n,r=0,i=e.length;r<i;r++)if(n=e[r],t(n))return n}var o=e("util"),u=e("fs"),a=e("quoted-printable"),s=e("utf8");r.prototype.toString=function(e){e=e||{};var t=this,n=[];return o.isString(e)&&(e={version:e}),t.items.forEach(function(t){if(!/^(begin|end):/i.test(t.name)&&(!e.filter||e.filter(t))){var r=t.toString(e);r&&n.push(r)}}),n.length?(n.unshift("BEGIN:VCARD"),n.push("END:VCARD"),n.join(r.EOL)):""},r.prototype.toJSON=function(){var e=this,t=[];return e.items.forEach(function(e){/^(begin|end):/i.test(e.name)||t.push(e.toJSON())}),["vcard",t]},r.prototype.find=function(e){var t=this;if(!o.isFunction(e)){var n=e.toLowerCase();e=function(e){return e.name.toLowerCase()===n}}return t.items.filter(e)},r.prototype.add=function(e){var t=this,n=new r.Item(e,{vCard:t});return t.items.push(n),n},r.prototype.remove=function(e){var t,n=this,r=0,i=0;for(e=e.toLowerCase();r<n.items.length;)t=n.items[r],t.name.toLowerCase()===e?(n.items.splice(r,1),i++):r++;return i},r.VCard=r,r.EOL="\r\n",r.MAX_WIDTH=1024,r.identifyType=function(e){"LANG"===e.name?e.type="language-tag":"REV"===e.name?e.type="timestamp":/^(http|https)\:\/\//i.test(e.value)&&(e.type="uri")},r.debug=function(e){},r.Item=function(e,t){function n(){for(var t,n,i,o,s=e;s;)if(a.name||!(t=s.match(/^([\w\-]+)(?=:|;|\r\n|\r|\n)/g))){if(0!==s.indexOf(":")){if(s=s.replace(/^;/,""),t=s.match(/^([\w\-]+)="/)){n=t[1],s=s.substr(n.length+2),o=s.search(/[^\\]"/),i=o!==-1?s.substr(0,o+1):s,u(n,i),s=s.substr(i.length+1);continue}if(t=s.match(/^([\w\-]+)=/)){n=t[1],s=s.substr(n.length+1),o=s.search(/[^\\](;|:)/),i=o!==-1?s.substr(0,o+1):s,u(n,i),s=s.substr(i.length);continue}if(o=s.search(/[^\\](;|:)/),o!==-1){i=s.substr(0,o+1),u("type",i),s=s.substr(i.length);continue}}a.value=s.replace(/^:/,""),s=null}else a.name=i=t[0],s=s.substr(i.length);r.identifyType(a)}function i(){a.name=e[0],a.type=e[2],a.value=e[3];var t,n=e[1];for(t in n)a.params[t]=n[t];a.encode(a.value)}function u(e,t){var n=a.params;return e=e.toUpperCase(),/^(type)$/i.test(e)&&(t=t.split(/\s*,\s*/)),n.hasOwnProperty(e)?(o.isArray(n[e])||(n[e]=[n[e]]),void(o.isArray(t)?n[e]=n[e].concat(t):n[e].push(t))):void(n[e]=t)}t=t||{};var a=this;this._vCard=t.vCard,this._origin=e,this.name="",this.value="",this.params={},this.type="text",e&&(o.isString(e)?n():o.isArray(e)&&i(),(t.debug||r.debug)(a))},r.Item.prototype.toString=function(e){e=e||{};var t,n,i=this,u=i.name.toUpperCase(),a=i.value.toString();o.isString(e)&&(e={version:e});var s=e.version;s||(s=i._vCard?i._vCard.version:"4.0");for(t in i.params)n=i.params[t],t=t.toUpperCase(),"2.1"===s&&/^(type)$/i.test(t)?(u+=";",/^(photo)$/i.test(i.name)&&(u+=t+"="),u+=o.isArray(n)?n.join(";"):n):/^(impp)$/i.test(i.name)&&o.isArray(n)?n.forEach(function(e){u+=";"+t+"="+e}):("ENCODING"===t&&(/^(BASE64|b)$/.test(n)||/^data\:.+\;base64\,/.test(a))&&(n="2.1"===s?"BASE64":"3.0"===s?"b":"",n&&(a=a.replace(/^data\:.+\;base64\,/,""))),n=n.toString(),n&&(u+=s>=4&&/\s/.test(n)?";"+t+'="'+n+'"':";"+t+"="+n));return s<4&&(a=a.replace(/^geo\:/i,"")),/^version$/i.test(i.name)?u+=":"+s:a?u+=":"+a:u="",u.length>r.MAX_WIDTH&&(u=u.replace(/(^.{75})|(.{74})/g,function(e){return e+r.EOL+" "}),u=u.replace(/\s$/,""),"2.1"===s&&(u+=r.EOL)),e.replace&&(u=e.replace(u,i)),u},r.Item.prototype.toJSON=function(){var e,t,n=this,r=n.name.toLowerCase(),i=n.type,o=n.decode(),u={};for(e in n.params)t=n.params[e],/^value$/i.test(e)?i=t:(/^label$/i.test(e)&&!o&&(o=t),u[e.toLowerCase()]=t);switch(i){case"boolean":o="TRUE"===o;break;case"integer":o=parseInt(o);break;case"float":o=parseFloat(o)}return[r,u,i,o]},r.Item.prototype.encode=function(e){switch(this.params.ENCODING){case"QUOTED-PRINTABLE":this.quotedPrintable(e);break;case"BASE64":case"b":this.base64(e)}},r.Item.prototype.decode=function(){switch(this.params.ENCODING){case"QUOTED-PRINTABLE":return this.quotedPrintable();case"BASE64":case"b":return this.base64();default:return this.value}},r.Item.prototype.quotedPrintable=function(e){return e?(e=s.encode(e),this.value=a.encode(e),this.params.CHARSET="UTF-8",this.params.ENCODING="QUOTED-PRINTABLE",void 0):(e=a.decode(this.value),e=s.decode(e))},r.Item.prototype.base64=function(e){return e?(this.value=e,void(this.param.ENCODING=this.param.ENCODING||"BASE64")):this.value},r.parse=function(e,t){t=t||{};var n,i,u=[];return o.isString(e)?(n=[],e=e.replace(/^=/gm," "),e.split(/(\r\n|\r|\n)(?=\S)/).forEach(function(e){if(e=e.replace(/^item\d+\.|\r\n\s*|\r\s*|\n\s*/g,""))switch(e){case"BEGIN:VCARD":n=[];break;case"END:VCARD":if(i=new r(n,t),t.filter&&!t.filter(i))break;u.push(i);break;default:n.push(e)}})):o.isArray(e)&&e.forEach(function(e){u.push(new r(e[1]))}),u},r.serialize=function(e,t){t=t||{};var n=[];return e.forEach(function(e){o.isArray(e)&&(e=new r(e[1])),t.filter&&!t.filter(e)||n.push(e.toString(t))}),n.join(r.EOL)},r.readFile=function(e,t,n){t=t||{},o.isFunction(t)&&(n=t,t={}),u.readFile(t.filename=e,{encoding:t.encoding||"utf8"},function(e,i){var o=null;if(!e)try{o=r.parse(i,t)}catch(t){e=t}n(e,o,i)})},t.exports=r},{fs:1,"quoted-printable":4,utf8:5,util:7}],"vcard-js":[function(e,t,n){t.exports=e("./lib/VCard")},{"./lib/VCard":8}]},{},[])("vcard-js")});

var vcard = module.exports;
