!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.geopoint=t()}}(function(){return function t(e,n,o){function r(a,d){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!d&&u)return u(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(t){var n=e[a][1][t];return r(n?n:t)},f,f.exports,t,e,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({geopoint:[function(t,e,n){(function(){function t(t){return"[object Number]"===o.call(t)&&t===+t}function n(e,o,r){if(!t(e))throw new Error("Invalid latitude");if(!t(o))throw new Error("Invalid longitude");if(r===!0?(this._degLat=n.radiansToDegrees(e),this._degLon=n.radiansToDegrees(o),this._radLat=e,this._radLon=o):(this._degLat=e,this._degLon=o,this._radLat=n.degreesToRadians(e),this._radLon=n.degreesToRadians(o)),this._radLat<h||this._radLat>f)throw new Error("Latitude out of bounds");if(this._radLon<c||this._radLon>l)throw new Error("Longitude out of bounds")}var o=Object.prototype.toString,r=Math.PI/180,i=180/Math.PI,a=1.6093439999999999,d=.621371192237334,u=6371.01,s=3958.762079,f=Math.PI/2,h=-f,l=Math.PI,c=-l,p=2*Math.PI;n.prototype.latitude=function(t){return t===!0?this._radLat:this._degLat},n.prototype.longitude=function(t){return t===!0?this._radLon:this._degLon},n.prototype.distanceTo=function(t,e){if(!(t instanceof n))throw new Error("Invalid GeoPoint");var o=e===!0?u:s,r=this.latitude(!0),i=t.latitude(!0),a=this.longitude(!0),d=t.longitude(!0);return Math.acos(Math.sin(r)*Math.sin(i)+Math.cos(r)*Math.cos(i)*Math.cos(a-d))*o},n.prototype.boundingCoordinates=function(e,o,r){if(!t(e)||e<=0)throw new Error("Invalid distance");o!==!0&&o!==!1||(r=o,o=null),(!t(o)||o<=0)&&(o=r===!0?u:s);var i,a,d,w=this.latitude(!0),g=this.longitude(!0),v=e/o,L=w-v,M=w+v;return L>h&&M<f?(d=Math.asin(Math.sin(v)/Math.cos(w)),i=g-d,i<c&&(i+=p),a=g+d,a>l&&(a-=p)):(L=Math.max(L,h),M=Math.min(M,f),i=c,a=l),[new n(L,i,!0),new n(M,a,!0)]},n.degreesToRadians=function(e){if(!t(e))throw new Error("Invalid degree value");return e*r},n.radiansToDegrees=function(e){if(!t(e))throw new Error("Invalid radian value");return e*i},n.milesToKilometers=function(e){if(!t(e))throw new Error("Invalid mile value");return e*a},n.kilometersToMiles=function(e){if(!t(e))throw new Error("Invalid kilometer value");return e*d},"undefined"!=typeof e&&"undefined"!=typeof e.exports?e.exports=n:this.GeoPoint=n}).call(this)},{}]},{},[])("geopoint")});

var geopoint = module.exports;
