(function(t){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=t()}else if(typeof define==="function"&&define.amd){define([],t)}else{var e;if(typeof window!=="undefined"){e=window}else if(typeof global!=="undefined"){e=global}else if(typeof self!=="undefined"){e=self}else{e=this}e.turf=t()}})(function(){var t,e,r;return function n(t,e,r){function i(s,a){if(!e[s]){if(!t[s]){var u=typeof require=="function"&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var p=new Error("Cannot find module '"+s+"'");throw p.code="MODULE_NOT_FOUND",p}var l=e[s]={exports:{}};t[s][0].call(l.exports,function(e){var r=t[s][1][e];return i(r?r:e)},l,l.exports,n,t,e,r)}return e[s].exports}var o=typeof require=="function"&&require;for(var s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,r){(function(e){var n=t("base64-js");var i=t("ieee754");var o=t("isarray");r.Buffer=p;r.SlowBuffer=x;r.INSPECT_MAX_BYTES=50;p.poolSize=8192;var s={};p.TYPED_ARRAY_SUPPORT=e.TYPED_ARRAY_SUPPORT!==undefined?e.TYPED_ARRAY_SUPPORT:a();function a(){function t(){}try{var e=new Uint8Array(1);e.foo=function(){return 42};e.constructor=t;return e.foo()===42&&e.constructor===t&&typeof e.subarray==="function"&&e.subarray(1,1).byteLength===0}catch(r){return false}}function u(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function p(t){if(!(this instanceof p)){if(arguments.length>1)return new p(t,arguments[1]);return new p(t)}this.length=0;this.parent=undefined;if(typeof t==="number"){return l(this,t)}if(typeof t==="string"){return g(this,t,arguments.length>1?arguments[1]:"utf8")}return h(this,t)}function l(t,e){t=j(t,e<0?0:E(e)|0);if(!p.TYPED_ARRAY_SUPPORT){for(var r=0;r<e;r++){t[r]=0}}return t}function g(t,e,r){if(typeof r!=="string"||r==="")r="utf8";var n=I(e,r)|0;t=j(t,n);t.write(e,r);return t}function h(t,e){if(p.isBuffer(e))return f(t,e);if(o(e))return c(t,e);if(e==null){throw new TypeError("must start with number, buffer, array or string")}if(typeof ArrayBuffer!=="undefined"){if(e.buffer instanceof ArrayBuffer){return d(t,e)}if(e instanceof ArrayBuffer){return m(t,e)}}if(e.length)return y(t,e);return v(t,e)}function f(t,e){var r=E(e.length)|0;t=j(t,r);e.copy(t,0,0,r);return t}function c(t,e){var r=E(e.length)|0;t=j(t,r);for(var n=0;n<r;n+=1){t[n]=e[n]&255}return t}function d(t,e){var r=E(e.length)|0;t=j(t,r);for(var n=0;n<r;n+=1){t[n]=e[n]&255}return t}function m(t,e){if(p.TYPED_ARRAY_SUPPORT){e.byteLength;t=p._augment(new Uint8Array(e))}else{t=d(t,new Uint8Array(e))}return t}function y(t,e){var r=E(e.length)|0;t=j(t,r);for(var n=0;n<r;n+=1){t[n]=e[n]&255}return t}function v(t,e){var r;var n=0;if(e.type==="Buffer"&&o(e.data)){r=e.data;n=E(r.length)|0}t=j(t,n);for(var i=0;i<n;i+=1){t[i]=r[i]&255}return t}if(p.TYPED_ARRAY_SUPPORT){p.prototype.__proto__=Uint8Array.prototype;p.__proto__=Uint8Array}function j(t,e){if(p.TYPED_ARRAY_SUPPORT){t=p._augment(new Uint8Array(e));t.__proto__=p.prototype}else{t.length=e;t._isBuffer=true}var r=e!==0&&e<=p.poolSize>>>1;if(r)t.parent=s;return t}function E(t){if(t>=u()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+u().toString(16)+" bytes")}return t|0}function x(t,e){if(!(this instanceof x))return new x(t,e);var r=new p(t,e);delete r.parent;return r}p.isBuffer=function et(t){return!!(t!=null&&t._isBuffer)};p.compare=function rt(t,e){if(!p.isBuffer(t)||!p.isBuffer(e)){throw new TypeError("Arguments must be Buffers")}if(t===e)return 0;var r=t.length;var n=e.length;var i=0;var o=Math.min(r,n);while(i<o){if(t[i]!==e[i])break;++i}if(i!==o){r=t[i];n=e[i]}if(r<n)return-1;if(n<r)return 1;return 0};p.isEncoding=function nt(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};p.concat=function it(t,e){if(!o(t))throw new TypeError("list argument must be an Array of Buffers.");if(t.length===0){return new p(0)}var r;if(e===undefined){e=0;for(r=0;r<t.length;r++){e+=t[r].length}}var n=new p(e);var i=0;for(r=0;r<t.length;r++){var s=t[r];s.copy(n,i);i+=s.length}return n};function I(t,e){if(typeof t!=="string")t=""+t;var r=t.length;if(r===0)return 0;var n=false;for(;;){switch(e){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return K(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Z(t).length;default:if(n)return K(t).length;e=(""+e).toLowerCase();n=true}}}p.byteLength=I;p.prototype.length=undefined;p.prototype.parent=undefined;function S(t,e,r){var n=false;e=e|0;r=r===undefined||r===Infinity?this.length:r|0;if(!t)t="utf8";if(e<0)e=0;if(r>this.length)r=this.length;if(r<=e)return"";while(true){switch(t){case"hex":return G(this,e,r);case"utf8":case"utf-8":return O(this,e,r);case"ascii":return T(this,e,r);case"binary":return D(this,e,r);case"base64":return R(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase();n=true}}}p.prototype.toString=function ot(){var t=this.length|0;if(t===0)return"";if(arguments.length===0)return O(this,0,t);return S.apply(this,arguments)};p.prototype.equals=function st(t){if(!p.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(this===t)return true;return p.compare(this,t)===0};p.prototype.inspect=function at(){var t="";var e=r.INSPECT_MAX_BYTES;if(this.length>0){t=this.toString("hex",0,e).match(/.{2}/g).join(" ");if(this.length>e)t+=" ... "}return"<Buffer "+t+">"};p.prototype.compare=function ut(t){if(!p.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(this===t)return 0;return p.compare(this,t)};p.prototype.indexOf=function pt(t,e){if(e>2147483647)e=2147483647;else if(e<-2147483648)e=-2147483648;e>>=0;if(this.length===0)return-1;if(e>=this.length)return-1;if(e<0)e=Math.max(this.length+e,0);if(typeof t==="string"){if(t.length===0)return-1;return String.prototype.indexOf.call(this,t,e)}if(p.isBuffer(t)){return r(this,t,e)}if(typeof t==="number"){if(p.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"){return Uint8Array.prototype.indexOf.call(this,t,e)}return r(this,[t],e)}function r(t,e,r){var n=-1;for(var i=0;r+i<t.length;i++){if(t[r+i]===e[n===-1?0:i-n]){if(n===-1)n=i;if(i-n+1===e.length)return r+n}else{n=-1}}return-1}throw new TypeError("val must be string, number or Buffer")};p.prototype.get=function lt(t){console.log(".get() is deprecated. Access using array indexes instead.");return this.readUInt8(t)};p.prototype.set=function gt(t,e){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(t,e)};function L(t,e,r,n){r=Number(r)||0;var i=t.length-r;if(!n){n=i}else{n=Number(n);if(n>i){n=i}}var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");if(n>o/2){n=o/2}for(var s=0;s<n;s++){var a=parseInt(e.substr(s*2,2),16);if(isNaN(a))throw new Error("Invalid hex string");t[r+s]=a}return s}function C(t,e,r,n){return tt(K(e,t.length-r),t,r,n)}function N(t,e,r,n){return tt(J(e),t,r,n)}function b(t,e,r,n){return N(t,e,r,n)}function P(t,e,r,n){return tt(Z(e),t,r,n)}function w(t,e,r,n){return tt($(e,t.length-r),t,r,n)}p.prototype.write=function ht(t,e,r,n){if(e===undefined){n="utf8";r=this.length;e=0}else if(r===undefined&&typeof e==="string"){n=e;r=this.length;e=0}else if(isFinite(e)){e=e|0;if(isFinite(r)){r=r|0;if(n===undefined)n="utf8"}else{n=r;r=undefined}}else{var i=n;n=e;e=r|0;r=i}var o=this.length-e;if(r===undefined||r>o)r=o;if(t.length>0&&(r<0||e<0)||e>this.length){throw new RangeError("attempt to write outside buffer bounds")}if(!n)n="utf8";var s=false;for(;;){switch(n){case"hex":return L(this,t,e,r);case"utf8":case"utf-8":return C(this,t,e,r);case"ascii":return N(this,t,e,r);case"binary":return b(this,t,e,r);case"base64":return P(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase();s=true}}};p.prototype.toJSON=function ft(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(t,e,r){if(e===0&&r===t.length){return n.fromByteArray(t)}else{return n.fromByteArray(t.slice(e,r))}}function O(t,e,r){r=Math.min(t.length,r);var n=[];var i=e;while(i<r){var o=t[i];var s=null;var a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){var u,p,l,g;switch(a){case 1:if(o<128){s=o}break;case 2:u=t[i+1];if((u&192)===128){g=(o&31)<<6|u&63;if(g>127){s=g}}break;case 3:u=t[i+1];p=t[i+2];if((u&192)===128&&(p&192)===128){g=(o&15)<<12|(u&63)<<6|p&63;if(g>2047&&(g<55296||g>57343)){s=g}}break;case 4:u=t[i+1];p=t[i+2];l=t[i+3];if((u&192)===128&&(p&192)===128&&(l&192)===128){g=(o&15)<<18|(u&63)<<12|(p&63)<<6|l&63;if(g>65535&&g<1114112){s=g}}}}if(s===null){s=65533;a=1}else if(s>65535){s-=65536;n.push(s>>>10&1023|55296);s=56320|s&1023}n.push(s);i+=a}return A(n)}var M=4096;function A(t){var e=t.length;if(e<=M){return String.fromCharCode.apply(String,t)}var r="";var n=0;while(n<e){r+=String.fromCharCode.apply(String,t.slice(n,n+=M))}return r}function T(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;i++){n+=String.fromCharCode(t[i]&127)}return n}function D(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;i++){n+=String.fromCharCode(t[i])}return n}function G(t,e,r){var n=t.length;if(!e||e<0)e=0;if(!r||r<0||r>n)r=n;var i="";for(var o=e;o<r;o++){i+=Q(t[o])}return i}function F(t,e,r){var n=t.slice(e,r);var i="";for(var o=0;o<n.length;o+=2){i+=String.fromCharCode(n[o]+n[o+1]*256)}return i}p.prototype.slice=function ct(t,e){var r=this.length;t=~~t;e=e===undefined?r:~~e;if(t<0){t+=r;if(t<0)t=0}else if(t>r){t=r}if(e<0){e+=r;if(e<0)e=0}else if(e>r){e=r}if(e<t)e=t;var n;if(p.TYPED_ARRAY_SUPPORT){n=p._augment(this.subarray(t,e))}else{var i=e-t;n=new p(i,undefined);for(var o=0;o<i;o++){n[o]=this[o+t]}}if(n.length)n.parent=this.parent||this;return n};function B(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUIntLE=function dt(t,e,r){t=t|0;e=e|0;if(!r)B(t,e,this.length);var n=this[t];var i=1;var o=0;while(++o<e&&(i*=256)){n+=this[t+o]*i}return n};p.prototype.readUIntBE=function mt(t,e,r){t=t|0;e=e|0;if(!r){B(t,e,this.length)}var n=this[t+--e];var i=1;while(e>0&&(i*=256)){n+=this[t+--e]*i}return n};p.prototype.readUInt8=function yt(t,e){if(!e)B(t,1,this.length);return this[t]};p.prototype.readUInt16LE=function vt(t,e){if(!e)B(t,2,this.length);return this[t]|this[t+1]<<8};p.prototype.readUInt16BE=function jt(t,e){if(!e)B(t,2,this.length);return this[t]<<8|this[t+1]};p.prototype.readUInt32LE=function Et(t,e){if(!e)B(t,4,this.length);return(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};p.prototype.readUInt32BE=function xt(t,e){if(!e)B(t,4,this.length);return this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};p.prototype.readIntLE=function It(t,e,r){t=t|0;e=e|0;if(!r)B(t,e,this.length);var n=this[t];var i=1;var o=0;while(++o<e&&(i*=256)){n+=this[t+o]*i}i*=128;if(n>=i)n-=Math.pow(2,8*e);return n};p.prototype.readIntBE=function St(t,e,r){t=t|0;e=e|0;if(!r)B(t,e,this.length);var n=e;var i=1;var o=this[t+--n];while(n>0&&(i*=256)){o+=this[t+--n]*i}i*=128;if(o>=i)o-=Math.pow(2,8*e);return o};p.prototype.readInt8=function Lt(t,e){if(!e)B(t,1,this.length);if(!(this[t]&128))return this[t];return(255-this[t]+1)*-1};p.prototype.readInt16LE=function Ct(t,e){if(!e)B(t,2,this.length);var r=this[t]|this[t+1]<<8;return r&32768?r|4294901760:r};p.prototype.readInt16BE=function Nt(t,e){if(!e)B(t,2,this.length);var r=this[t+1]|this[t]<<8;return r&32768?r|4294901760:r};p.prototype.readInt32LE=function bt(t,e){if(!e)B(t,4,this.length);return this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};p.prototype.readInt32BE=function Pt(t,e){if(!e)B(t,4,this.length);return this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};p.prototype.readFloatLE=function wt(t,e){if(!e)B(t,4,this.length);return i.read(this,t,true,23,4)};p.prototype.readFloatBE=function Rt(t,e){if(!e)B(t,4,this.length);return i.read(this,t,false,23,4)};p.prototype.readDoubleLE=function Ot(t,e){if(!e)B(t,8,this.length);return i.read(this,t,true,52,8)};p.prototype.readDoubleBE=function Mt(t,e){if(!e)B(t,8,this.length);return i.read(this,t,false,52,8)};function q(t,e,r,n,i,o){if(!p.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>i||e<o)throw new RangeError("value is out of bounds");if(r+n>t.length)throw new RangeError("index out of range")}p.prototype.writeUIntLE=function At(t,e,r,n){t=+t;e=e|0;r=r|0;if(!n)q(this,t,e,r,Math.pow(2,8*r),0);var i=1;var o=0;this[e]=t&255;while(++o<r&&(i*=256)){this[e+o]=t/i&255}return e+r};p.prototype.writeUIntBE=function Tt(t,e,r,n){t=+t;e=e|0;r=r|0;if(!n)q(this,t,e,r,Math.pow(2,8*r),0);var i=r-1;var o=1;this[e+i]=t&255;while(--i>=0&&(o*=256)){this[e+i]=t/o&255}return e+r};p.prototype.writeUInt8=function Dt(t,e,r){t=+t;e=e|0;if(!r)q(this,t,e,1,255,0);if(!p.TYPED_ARRAY_SUPPORT)t=Math.floor(t);this[e]=t&255;return e+1};function _(t,e,r,n){if(e<0)e=65535+e+1;for(var i=0,o=Math.min(t.length-r,2);i<o;i++){t[r+i]=(e&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}}p.prototype.writeUInt16LE=function Gt(t,e,r){t=+t;e=e|0;if(!r)q(this,t,e,2,65535,0);if(p.TYPED_ARRAY_SUPPORT){this[e]=t&255;this[e+1]=t>>>8}else{_(this,t,e,true)}return e+2};p.prototype.writeUInt16BE=function Ft(t,e,r){t=+t;e=e|0;if(!r)q(this,t,e,2,65535,0);if(p.TYPED_ARRAY_SUPPORT){this[e]=t>>>8;this[e+1]=t&255}else{_(this,t,e,false)}return e+2};function V(t,e,r,n){if(e<0)e=4294967295+e+1;for(var i=0,o=Math.min(t.length-r,4);i<o;i++){t[r+i]=e>>>(n?i:3-i)*8&255}}p.prototype.writeUInt32LE=function Bt(t,e,r){t=+t;e=e|0;if(!r)q(this,t,e,4,4294967295,0);if(p.TYPED_ARRAY_SUPPORT){this[e+3]=t>>>24;this[e+2]=t>>>16;this[e+1]=t>>>8;this[e]=t&255}else{V(this,t,e,true)}return e+4};p.prototype.writeUInt32BE=function qt(t,e,r){t=+t;e=e|0;if(!r)q(this,t,e,4,4294967295,0);if(p.TYPED_ARRAY_SUPPORT){this[e]=t>>>24;this[e+1]=t>>>16;this[e+2]=t>>>8;this[e+3]=t&255}else{V(this,t,e,false)}return e+4};p.prototype.writeIntLE=function _t(t,e,r,n){t=+t;e=e|0;if(!n){var i=Math.pow(2,8*r-1);q(this,t,e,r,i-1,-i)}var o=0;var s=1;var a=t<0?1:0;this[e]=t&255;while(++o<r&&(s*=256)){this[e+o]=(t/s>>0)-a&255}return e+r};p.prototype.writeIntBE=function Vt(t,e,r,n){t=+t;e=e|0;if(!n){var i=Math.pow(2,8*r-1);q(this,t,e,r,i-1,-i)}var o=r-1;var s=1;var a=t<0?1:0;this[e+o]=t&255;while(--o>=0&&(s*=256)){this[e+o]=(t/s>>0)-a&255}return e+r};p.prototype.writeInt8=function kt(t,e,r){t=+t;e=e|0;if(!r)q(this,t,e,1,127,-128);if(!p.TYPED_ARRAY_SUPPORT)t=Math.floor(t);if(t<0)t=255+t+1;this[e]=t&255;return e+1};p.prototype.writeInt16LE=function Ut(t,e,r){t=+t;e=e|0;if(!r)q(this,t,e,2,32767,-32768);if(p.TYPED_ARRAY_SUPPORT){this[e]=t&255;this[e+1]=t>>>8}else{_(this,t,e,true)}return e+2};p.prototype.writeInt16BE=function Yt(t,e,r){t=+t;e=e|0;if(!r)q(this,t,e,2,32767,-32768);if(p.TYPED_ARRAY_SUPPORT){this[e]=t>>>8;this[e+1]=t&255}else{_(this,t,e,false)}return e+2};p.prototype.writeInt32LE=function Ht(t,e,r){t=+t;e=e|0;if(!r)q(this,t,e,4,2147483647,-2147483648);if(p.TYPED_ARRAY_SUPPORT){this[e]=t&255;this[e+1]=t>>>8;this[e+2]=t>>>16;this[e+3]=t>>>24}else{V(this,t,e,true)}return e+4};p.prototype.writeInt32BE=function zt(t,e,r){t=+t;e=e|0;if(!r)q(this,t,e,4,2147483647,-2147483648);if(t<0)t=4294967295+t+1;if(p.TYPED_ARRAY_SUPPORT){this[e]=t>>>24;this[e+1]=t>>>16;this[e+2]=t>>>8;this[e+3]=t&255}else{V(this,t,e,false)}return e+4};function k(t,e,r,n,i,o){if(e>i||e<o)throw new RangeError("value is out of bounds");if(r+n>t.length)throw new RangeError("index out of range");if(r<0)throw new RangeError("index out of range")}function U(t,e,r,n,o){if(!o){k(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38)}i.write(t,e,r,n,23,4);return r+4}p.prototype.writeFloatLE=function Xt(t,e,r){return U(this,t,e,true,r)};p.prototype.writeFloatBE=function Wt(t,e,r){return U(this,t,e,false,r)};function Y(t,e,r,n,o){if(!o){k(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308)}i.write(t,e,r,n,52,8);return r+8}p.prototype.writeDoubleLE=function Qt(t,e,r){return Y(this,t,e,true,r)};p.prototype.writeDoubleBE=function Kt(t,e,r){return Y(this,t,e,false,r)};p.prototype.copy=function Jt(t,e,r,n){if(!r)r=0;if(!n&&n!==0)n=this.length;if(e>=t.length)e=t.length;if(!e)e=0;if(n>0&&n<r)n=r;if(n===r)return 0;if(t.length===0||this.length===0)return 0;if(e<0){throw new RangeError("targetStart out of bounds")}if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");if(n>this.length)n=this.length;if(t.length-e<n-r){n=t.length-e+r}var i=n-r;var o;if(this===t&&r<e&&e<n){for(o=i-1;o>=0;o--){t[o+e]=this[o+r]}}else if(i<1e3||!p.TYPED_ARRAY_SUPPORT){for(o=0;o<i;o++){t[o+e]=this[o+r]}}else{t._set(this.subarray(r,r+i),e)}return i};p.prototype.fill=function $t(t,e,r){if(!t)t=0;if(!e)e=0;if(!r)r=this.length;if(r<e)throw new RangeError("end < start");if(r===e)return;if(this.length===0)return;if(e<0||e>=this.length)throw new RangeError("start out of bounds");if(r<0||r>this.length)throw new RangeError("end out of bounds");var n;if(typeof t==="number"){for(n=e;n<r;n++){this[n]=t}}else{var i=K(t.toString());var o=i.length;for(n=e;n<r;n++){this[n]=i[n%o]}}return this};p.prototype.toArrayBuffer=function Zt(){if(typeof Uint8Array!=="undefined"){if(p.TYPED_ARRAY_SUPPORT){return new p(this).buffer}else{var t=new Uint8Array(this.length);for(var e=0,r=t.length;e<r;e+=1){t[e]=this[e]}return t.buffer}}else{throw new TypeError("Buffer.toArrayBuffer not supported in this browser")}};var H=p.prototype;p._augment=function te(t){t.constructor=p;t._isBuffer=true;t._set=t.set;t.get=H.get;t.set=H.set;t.write=H.write;t.toString=H.toString;t.toLocaleString=H.toString;t.toJSON=H.toJSON;t.equals=H.equals;t.compare=H.compare;t.indexOf=H.indexOf;t.copy=H.copy;t.slice=H.slice;t.readUIntLE=H.readUIntLE;t.readUIntBE=H.readUIntBE;t.readUInt8=H.readUInt8;t.readUInt16LE=H.readUInt16LE;t.readUInt16BE=H.readUInt16BE;t.readUInt32LE=H.readUInt32LE;t.readUInt32BE=H.readUInt32BE;t.readIntLE=H.readIntLE;t.readIntBE=H.readIntBE;t.readInt8=H.readInt8;t.readInt16LE=H.readInt16LE;t.readInt16BE=H.readInt16BE;t.readInt32LE=H.readInt32LE;t.readInt32BE=H.readInt32BE;t.readFloatLE=H.readFloatLE;t.readFloatBE=H.readFloatBE;t.readDoubleLE=H.readDoubleLE;t.readDoubleBE=H.readDoubleBE;t.writeUInt8=H.writeUInt8;t.writeUIntLE=H.writeUIntLE;t.writeUIntBE=H.writeUIntBE;t.writeUInt16LE=H.writeUInt16LE;t.writeUInt16BE=H.writeUInt16BE;t.writeUInt32LE=H.writeUInt32LE;t.writeUInt32BE=H.writeUInt32BE;t.writeIntLE=H.writeIntLE;t.writeIntBE=H.writeIntBE;t.writeInt8=H.writeInt8;t.writeInt16LE=H.writeInt16LE;t.writeInt16BE=H.writeInt16BE;t.writeInt32LE=H.writeInt32LE;t.writeInt32BE=H.writeInt32BE;t.writeFloatLE=H.writeFloatLE;t.writeFloatBE=H.writeFloatBE;t.writeDoubleLE=H.writeDoubleLE;t.writeDoubleBE=H.writeDoubleBE;t.fill=H.fill;t.inspect=H.inspect;t.toArrayBuffer=H.toArrayBuffer;return t};var z=/[^+\/0-9A-Za-z-_]/g;function X(t){t=W(t).replace(z,"");if(t.length<2)return"";while(t.length%4!==0){t=t+"="}return t}function W(t){if(t.trim)return t.trim();return t.replace(/^\s+|\s+$/g,"")}function Q(t){if(t<16)return"0"+t.toString(16);return t.toString(16)}function K(t,e){e=e||Infinity;var r;var n=t.length;var i=null;var o=[];for(var s=0;s<n;s++){r=t.charCodeAt(s);if(r>55295&&r<57344){if(!i){if(r>56319){if((e-=3)>-1)o.push(239,191,189);continue}else if(s+1===n){if((e-=3)>-1)o.push(239,191,189);continue}i=r;continue}if(r<56320){if((e-=3)>-1)o.push(239,191,189);i=r;continue}r=(i-55296<<10|r-56320)+65536}else if(i){if((e-=3)>-1)o.push(239,191,189)}i=null;if(r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else{throw new Error("Invalid code point")}}return o}function J(t){var e=[];for(var r=0;r<t.length;r++){e.push(t.charCodeAt(r)&255)}return e}function $(t,e){var r,n,i;var o=[];for(var s=0;s<t.length;s++){if((e-=2)<0)break;r=t.charCodeAt(s);n=r>>8;i=r%256;o.push(i);o.push(n)}return o}function Z(t){return n.toByteArray(X(t))}function tt(t,e,r,n){for(var i=0;i<n;i++){if(i+r>=e.length||i>=t.length)break;e[i+r]=t[i]}return i}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"base64-js":2,ieee754:3,isarray:4}],2:[function(t,e,r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";(function(t){"use strict";var e=typeof Uint8Array!=="undefined"?Uint8Array:Array;var r="+".charCodeAt(0);var i="/".charCodeAt(0);var o="0".charCodeAt(0);var s="a".charCodeAt(0);var a="A".charCodeAt(0);var u="-".charCodeAt(0);var p="_".charCodeAt(0);function l(t){var e=t.charCodeAt(0);if(e===r||e===u)return 62;if(e===i||e===p)return 63;if(e<o)return-1;if(e<o+10)return e-o+26+26;if(e<a+26)return e-a;if(e<s+26)return e-s+26}function g(t){var r,n,i,o,s,a;if(t.length%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var u=t.length;s="="===t.charAt(u-2)?2:"="===t.charAt(u-1)?1:0;a=new e(t.length*3/4-s);i=s>0?t.length-4:t.length;var p=0;function g(t){a[p++]=t}for(r=0,n=0;r<i;r+=4,n+=3){o=l(t.charAt(r))<<18|l(t.charAt(r+1))<<12|l(t.charAt(r+2))<<6|l(t.charAt(r+3));g((o&16711680)>>16);g((o&65280)>>8);g(o&255)}if(s===2){o=l(t.charAt(r))<<2|l(t.charAt(r+1))>>4;g(o&255)}else if(s===1){o=l(t.charAt(r))<<10|l(t.charAt(r+1))<<4|l(t.charAt(r+2))>>2;g(o>>8&255);g(o&255)}return a}function h(t){var e,r=t.length%3,i="",o,s;function a(t){return n.charAt(t)}function u(t){return a(t>>18&63)+a(t>>12&63)+a(t>>6&63)+a(t&63)}for(e=0,s=t.length-r;e<s;e+=3){o=(t[e]<<16)+(t[e+1]<<8)+t[e+2];i+=u(o)}switch(r){case 1:o=t[t.length-1];i+=a(o>>2);i+=a(o<<4&63);i+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1];i+=a(o>>10);i+=a(o>>4&63);i+=a(o<<2&63);i+="=";break}return i}t.toByteArray=g;t.fromByteArray=h})(typeof r==="undefined"?this.base64js={}:r)},{}],3:[function(t,e,r){r.read=function(t,e,r,n,i){var o,s;var a=i*8-n-1;var u=(1<<a)-1;var p=u>>1;var l=-7;var g=r?i-1:0;var h=r?-1:1;var f=t[e+g];g+=h;o=f&(1<<-l)-1;f>>=-l;l+=a;for(;l>0;o=o*256+t[e+g],g+=h,l-=8){}s=o&(1<<-l)-1;o>>=-l;l+=n;for(;l>0;s=s*256+t[e+g],g+=h,l-=8){}if(o===0){o=1-p}else if(o===u){return s?NaN:(f?-1:1)*Infinity}else{s=s+Math.pow(2,n);o=o-p}return(f?-1:1)*s*Math.pow(2,o-n)};r.write=function(t,e,r,n,i,o){var s,a,u;var p=o*8-i-1;var l=(1<<p)-1;var g=l>>1;var h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0;var f=n?0:o-1;var c=n?1:-1;var d=e<0||e===0&&1/e<0?1:0;e=Math.abs(e);if(isNaN(e)||e===Infinity){a=isNaN(e)?1:0;s=l}else{s=Math.floor(Math.log(e)/Math.LN2);if(e*(u=Math.pow(2,-s))<1){s--;u*=2}if(s+g>=1){e+=h/u}else{e+=h*Math.pow(2,1-g)}if(e*u>=2){s++;u/=2}if(s+g>=l){a=0;s=l}else if(s+g>=1){a=(e*u-1)*Math.pow(2,i);s=s+g}else{a=e*Math.pow(2,g-1)*Math.pow(2,i);s=0}}for(;i>=8;t[r+f]=a&255,f+=c,a/=256,i-=8){}s=s<<i|a;p+=i;for(;p>0;t[r+f]=s&255,f+=c,s/=256,p-=8){}t[r+f-c]|=d*128}},{}],4:[function(t,e,r){e.exports=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"}},{}],5:[function(t,e,r){var n=t("turf-inside");e.exports=function(t,e,r,i){t=JSON.parse(JSON.stringify(t));e=JSON.parse(JSON.stringify(e));t.features.forEach(function(t){if(!t.properties){t.properties={}}e.features.forEach(function(e){if(t.properties[i]===undefined){var o=n(t,e);if(o){t.properties[i]=e.properties[r]}}})});return t}},{"turf-inside":6}],6:[function(t,e,r){e.exports=function(t,e){var r=e.geometry.coordinates;var i=[t.geometry.coordinates[0],t.geometry.coordinates[1]];if(e.geometry.type==="Polygon")r=[r];var o=false;var s=0;while(s<r.length&&!o){if(n(i,r[s][0])){var a=false;var u=1;while(u<r[s].length&&!a){if(n(i,r[s][u])){a=true}u++}if(!a)o=true}s++}return o};function n(t,e){var r=false;for(var n=0,i=e.length-1;n<e.length;i=n++){var o=e[n][0],s=e[n][1];var a=e[i][0],u=e[i][1];var p=s>t[1]!=u>t[1]&&t[0]<(a-o)*(t[1]-s)/(u-s)+o;if(p)r=!r}return r}},{}],7:[function(t,e,r){var n=t("turf-average");var i=t("turf-sum");var o=t("turf-median");var s=t("turf-min");var a=t("turf-max");var u=t("turf-deviation");var p=t("turf-variance");var l=t("turf-count");var g={};g.average=n;g.sum=i;g.median=o;g.min=s;g.max=a;g.deviation=u;g.variance=p;g.count=l;e.exports=function(t,e,r){for(var n=0,i=r.length;n<i;n++){var o=r[n],s=o.aggregation,a;if(h(s)){if(s==="count"){t=g[s](t,e,o.outField)}else{t=g[s](t,e,o.inField,o.outField)}}else{throw new Error('"'+s+'" is not a recognized aggregation operation.')}}return t};function h(t){return t==="average"||t==="sum"||t==="median"||t==="min"||t==="max"||t==="deviation"||t==="variance"||t==="count"}},{"turf-average":12,"turf-count":57,"turf-deviation":59,"turf-max":92,"turf-median":93,"turf-min":97,"turf-sum":117,"turf-variance":125}],8:[function(t,e,r){var n=t("turf-distance");var i=t("turf-point");var o=t("turf-bearing");var s=t("turf-destination");e.exports=function(t,e,r){var a;if(t.type==="Feature")a=t.geometry.coordinates;else if(t.type==="LineString")a=t.geometry.coordinates;else throw new Error("input must be a LineString Feature or Geometry");var u=0;for(var p=0;p<a.length;p++){if(e>=u&&p===a.length-1)break;else if(u>=e){var l=e-u;if(!l)return i(a[p]);else{var g=o(i(a[p]),i(a[p-1]))-180;var h=s(i(a[p]),l,g,r);return h}}else{u+=n(i(a[p]),i(a[p+1]),r)}}return i(a[a.length-1])}},{"turf-bearing":14,"turf-destination":58,"turf-distance":61,"turf-point":103}],9:[function(t,e,r){var n=t("geojson-area").geometry;e.exports=function(t){if(t.type==="FeatureCollection"){for(var e=0,r=0;e<t.features.length;e++){if(t.features[e].geometry){r+=n(t.features[e].geometry)}}return r}else if(t.type==="Feature"){return n(t.geometry)}else{return n(t)}}},{"geojson-area":10}],10:[function(t,e,r){var n=t("wgs84");e.exports.geometry=i;e.exports.ring=s;function i(t){var e=0,r;switch(t.type){case"Polygon":return o(t.coordinates);case"MultiPolygon":for(r=0;r<t.coordinates.length;r++){e+=o(t.coordinates[r])}return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(r=0;r<t.geometries.length;r++){e+=i(t.geometries[r])}return e}}function o(t){var e=0;if(t&&t.length>0){e+=Math.abs(s(t[0]));for(var r=1;r<t.length;r++){e-=Math.abs(s(t[r]))}}return e}function s(t){var e=0;if(t.length>2){var r,i;for(var o=0;o<t.length-1;o++){r=t[o];i=t[o+1];e+=a(i[0]-r[0])*(2+Math.sin(a(r[1]))+Math.sin(a(i[1])))}e=e*n.RADIUS*n.RADIUS/2}return e}function a(t){return t*Math.PI/180}},{wgs84:11}],11:[function(t,e,r){e.exports.RADIUS=6378137;e.exports.FLATTENING=1/298.257223563;e.exports.POLAR_RADIUS=6356752.3142},{}],12:[function(t,e,r){var n=t("turf-inside");e.exports=function(t,e,r,o,s){t.features.forEach(function(t){if(!t.properties)t.properties={};var s=[];e.features.forEach(function(e){if(n(e,t))s.push(e.properties[r])});t.properties[o]=i(s)});return t};function i(t){var e=0;for(var r=0;r<t.length;r++){e+=t[r]}return e/t.length}},{"turf-inside":77}],13:[function(t,e,r){var n=t("turf-polygon");e.exports=function(t){var e=[t[0],t[1]];var r=[t[0],t[3]];var i=[t[2],t[3]];var o=[t[2],t[1]];var s=n([[e,o,i,r,e]]);return s}},{"turf-polygon":104}],14:[function(t,e,r){e.exports=function(t,e){var r=t.geometry.coordinates;var o=e.geometry.coordinates;var s=n(r[0]);var a=n(o[0]);var u=n(r[1]);var p=n(o[1]);var l=Math.sin(a-s)*Math.cos(p);var g=Math.cos(u)*Math.sin(p)-Math.sin(u)*Math.cos(p)*Math.cos(a-s);var h=i(Math.atan2(l,g));return h};function n(t){return t*Math.PI/180}function i(t){return t*180/Math.PI}},{}],15:[function(t,e,r){var n=t("turf-linestring");var i=t("./spline.js");e.exports=function(t,e,r){var o=n([]);o.properties=t.properties;var s=t.geometry.coordinates.map(function(t){return{x:t[0],y:t[1]}});var a=new i({points:s,duration:e,sharpness:r});for(var u=0;u<a.duration;u+=10){var p=a.pos(u);if(Math.floor(u/100)%2===0){o.geometry.coordinates.push([p.x,p.y])}}return o}},{"./spline.js":16,"turf-linestring":91}],16:[function(t,e,r){var n=function(t){this.points=t.points||[];this.duration=t.duration||1e4;this.sharpness=t.sharpness||.85;this.centers=[];this.controls=[];this.stepLength=t.stepLength||60;this.length=this.points.length;this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(var e=0;e<this.length-1;e++){var r=this.points[e];var n=this.points[e+1];this.centers.push({x:(r.x+n.x)/2,y:(r.y+n.y)/2,z:(r.z+n.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(var e=0;e<this.centers.length-1;e++){var r=this.centers[e];var n=this.centers[e+1];var i=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2;var o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2;var s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}this.controls.push([this.points[this.length-1],this.points[this.length-1]]);this.steps=this.cacheSteps(this.stepLength);return this};n.prototype.cacheSteps=function(t){var e=[];var r=this.pos(0);e.push(0);for(var n=0;n<this.duration;n+=10){var i=this.pos(n);var o=Math.sqrt((i.x-r.x)*(i.x-r.x)+(i.y-r.y)*(i.y-r.y)+(i.z-r.z)*(i.z-r.z));if(o>t){e.push(n);r=i}}return e};n.prototype.vector=function(t){var e=this.pos(t+10);var r=this.pos(t-10);return{angle:180*Math.atan2(e.y-r.y,e.x-r.x)/3.14,speed:Math.sqrt((r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y)+(r.z-e.z)*(r.z-e.z))}};n.prototype.pos=function(t){function e(t,e,r,n,i){var o=function(t){var e=t*t,r=e*t;return[r,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]};var s=o(t);var a={x:i.x*s[0]+n.x*s[1]+r.x*s[2]+e.x*s[3],y:i.y*s[0]+n.y*s[1]+r.y*s[2]+e.y*s[3],z:i.z*s[0]+n.z*s[1]+r.z*s[2]+e.z*s[3]};return a}var r=t-this.delay;if(r<0)r=0;if(r>this.duration)r=this.duration-1;var n=r/this.duration;if(n>=1)return this.points[this.length-1];var i=Math.floor((this.points.length-1)*n);var o=(this.length-1)*n-i;return e(o,this.points[i],this.controls[i][1],this.controls[i+1][0],this.points[i+1])};e.exports=n},{}],17:[function(t,e,r){var n=t("turf-featurecollection");var i=t("turf-polygon");var o=t("turf-combine");var s=t("jsts");e.exports=function(t,e,r){var n;switch(r){case"miles":e=e/69.047;break;case"feet":e=e/364568;break;case"kilometers":e=e/111.12;break;case"meters":e=e/111120;break;case"degrees":break}if(t.type==="FeatureCollection"){var i=o(t);i.properties={};n=a(i,e);return n}else{n=a(t,e);return n}};var a=function(t,e){var r=new s.io.GeoJSONReader;var o=r.read(JSON.stringify(t.geometry));var a=o.buffer(e);var u=new s.io.GeoJSONParser;a=u.write(a);if(a.type==="MultiPolygon"){a={type:"Feature",geometry:a,properties:{}};a=n([a])}else{a=n([i(a.coordinates)])}return a}},{jsts:18,"turf-combine":25,"turf-featurecollection":73,"turf-polygon":104}],18:[function(t,e,r){t("javascript.util");var n=t("./lib/jsts");e.exports=n},{"./lib/jsts":19,"javascript.util":21}],19:[function(t,e,r){jsts={version:"0.15.0",algorithm:{distance:{},locate:{}},error:{},geom:{util:{}},geomgraph:{index:{}},index:{bintree:{},chain:{},kdtree:{},quadtree:{},strtree:{}},io:{},noding:{snapround:{}},operation:{buffer:{},distance:{},overlay:{snap:{}},polygonize:{},predicate:{},relate:{},union:{},valid:{}},planargraph:{},simplify:{},triangulate:{quadedge:{}},util:{}};if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}jsts.abstractFunc=function(){throw new jsts.error.AbstractMethodInvocationError};jsts.error={};jsts.error.IllegalArgumentError=function(t){this.name="IllegalArgumentError";this.message=t};
jsts.error.IllegalArgumentError.prototype=new Error;jsts.error.TopologyError=function(t,e){this.name="TopologyError";this.message=e?t+" [ "+e+" ]":t};jsts.error.TopologyError.prototype=new Error;jsts.error.AbstractMethodInvocationError=function(){this.name="AbstractMethodInvocationError";this.message="Abstract method called, should be implemented in subclass."};jsts.error.AbstractMethodInvocationError.prototype=new Error;jsts.error.NotImplementedError=function(){this.name="NotImplementedError";this.message="This method has not yet been implemented."};jsts.error.NotImplementedError.prototype=new Error;jsts.error.NotRepresentableError=function(t){this.name="NotRepresentableError";this.message=t};jsts.error.NotRepresentableError.prototype=new Error;jsts.error.LocateFailureError=function(t){this.name="LocateFailureError";this.message=t};jsts.error.LocateFailureError.prototype=new Error;if(typeof e!=="undefined")e.exports=jsts;jsts.geom.GeometryFilter=function(){};jsts.geom.GeometryFilter.prototype.filter=function(t){throw new jsts.error.AbstractMethodInvocationError};jsts.geom.util.PolygonExtracter=function(t){this.comps=t};jsts.geom.util.PolygonExtracter.prototype=new jsts.geom.GeometryFilter;jsts.geom.util.PolygonExtracter.prototype.comps=null;jsts.geom.util.PolygonExtracter.getPolygons=function(t,e){if(e===undefined){e=[]}if(t instanceof jsts.geom.Polygon){e.push(t)}else if(t instanceof jsts.geom.GeometryCollection){t.apply(new jsts.geom.util.PolygonExtracter(e))}return e};jsts.geom.util.PolygonExtracter.prototype.filter=function(t){if(t instanceof jsts.geom.Polygon)this.comps.push(t)};jsts.io.WKTParser=function(t){this.geometryFactory=t||new jsts.geom.GeometryFactory;this.regExes={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/}};jsts.io.WKTParser.prototype.read=function(t){var e,r,n;t=t.replace(/[\n\r]/g," ");var i=this.regExes.typeStr.exec(t);if(t.search("EMPTY")!==-1){i=this.regExes.emptyTypeStr.exec(t);i[2]=undefined}if(i){r=i[1].toLowerCase();n=i[2];if(this.parse[r]){e=this.parse[r].apply(this,[n])}}if(e===undefined)throw new Error("Could not parse WKT "+t);return e};jsts.io.WKTParser.prototype.write=function(t){return this.extractGeometry(t)};jsts.io.WKTParser.prototype.extractGeometry=function(t){var e=t.CLASS_NAME.split(".")[2].toLowerCase();if(!this.extract[e]){return null}var r=e.toUpperCase();var n;if(t.isEmpty()){n=r+" EMPTY"}else{n=r+"("+this.extract[e].apply(this,[t])+")"}return n};jsts.io.WKTParser.prototype.extract={coordinate:function(t){return t.x+" "+t.y},point:function(t){return t.coordinate.x+" "+t.coordinate.y},multipoint:function(t){var e=[];for(var r=0,n=t.geometries.length;r<n;++r){e.push("("+this.extract.point.apply(this,[t.geometries[r]])+")")}return e.join(",")},linestring:function(t){var e=[];for(var r=0,n=t.points.length;r<n;++r){e.push(this.extract.coordinate.apply(this,[t.points[r]]))}return e.join(",")},multilinestring:function(t){var e=[];for(var r=0,n=t.geometries.length;r<n;++r){e.push("("+this.extract.linestring.apply(this,[t.geometries[r]])+")")}return e.join(",")},polygon:function(t){var e=[];e.push("("+this.extract.linestring.apply(this,[t.shell])+")");for(var r=0,n=t.holes.length;r<n;++r){e.push("("+this.extract.linestring.apply(this,[t.holes[r]])+")")}return e.join(",")},multipolygon:function(t){var e=[];for(var r=0,n=t.geometries.length;r<n;++r){e.push("("+this.extract.polygon.apply(this,[t.geometries[r]])+")")}return e.join(",")},geometrycollection:function(t){var e=[];for(var r=0,n=t.geometries.length;r<n;++r){e.push(this.extractGeometry.apply(this,[t.geometries[r]]))}return e.join(",")}};jsts.io.WKTParser.prototype.parse={point:function(t){if(t===undefined){return this.geometryFactory.createPoint(null)}var e=t.trim().split(this.regExes.spaces);return this.geometryFactory.createPoint(new jsts.geom.Coordinate(e[0],e[1]))},multipoint:function(t){if(t===undefined){return this.geometryFactory.createMultiPoint(null)}var e;var r=t.trim().split(",");var n=[];for(var i=0,o=r.length;i<o;++i){e=r[i].replace(this.regExes.trimParens,"$1");n.push(this.parse.point.apply(this,[e]))}return this.geometryFactory.createMultiPoint(n)},linestring:function(t){if(t===undefined){return this.geometryFactory.createLineString(null)}var e=t.trim().split(",");var r=[];var n;for(var i=0,o=e.length;i<o;++i){n=e[i].trim().split(this.regExes.spaces);r.push(new jsts.geom.Coordinate(n[0],n[1]))}return this.geometryFactory.createLineString(r)},linearring:function(t){if(t===undefined){return this.geometryFactory.createLinearRing(null)}var e=t.trim().split(",");var r=[];var n;for(var i=0,o=e.length;i<o;++i){n=e[i].trim().split(this.regExes.spaces);r.push(new jsts.geom.Coordinate(n[0],n[1]))}return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(t===undefined){return this.geometryFactory.createMultiLineString(null)}var e;var r=t.trim().split(this.regExes.parenComma);var n=[];for(var i=0,o=r.length;i<o;++i){e=r[i].replace(this.regExes.trimParens,"$1");n.push(this.parse.linestring.apply(this,[e]))}return this.geometryFactory.createMultiLineString(n)},polygon:function(t){if(t===undefined){return this.geometryFactory.createPolygon(null)}var e,r,n;var i=t.trim().split(this.regExes.parenComma);var o;var s=[];for(var a=0,u=i.length;a<u;++a){e=i[a].replace(this.regExes.trimParens,"$1");r=this.parse.linestring.apply(this,[e]);n=this.geometryFactory.createLinearRing(r.points);if(a===0){o=n}else{s.push(n)}}return this.geometryFactory.createPolygon(o,s)},multipolygon:function(t){if(t===undefined){return this.geometryFactory.createMultiPolygon(null)}var e;var r=t.trim().split(this.regExes.doubleParenComma);var n=[];for(var i=0,o=r.length;i<o;++i){e=r[i].replace(this.regExes.trimParens,"$1");n.push(this.parse.polygon.apply(this,[e]))}return this.geometryFactory.createMultiPolygon(n)},geometrycollection:function(t){if(t===undefined){return this.geometryFactory.createGeometryCollection(null)}t=t.replace(/,\s*([A-Za-z])/g,"|$1");var e=t.trim().split("|");var r=[];for(var n=0,i=e.length;n<i;++n){r.push(jsts.io.WKTParser.prototype.read.apply(this,[e[n]]))}return this.geometryFactory.createGeometryCollection(r)}};jsts.index.ItemVisitor=function(){};jsts.index.ItemVisitor.prototype.visitItem=function(){throw new jsts.error.AbstractMethodInvocationError};jsts.algorithm.CGAlgorithms=function(){};jsts.algorithm.CGAlgorithms.CLOCKWISE=-1;jsts.algorithm.CGAlgorithms.RIGHT=jsts.algorithm.CGAlgorithms.CLOCKWISE;jsts.algorithm.CGAlgorithms.COUNTERCLOCKWISE=1;jsts.algorithm.CGAlgorithms.LEFT=jsts.algorithm.CGAlgorithms.COUNTERCLOCKWISE;jsts.algorithm.CGAlgorithms.COLLINEAR=0;jsts.algorithm.CGAlgorithms.STRAIGHT=jsts.algorithm.CGAlgorithms.COLLINEAR;jsts.algorithm.CGAlgorithms.orientationIndex=function(t,e,r){var n,i,o,s;n=e.x-t.x;i=e.y-t.y;o=r.x-e.x;s=r.y-e.y;return jsts.algorithm.RobustDeterminant.signOfDet2x2(n,i,o,s)};jsts.algorithm.CGAlgorithms.isPointInRing=function(t,e){return jsts.algorithm.CGAlgorithms.locatePointInRing(t,e)!==jsts.geom.Location.EXTERIOR};jsts.algorithm.CGAlgorithms.locatePointInRing=function(t,e){return jsts.algorithm.RayCrossingCounter.locatePointInRing(t,e)};jsts.algorithm.CGAlgorithms.isOnLine=function(t,e){var r,n,i,o,s;r=new jsts.algorithm.RobustLineIntersector;for(n=1,i=e.length;n<i;n++){o=e[n-1];s=e[n];r.computeIntersection(t,o,s);if(r.hasIntersection()){return true}}return false};jsts.algorithm.CGAlgorithms.isCCW=function(t){var e,r,n,i,o,s,a,u,p,l,g;e=t.length-1;if(e<3){throw new jsts.IllegalArgumentError("Ring has fewer than 3 points, so orientation cannot be determined")}r=t[0];n=0;p=1;for(p;p<=e;p++){i=t[p];if(i.y>r.y){r=i;n=p}}o=n;do{o=o-1;if(o<0){o=e}}while(t[o].equals2D(r)&&o!==n);s=n;do{s=(s+1)%e}while(t[s].equals2D(r)&&s!==n);a=t[o];u=t[s];if(a.equals2D(r)||u.equals2D(r)||a.equals2D(u)){return false}l=jsts.algorithm.CGAlgorithms.computeOrientation(a,r,u);g=false;if(l===0){g=a.x>u.x}else{g=l>0}return g};jsts.algorithm.CGAlgorithms.computeOrientation=function(t,e,r){return jsts.algorithm.CGAlgorithms.orientationIndex(t,e,r)};jsts.algorithm.CGAlgorithms.distancePointLine=function(t,e,r){if(!(e instanceof jsts.geom.Coordinate)){jsts.algorithm.CGAlgorithms.distancePointLine2.apply(this,arguments)}if(e.x===r.x&&e.y===r.y){return t.distance(e)}var n,i;n=((t.x-e.x)*(r.x-e.x)+(t.y-e.y)*(r.y-e.y))/((r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y));if(n<=0){return t.distance(e)}if(n>=1){return t.distance(r)}i=((e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y))/((r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y));return Math.abs(i)*Math.sqrt((r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y))};jsts.algorithm.CGAlgorithms.distancePointLinePerpendicular=function(t,e,r){var n=((e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y))/((r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y));return Math.abs(n)*Math.sqrt((r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y))};jsts.algorithm.CGAlgorithms.distancePointLine2=function(t,e){var r,n,i,o;if(e.length===0){throw new jsts.error.IllegalArgumentError("Line array must contain at least one vertex")}r=t.distance(e[0]);for(n=0,i=e.length-1;n<i;n++){o=jsts.algorithm.CGAlgorithms.distancePointLine(t,e[n],e[n+1]);if(o<r){r=o}}return r};jsts.algorithm.CGAlgorithms.distanceLineLine=function(t,e,r,n){if(t.equals(e)){return jsts.algorithm.CGAlgorithms.distancePointLine(t,r,n)}if(r.equals(n)){return jsts.algorithm.CGAlgorithms.distancePointLine(n,t,e)}var i,o,s,a,u,p;i=(t.y-r.y)*(n.x-r.x)-(t.x-r.x)*(n.y-r.y);o=(e.x-t.x)*(n.y-r.y)-(e.y-t.y)*(n.x-r.x);s=(t.y-r.y)*(e.x-t.x)-(t.x-r.x)*(e.y-t.y);a=(e.x-t.x)*(n.y-r.y)-(e.y-t.y)*(n.x-r.x);if(o===0||a===0){return Math.min(jsts.algorithm.CGAlgorithms.distancePointLine(t,r,n),Math.min(jsts.algorithm.CGAlgorithms.distancePointLine(e,r,n),Math.min(jsts.algorithm.CGAlgorithms.distancePointLine(r,t,e),jsts.algorithm.CGAlgorithms.distancePointLine(n,t,e))))}u=s/a;p=i/o;if(p<0||p>1||u<0||u>1){return Math.min(jsts.algorithm.CGAlgorithms.distancePointLine(t,r,n),Math.min(jsts.algorithm.CGAlgorithms.distancePointLine(e,r,n),Math.min(jsts.algorithm.CGAlgorithms.distancePointLine(r,t,e),jsts.algorithm.CGAlgorithms.distancePointLine(n,t,e))))}return 0};jsts.algorithm.CGAlgorithms.signedArea=function(t){if(t.length<3){return 0}var e,r,n,i,o,s,a;e=0;for(r=0,n=t.length-1;r<n;r++){i=t[r].x;o=t[r].y;s=t[r+1].x;a=t[r+1].y;e+=(i+s)*(a-o)}return-e/2};jsts.algorithm.CGAlgorithms.signedArea=function(t){var e,r,n,i,o,s,a,u;e=t.length;if(e<3){return 0}r=0;n=t[0];i=n.x;o=n.y;for(s=1;s<e;s++){n=t[s];a=n.x;u=n.y;r+=(i+a)*(u-o);i=a;o=u}return-r/2};jsts.algorithm.CGAlgorithms.computeLength=function(t){var e=t.length,r,n,i,o,s,a,u,p,l,g;if(e<=1){return 0}r=0;p=t[0];n=p.x;i=p.y;l=1,g=e;for(l;l<e;l++){p=t[l];o=p.x;s=p.y;a=o-n;u=s-i;r+=Math.sqrt(a*a+u*u);n=o;i=s}return r};jsts.algorithm.CGAlgorithms.length=function(){};jsts.algorithm.Angle=function(){};jsts.algorithm.Angle.PI_TIMES_2=2*Math.PI;jsts.algorithm.Angle.PI_OVER_2=Math.PI/2;jsts.algorithm.Angle.PI_OVER_4=Math.PI/4;jsts.algorithm.Angle.COUNTERCLOCKWISE=jsts.algorithm.CGAlgorithms.COUNTERCLOCKWISE;jsts.algorithm.Angle.CLOCKWISE=jsts.algorithm.CGAlgorithms.CLOCKWISE;jsts.algorithm.Angle.NONE=jsts.algorithm.CGAlgorithms.COLLINEAR;jsts.algorithm.Angle.toDegrees=function(t){return t*180/Math.PI};jsts.algorithm.Angle.toRadians=function(t){return t*Math.PI/180};jsts.algorithm.Angle.angle=function(){if(arguments.length===1){return jsts.algorithm.Angle.angleFromOrigo(arguments[0])}else{return jsts.algorithm.Angle.angleBetweenCoords(arguments[0],arguments[1])}};jsts.algorithm.Angle.angleBetweenCoords=function(t,e){var r,n;r=e.x-t.x;n=e.y-t.y;return Math.atan2(n,r)};jsts.algorithm.Angle.angleFromOrigo=function(t){return Math.atan2(t.y,t.x)};jsts.algorithm.Angle.isAcute=function(t,e,r){var n,i,o,s,a;n=t.x-e.x;i=t.y-e.y;o=r.x-e.x;s=r.y-e.y;a=n*o+i*s;return a>0};jsts.algorithm.Angle.isObtuse=function(t,e,r){var n,i,o,s,a;n=t.x-e.x;i=t.y-e.y;o=r.x-e.x;s=r.y-e.y;a=n*o+i*s;return a<0};jsts.algorithm.Angle.angleBetween=function(t,e,r){var n,i;n=jsts.algorithm.Angle.angle(e,t);i=jsts.algorithm.Angle.angle(e,r);return jsts.algorithm.Angle.diff(n,i)};jsts.algorithm.Angle.angleBetweenOriented=function(t,e,r){var n,i,o;n=jsts.algorithm.Angle.angle(e,t);i=jsts.algorithm.Angle.angle(e,r);o=i-n;if(o<=-Math.PI){return o+jsts.algorithm.Angle.PI_TIMES_2}if(o>Math.PI){return o-jsts.algorithm.Angle.PI_TIMES_2}return o};jsts.algorithm.Angle.interiorAngle=function(t,e,r){var n,i;n=jsts.algorithm.Angle.angle(e,t);i=jsts.algorithm.Angle.angle(e,r);return Math.abs(i-n)};jsts.algorithm.Angle.getTurn=function(t,e){var r=Math.sin(e-t);if(r>0){return jsts.algorithm.Angle.COUNTERCLOCKWISE}if(r<0){return jsts.algorithm.Angle.CLOCKWISE}return jsts.algorithm.Angle.NONE};jsts.algorithm.Angle.normalize=function(t){while(t>Math.PI){t-=jsts.algorithm.Angle.PI_TIMES_2}while(t<=-Math.PI){t+=jsts.algorithm.Angle.PI_TIMES_2}return t};jsts.algorithm.Angle.normalizePositive=function(t){if(t<0){while(t<0){t+=jsts.algorithm.Angle.PI_TIMES_2}if(t>=jsts.algorithm.Angle.PI_TIMES_2){t=0}}else{while(t>=jsts.algorithm.Angle.PI_TIMES_2){t-=jsts.algorithm.Angle.PI_TIMES_2}if(t<0){t=0}}return t};jsts.algorithm.Angle.diff=function(t,e){var r;if(t<e){r=e-t}else{r=t-e}if(r>Math.PI){r=2*Math.PI-r}return r};jsts.geom.GeometryComponentFilter=function(){};jsts.geom.GeometryComponentFilter.prototype.filter=function(t){throw new jsts.error.AbstractMethodInvocationError};jsts.geom.util.LinearComponentExtracter=function(t,e){this.lines=t;this.isForcedToLineString=e};jsts.geom.util.LinearComponentExtracter.prototype=new jsts.geom.GeometryComponentFilter;jsts.geom.util.LinearComponentExtracter.prototype.lines=null;jsts.geom.util.LinearComponentExtracter.prototype.isForcedToLineString=false;jsts.geom.util.LinearComponentExtracter.getLines=function(t,e){if(arguments.length==1){return jsts.geom.util.LinearComponentExtracter.getLines5.apply(this,arguments)}else if(arguments.length==2&&typeof e==="boolean"){return jsts.geom.util.LinearComponentExtracter.getLines6.apply(this,arguments)}else if(arguments.length==2&&t instanceof jsts.geom.Geometry){return jsts.geom.util.LinearComponentExtracter.getLines3.apply(this,arguments)}else if(arguments.length==3&&t instanceof jsts.geom.Geometry){return jsts.geom.util.LinearComponentExtracter.getLines4.apply(this,arguments)}else if(arguments.length==3){return jsts.geom.util.LinearComponentExtracter.getLines2.apply(this,arguments)}for(var r=0;r<t.length;r++){var n=t[r];jsts.geom.util.LinearComponentExtracter.getLines3(n,e)}return e};jsts.geom.util.LinearComponentExtracter.getLines2=function(t,e,r){for(var n=0;n<t.length;n++){var i=t[n];jsts.geom.util.LinearComponentExtracter.getLines4(i,e,r)}return e};jsts.geom.util.LinearComponentExtracter.getLines3=function(t,e){if(t instanceof LineString){e.add(t)}else{t.apply(new jsts.geom.util.LinearComponentExtracter(e))}return e};jsts.geom.util.LinearComponentExtracter.getLines4=function(t,e,r){t.apply(new jsts.geom.util.LinearComponentExtracter(e,r));return e};jsts.geom.util.LinearComponentExtracter.getLines5=function(t){return jsts.geom.util.LinearComponentExtracter.getLines6(t,false)};jsts.geom.util.LinearComponentExtracter.getLines6=function(t,e){var r=[];t.apply(new jsts.geom.util.LinearComponentExtracter(r,e));return r};jsts.geom.util.LinearComponentExtracter.prototype.setForceToLineString=function(t){this.isForcedToLineString=t};jsts.geom.util.LinearComponentExtracter.prototype.filter=function(t){if(this.isForcedToLineString&&t instanceof jsts.geom.LinearRing){var e=t.getFactory().createLineString(t.getCoordinateSequence());this.lines.push(e);return}if(t instanceof jsts.geom.LineString||t instanceof jsts.geom.LinearRing)this.lines.push(t)};jsts.geom.Location=function(){};jsts.geom.Location.INTERIOR=0;jsts.geom.Location.BOUNDARY=1;jsts.geom.Location.EXTERIOR=2;jsts.geom.Location.NONE=-1;jsts.geom.Location.toLocationSymbol=function(t){switch(t){case jsts.geom.Location.EXTERIOR:return"e";case jsts.geom.Location.BOUNDARY:return"b";case jsts.geom.Location.INTERIOR:return"i";case jsts.geom.Location.NONE:return"-"}throw new jsts.IllegalArgumentError("Unknown location value: "+t)};(function(){jsts.io.GeoJSONReader=function(t){this.geometryFactory=t||new jsts.geom.GeometryFactory;this.precisionModel=this.geometryFactory.getPrecisionModel();this.parser=new jsts.io.GeoJSONParser(this.geometryFactory)};jsts.io.GeoJSONReader.prototype.read=function(t){var e=this.parser.read(t);if(this.precisionModel.getType()===jsts.geom.PrecisionModel.FIXED){this.reducePrecision(e)}return e};jsts.io.GeoJSONReader.prototype.reducePrecision=function(t){var e,r;if(t.coordinate){this.precisionModel.makePrecise(t.coordinate)}else if(t.points){for(e=0,r=t.points.length;e<r;e++){this.precisionModel.makePrecise(t.points[e])}}else if(t.geometries){for(e=0,r=t.geometries.length;e<r;e++){this.reducePrecision(t.geometries[e])}}}})();jsts.geom.Geometry=function(t){this.factory=t};jsts.geom.Geometry.prototype.envelope=null;jsts.geom.Geometry.prototype.factory=null;jsts.geom.Geometry.prototype.getGeometryType=function(){return"Geometry"};jsts.geom.Geometry.hasNonEmptyElements=function(t){var e;for(e=0;e<t.length;e++){if(!t[e].isEmpty()){return true}}return false};jsts.geom.Geometry.hasNullElements=function(t){var e;for(e=0;e<t.length;e++){if(t[e]===null){return true}}return false};jsts.geom.Geometry.prototype.getFactory=function(){if(this.factory===null||this.factory===undefined){this.factory=new jsts.geom.GeometryFactory}return this.factory};jsts.geom.Geometry.prototype.getNumGeometries=function(){return 1};jsts.geom.Geometry.prototype.getGeometryN=function(t){return this};jsts.geom.Geometry.prototype.getPrecisionModel=function(){return this.getFactory().getPrecisionModel()};jsts.geom.Geometry.prototype.getCoordinate=function(){throw new jsts.error.AbstractMethodInvocationError};jsts.geom.Geometry.prototype.getCoordinates=function(){throw new jsts.error.AbstractMethodInvocationError};jsts.geom.Geometry.prototype.getNumPoints=function(){throw new jsts.error.AbstractMethodInvocationError};jsts.geom.Geometry.prototype.isSimple=function(){this.checkNotGeometryCollection(this);var t=new jsts.operation.IsSimpleOp(this);return t.isSimple()};jsts.geom.Geometry.prototype.isValid=function(){var t=new jsts.operation.valid.IsValidOp(this);return t.isValid()};jsts.geom.Geometry.prototype.isEmpty=function(){throw new jsts.error.AbstractMethodInvocationError};jsts.geom.Geometry.prototype.distance=function(t){return jsts.operation.distance.DistanceOp.distance(this,t)};jsts.geom.Geometry.prototype.isWithinDistance=function(t,e){var r=this.getEnvelopeInternal().distance(t.getEnvelopeInternal());if(r>e){return false}return DistanceOp.isWithinDistance(this,t,e)};jsts.geom.Geometry.prototype.isRectangle=function(){return false};jsts.geom.Geometry.prototype.getArea=function(){return 0};jsts.geom.Geometry.prototype.getLength=function(){return 0};jsts.geom.Geometry.prototype.getCentroid=function(){if(this.isEmpty()){return null}var t;var e=null;var r=this.getDimension();if(r===0){t=new jsts.algorithm.CentroidPoint;t.add(this);e=t.getCentroid()}else if(r===1){t=new jsts.algorithm.CentroidLine;t.add(this);e=t.getCentroid()}else{t=new jsts.algorithm.CentroidArea;t.add(this);e=t.getCentroid()}return this.createPointFromInternalCoord(e,this)};jsts.geom.Geometry.prototype.getInteriorPoint=function(){var t;var e=null;var r=this.getDimension();if(r===0){t=new jsts.algorithm.InteriorPointPoint(this);e=t.getInteriorPoint()}else if(r===1){t=new jsts.algorithm.InteriorPointLine(this);e=t.getInteriorPoint()}else{t=new jsts.algorithm.InteriorPointArea(this);e=t.getInteriorPoint()}return this.createPointFromInternalCoord(e,this)};jsts.geom.Geometry.prototype.getDimension=function(){throw new jsts.error.AbstractMethodInvocationError};jsts.geom.Geometry.prototype.getBoundary=function(){throw new jsts.error.AbstractMethodInvocationError};jsts.geom.Geometry.prototype.getBoundaryDimension=function(){throw new jsts.error.AbstractMethodInvocationError};jsts.geom.Geometry.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())};jsts.geom.Geometry.prototype.getEnvelopeInternal=function(){if(this.envelope===null){this.envelope=this.computeEnvelopeInternal()}return this.envelope};jsts.geom.Geometry.prototype.disjoint=function(t){return!this.intersects(t)};jsts.geom.Geometry.prototype.touches=function(t){if(!this.getEnvelopeInternal().intersects(t.getEnvelopeInternal())){return false}return this.relate(t).isTouches(this.getDimension(),t.getDimension())};jsts.geom.Geometry.prototype.intersects=function(t){if(!this.getEnvelopeInternal().intersects(t.getEnvelopeInternal())){return false}if(this.isRectangle()){return jsts.operation.predicate.RectangleIntersects.intersects(this,t)}if(t.isRectangle()){return jsts.operation.predicate.RectangleIntersects.intersects(t,this)}return this.relate(t).isIntersects()};jsts.geom.Geometry.prototype.crosses=function(t){if(!this.getEnvelopeInternal().intersects(t.getEnvelopeInternal())){return false}return this.relate(t).isCrosses(this.getDimension(),t.getDimension())};jsts.geom.Geometry.prototype.within=function(t){return t.contains(this)};jsts.geom.Geometry.prototype.contains=function(t){if(!this.getEnvelopeInternal().contains(t.getEnvelopeInternal())){return false}if(this.isRectangle()){return jsts.operation.predicate.RectangleContains.contains(this,t)}return this.relate(t).isContains()};jsts.geom.Geometry.prototype.overlaps=function(t){if(!this.getEnvelopeInternal().intersects(t.getEnvelopeInternal())){return false}return this.relate(t).isOverlaps(this.getDimension(),t.getDimension())};jsts.geom.Geometry.prototype.covers=function(t){if(!this.getEnvelopeInternal().covers(t.getEnvelopeInternal())){return false}if(this.isRectangle()){return true}return this.relate(t).isCovers()};jsts.geom.Geometry.prototype.coveredBy=function(t){return t.covers(this)};jsts.geom.Geometry.prototype.relate=function(t,e){if(arguments.length===1){return this.relate2.apply(this,arguments)}return this.relate2(t).matches(e)};jsts.geom.Geometry.prototype.relate2=function(t){this.checkNotGeometryCollection(this);this.checkNotGeometryCollection(t);return jsts.operation.relate.RelateOp.relate(this,t)};jsts.geom.Geometry.prototype.equalsTopo=function(t){if(!this.getEnvelopeInternal().equals(t.getEnvelopeInternal())){return false}return this.relate(t).isEquals(this.getDimension(),t.getDimension())};jsts.geom.Geometry.prototype.equals=function(t){if(t instanceof jsts.geom.Geometry||t instanceof jsts.geom.LinearRing||t instanceof jsts.geom.Polygon||t instanceof jsts.geom.GeometryCollection||t instanceof jsts.geom.MultiPoint||t instanceof jsts.geom.MultiLineString||t instanceof jsts.geom.MultiPolygon){return this.equalsExact(t)}return false};jsts.geom.Geometry.prototype.buffer=function(t,e,r){var n=new jsts.operation.buffer.BufferParameters(e,r);return jsts.operation.buffer.BufferOp.bufferOp2(this,t,n)};jsts.geom.Geometry.prototype.convexHull=function(){return new jsts.algorithm.ConvexHull(this).getConvexHull()};jsts.geom.Geometry.prototype.intersection=function(t){if(this.isEmpty()){return this.getFactory().createGeometryCollection(null)}if(t.isEmpty()){return this.getFactory().createGeometryCollection(null)}if(this.isGeometryCollection(this)){var e=t}this.checkNotGeometryCollection(this);this.checkNotGeometryCollection(t);return jsts.operation.overlay.snap.SnapIfNeededOverlayOp.overlayOp(this,t,jsts.operation.overlay.OverlayOp.INTERSECTION)};jsts.geom.Geometry.prototype.union=function(t){if(arguments.length===0){return jsts.operation.union.UnaryUnionOp.union(this)}if(this.isEmpty()){return t.clone()}if(t.isEmpty()){return this.clone()}this.checkNotGeometryCollection(this);this.checkNotGeometryCollection(t);return jsts.operation.overlay.snap.SnapIfNeededOverlayOp.overlayOp(this,t,jsts.operation.overlay.OverlayOp.UNION)};jsts.geom.Geometry.prototype.difference=function(t){if(this.isEmpty()){return this.getFactory().createGeometryCollection(null)}if(t.isEmpty()){return this.clone()}this.checkNotGeometryCollection(this);this.checkNotGeometryCollection(t);return jsts.operation.overlay.snap.SnapIfNeededOverlayOp.overlayOp(this,t,jsts.operation.overlay.OverlayOp.DIFFERENCE)};jsts.geom.Geometry.prototype.symDifference=function(t){if(this.isEmpty()){return t.clone()}if(t.isEmpty()){return this.clone()}this.checkNotGeometryCollection(this);this.checkNotGeometryCollection(t);return jsts.operation.overlay.snap.SnapIfNeededOverlayOp.overlayOp(this,t,jsts.operation.overlay.OverlayOp.SYMDIFFERENCE)};jsts.geom.Geometry.prototype.equalsExact=function(t,e){throw new jsts.error.AbstractMethodInvocationError};jsts.geom.Geometry.prototype.equalsNorm=function(t){if(t===null||t===undefined)return false;return this.norm().equalsExact(t.norm())};jsts.geom.Geometry.prototype.apply=function(t){throw new jsts.error.AbstractMethodInvocationError};jsts.geom.Geometry.prototype.clone=function(){throw new jsts.error.AbstractMethodInvocationError};jsts.geom.Geometry.prototype.normalize=function(){throw new jsts.error.AbstractMethodInvocationError};jsts.geom.Geometry.prototype.norm=function(){var t=this.clone();t.normalize();return t};jsts.geom.Geometry.prototype.compareTo=function(t){var e=t;if(this.getClassSortIndex()!==e.getClassSortIndex()){return this.getClassSortIndex()-e.getClassSortIndex()}if(this.isEmpty()&&e.isEmpty()){return 0}if(this.isEmpty()){return-1}if(e.isEmpty()){return 1}return this.compareToSameClass(t)};jsts.geom.Geometry.prototype.isEquivalentClass=function(t){if(this instanceof jsts.geom.Point&&t instanceof jsts.geom.Point){return true}else if(this instanceof jsts.geom.LineString&&t instanceof jsts.geom.LineString|t instanceof jsts.geom.LinearRing){return true}else if(this instanceof jsts.geom.LinearRing&&t instanceof jsts.geom.LineString|t instanceof jsts.geom.LinearRing){return true}else if(this instanceof jsts.geom.Polygon&&t instanceof jsts.geom.Polygon){return true}else if(this instanceof jsts.geom.MultiPoint&&t instanceof jsts.geom.MultiPoint){return true}else if(this instanceof jsts.geom.MultiLineString&&t instanceof jsts.geom.MultiLineString){return true}else if(this instanceof jsts.geom.MultiPolygon&&t instanceof jsts.geom.MultiPolygon){return true}else if(this instanceof jsts.geom.GeometryCollection&&t instanceof jsts.geom.GeometryCollection){return true}return false};jsts.geom.Geometry.prototype.checkNotGeometryCollection=function(t){if(t.isGeometryCollectionBase()){throw new jsts.error.IllegalArgumentError("This method does not support GeometryCollection")}};jsts.geom.Geometry.prototype.isGeometryCollection=function(){return this instanceof jsts.geom.GeometryCollection};jsts.geom.Geometry.prototype.isGeometryCollectionBase=function(){return this.CLASS_NAME==="jsts.geom.GeometryCollection"};jsts.geom.Geometry.prototype.computeEnvelopeInternal=function(){throw new jsts.error.AbstractMethodInvocationError};jsts.geom.Geometry.prototype.compareToSameClass=function(t){throw new jsts.error.AbstractMethodInvocationError};jsts.geom.Geometry.prototype.compare=function(t,e){var r=t.iterator();var n=e.iterator();while(r.hasNext()&&n.hasNext()){var i=r.next();var o=n.next();var s=i.compareTo(o);if(s!==0){return s}}if(r.hasNext()){return 1}if(n.hasNext()){return-1}return 0};jsts.geom.Geometry.prototype.equal=function(t,e,r){if(r===undefined||r===null||r===0){return t.equals(e)}return t.distance(e)<=r};jsts.geom.Geometry.prototype.getClassSortIndex=function(){var t=[jsts.geom.Point,jsts.geom.MultiPoint,jsts.geom.LineString,jsts.geom.LinearRing,jsts.geom.MultiLineString,jsts.geom.Polygon,jsts.geom.MultiPolygon,jsts.geom.GeometryCollection];for(var e=0;e<t.length;e++){if(this instanceof t[e])return e}jsts.util.Assert.shouldNeverReachHere("Class not supported: "+this);return-1};jsts.geom.Geometry.prototype.toString=function(){return(new jsts.io.WKTWriter).write(this)};jsts.geom.Geometry.prototype.createPointFromInternalCoord=function(t,e){e.getPrecisionModel().makePrecise(t);return e.getFactory().createPoint(t)};(function(){jsts.geom.Coordinate=function(t,e){if(typeof t==="number"){this.x=t;this.y=e}else if(t instanceof jsts.geom.Coordinate){this.x=parseFloat(t.x);this.y=parseFloat(t.y)}else if(t===undefined||t===null){this.x=0;this.y=0}else if(typeof t==="string"){this.x=parseFloat(t);this.y=parseFloat(e)}};jsts.geom.Coordinate.prototype.setCoordinate=function(t){this.x=t.x;this.y=t.y};jsts.geom.Coordinate.prototype.clone=function(){return new jsts.geom.Coordinate(this.x,this.y)};jsts.geom.Coordinate.prototype.distance=function(t){var e=this.x-t.x;var r=this.y-t.y;return Math.sqrt(e*e+r*r)};jsts.geom.Coordinate.prototype.equals2D=function(t){if(this.x!==t.x){return false}if(this.y!==t.y){return false}return true};jsts.geom.Coordinate.prototype.equals=function(t){if(!t instanceof jsts.geom.Coordinate||t===undefined){return false}return this.equals2D(t)};jsts.geom.Coordinate.prototype.compareTo=function(t){if(this.x<t.x){return-1}if(this.x>t.x){return 1}if(this.y<t.y){return-1}if(this.y>t.y){return 1}return 0};jsts.geom.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"}})();jsts.geom.Envelope=function(){jsts.geom.Envelope.prototype.init.apply(this,arguments)};jsts.geom.Envelope.prototype.minx=null;jsts.geom.Envelope.prototype.maxx=null;jsts.geom.Envelope.prototype.miny=null;jsts.geom.Envelope.prototype.maxy=null;jsts.geom.Envelope.prototype.init=function(){if(typeof arguments[0]==="number"&&arguments.length===4){this.initFromValues(arguments[0],arguments[1],arguments[2],arguments[3])}else if(arguments[0]instanceof jsts.geom.Coordinate&&arguments.length===1){this.initFromCoordinate(arguments[0])}else if(arguments[0]instanceof jsts.geom.Coordinate&&arguments.length===2){this.initFromCoordinates(arguments[0],arguments[1])}else if(arguments[0]instanceof jsts.geom.Envelope&&arguments.length===1){this.initFromEnvelope(arguments[0])}else{this.setToNull()}};jsts.geom.Envelope.prototype.initFromValues=function(t,e,r,n){if(t<e){this.minx=t;this.maxx=e}else{this.minx=e;this.maxx=t}if(r<n){this.miny=r;this.maxy=n}else{this.miny=n;this.maxy=r}};jsts.geom.Envelope.prototype.initFromCoordinates=function(t,e){this.initFromValues(t.x,e.x,t.y,e.y)};jsts.geom.Envelope.prototype.initFromCoordinate=function(t){this.initFromValues(t.x,t.x,t.y,t.y)};jsts.geom.Envelope.prototype.initFromEnvelope=function(t){this.minx=t.minx;this.maxx=t.maxx;this.miny=t.miny;this.maxy=t.maxy};jsts.geom.Envelope.prototype.setToNull=function(){this.minx=0;this.maxx=-1;this.miny=0;this.maxy=-1};jsts.geom.Envelope.prototype.isNull=function(){return this.maxx<this.minx};jsts.geom.Envelope.prototype.getHeight=function(){if(this.isNull()){return 0}return this.maxy-this.miny};jsts.geom.Envelope.prototype.getWidth=function(){if(this.isNull()){return 0}return this.maxx-this.minx};jsts.geom.Envelope.prototype.getMinX=function(){return this.minx};jsts.geom.Envelope.prototype.getMaxX=function(){return this.maxx};jsts.geom.Envelope.prototype.getMinY=function(){return this.miny};jsts.geom.Envelope.prototype.getMaxY=function(){return this.maxy};jsts.geom.Envelope.prototype.getArea=function(){return this.getWidth()*this.getHeight()};jsts.geom.Envelope.prototype.expandToInclude=function(){if(arguments[0]instanceof jsts.geom.Coordinate){this.expandToIncludeCoordinate(arguments[0])}else if(arguments[0]instanceof jsts.geom.Envelope){this.expandToIncludeEnvelope(arguments[0])}else{this.expandToIncludeValues(arguments[0],arguments[1])}};jsts.geom.Envelope.prototype.expandToIncludeCoordinate=function(t){this.expandToIncludeValues(t.x,t.y)};jsts.geom.Envelope.prototype.expandToIncludeValues=function(t,e){if(this.isNull()){this.minx=t;this.maxx=t;this.miny=e;this.maxy=e}else{if(t<this.minx){this.minx=t}if(t>this.maxx){this.maxx=t}if(e<this.miny){this.miny=e}if(e>this.maxy){this.maxy=e}}};jsts.geom.Envelope.prototype.expandToIncludeEnvelope=function(t){if(t.isNull()){return}if(this.isNull()){this.minx=t.getMinX();

this.maxx=t.getMaxX();this.miny=t.getMinY();this.maxy=t.getMaxY()}else{if(t.minx<this.minx){this.minx=t.minx}if(t.maxx>this.maxx){this.maxx=t.maxx}if(t.miny<this.miny){this.miny=t.miny}if(t.maxy>this.maxy){this.maxy=t.maxy}}};jsts.geom.Envelope.prototype.expandBy=function(){if(arguments.length===1){this.expandByDistance(arguments[0])}else{this.expandByDistances(arguments[0],arguments[1])}};jsts.geom.Envelope.prototype.expandByDistance=function(t){this.expandByDistances(t,t)};jsts.geom.Envelope.prototype.expandByDistances=function(t,e){if(this.isNull()){return}this.minx-=t;this.maxx+=t;this.miny-=e;this.maxy+=e;if(this.minx>this.maxx||this.miny>this.maxy){this.setToNull()}};jsts.geom.Envelope.prototype.translate=function(t,e){if(this.isNull()){return}this.init(this.minx+t,this.maxx+t,this.miny+e,this.maxy+e)};jsts.geom.Envelope.prototype.centre=function(){if(this.isNull()){return null}return new jsts.geom.Coordinate((this.minx+this.maxx)/2,(this.miny+this.maxy)/2)};jsts.geom.Envelope.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t)){return new jsts.geom.Envelope}var e=this.minx>t.minx?this.minx:t.minx;var r=this.miny>t.miny?this.miny:t.miny;var n=this.maxx<t.maxx?this.maxx:t.maxx;var i=this.maxy<t.maxy?this.maxy:t.maxy;return new jsts.geom.Envelope(e,n,r,i)};jsts.geom.Envelope.prototype.intersects=function(){if(arguments[0]instanceof jsts.geom.Envelope){return this.intersectsEnvelope(arguments[0])}else if(arguments[0]instanceof jsts.geom.Coordinate){return this.intersectsCoordinate(arguments[0])}else{return this.intersectsValues(arguments[0],arguments[1])}};jsts.geom.Envelope.prototype.intersectsEnvelope=function(t){if(this.isNull()||t.isNull()){return false}var e=!(t.minx>this.maxx||t.maxx<this.minx||t.miny>this.maxy||t.maxy<this.miny);return e};jsts.geom.Envelope.prototype.intersectsCoordinate=function(t){return this.intersectsValues(t.x,t.y)};jsts.geom.Envelope.prototype.intersectsValues=function(t,e){if(this.isNull()){return false}return!(t>this.maxx||t<this.minx||e>this.maxy||e<this.miny)};jsts.geom.Envelope.prototype.contains=function(){if(arguments[0]instanceof jsts.geom.Envelope){return this.containsEnvelope(arguments[0])}else if(arguments[0]instanceof jsts.geom.Coordinate){return this.containsCoordinate(arguments[0])}else{return this.containsValues(arguments[0],arguments[1])}};jsts.geom.Envelope.prototype.containsEnvelope=function(t){return this.coversEnvelope(t)};jsts.geom.Envelope.prototype.containsCoordinate=function(t){return this.coversCoordinate(t)};jsts.geom.Envelope.prototype.containsValues=function(t,e){return this.coversValues(t,e)};jsts.geom.Envelope.prototype.covers=function(){if(arguments[0]instanceof jsts.geom.Envelope){return this.coversEnvelope(arguments[0])}else if(arguments[0]instanceof jsts.geom.Coordinate){return this.coversCoordinate(arguments[0])}else{return this.coversValues(arguments[0],arguments[1])}};jsts.geom.Envelope.prototype.coversValues=function(t,e){if(this.isNull()){return false}return t>=this.minx&&t<=this.maxx&&e>=this.miny&&e<=this.maxy};jsts.geom.Envelope.prototype.coversCoordinate=function(t){return this.coversValues(t.x,t.y)};jsts.geom.Envelope.prototype.coversEnvelope=function(t){if(this.isNull()||t.isNull()){return false}return t.minx>=this.minx&&t.maxx<=this.maxx&&t.miny>=this.miny&&t.maxy<=this.maxy};jsts.geom.Envelope.prototype.distance=function(t){if(this.intersects(t)){return 0}var e=0;if(this.maxx<t.minx){e=t.minx-this.maxx}if(this.minx>t.maxx){e=this.minx-t.maxx}var r=0;if(this.maxy<t.miny){r=t.miny-this.maxy}if(this.miny>t.maxy){r=this.miny-t.maxy}if(e===0){return r}if(r===0){return e}return Math.sqrt(e*e+r*r)};jsts.geom.Envelope.prototype.equals=function(t){if(this.isNull()){return t.isNull()}return this.maxx===t.maxx&&this.maxy===t.maxy&&this.minx===t.minx&&this.miny===t.miny};jsts.geom.Envelope.prototype.toString=function(){return"Env["+this.minx+" : "+this.maxx+", "+this.miny+" : "+this.maxy+"]"};jsts.geom.Envelope.intersects=function(t,e,r){if(arguments.length===4){return jsts.geom.Envelope.intersectsEnvelope(arguments[0],arguments[1],arguments[2],arguments[3])}var n=t.x<e.x?t.x:e.x;var i=t.x>e.x?t.x:e.x;var o=t.y<e.y?t.y:e.y;var s=t.y>e.y?t.y:e.y;if(r.x>=n&&r.x<=i&&(r.y>=o&&r.y<=s)){return true}return false};jsts.geom.Envelope.intersectsEnvelope=function(t,e,r,n){var i=Math.min(r.x,n.x);var o=Math.max(r.x,n.x);var s=Math.min(t.x,e.x);var a=Math.max(t.x,e.x);if(s>o){return false}if(a<i){return false}i=Math.min(r.y,n.y);o=Math.max(r.y,n.y);s=Math.min(t.y,e.y);a=Math.max(t.y,e.y);if(s>o){return false}if(a<i){return false}return true};jsts.geom.Envelope.prototype.clone=function(){return new jsts.geom.Envelope(this.minx,this.maxx,this.miny,this.maxy)};jsts.geom.util.GeometryCombiner=function(t){this.geomFactory=jsts.geom.util.GeometryCombiner.extractFactory(t);this.inputGeoms=t};jsts.geom.util.GeometryCombiner.combine=function(t){if(arguments.length>1)return this.combine2.apply(this,arguments);var e=new jsts.geom.util.GeometryCombiner(t);return e.combine()};jsts.geom.util.GeometryCombiner.combine2=function(){var t=new javascript.util.ArrayList;Array.prototype.slice.call(arguments).forEach(function(e){t.add(e)});var e=new jsts.geom.util.GeometryCombiner(t);return e.combine()};jsts.geom.util.GeometryCombiner.prototype.geomFactory=null;jsts.geom.util.GeometryCombiner.prototype.skipEmpty=false;jsts.geom.util.GeometryCombiner.prototype.inputGeoms;jsts.geom.util.GeometryCombiner.extractFactory=function(t){if(t.isEmpty())return null;return t.iterator().next().getFactory()};jsts.geom.util.GeometryCombiner.prototype.combine=function(){var t=new javascript.util.ArrayList,e;for(e=this.inputGeoms.iterator();e.hasNext();){var r=e.next();this.extractElements(r,t)}if(t.size()===0){if(this.geomFactory!==null){return this.geomFactory.createGeometryCollection(null)}return null}return this.geomFactory.buildGeometry(t)};jsts.geom.util.GeometryCombiner.prototype.extractElements=function(t,e){if(t===null){return}for(var r=0;r<t.getNumGeometries();r++){var n=t.getGeometryN(r);if(this.skipEmpty&&n.isEmpty()){continue}e.add(n)}};jsts.geom.PrecisionModel=function(t){if(typeof t==="number"){this.modelType=jsts.geom.PrecisionModel.FIXED;this.scale=t;return}this.modelType=t||jsts.geom.PrecisionModel.FLOATING;if(this.modelType===jsts.geom.PrecisionModel.FIXED){this.scale=1}};jsts.geom.PrecisionModel.FLOATING="FLOATING";jsts.geom.PrecisionModel.FIXED="FIXED";jsts.geom.PrecisionModel.FLOATING_SINGLE="FLOATING_SINGLE";jsts.geom.PrecisionModel.prototype.scale=null;jsts.geom.PrecisionModel.prototype.modelType=null;jsts.geom.PrecisionModel.prototype.isFloating=function(){return this.modelType===jsts.geom.PrecisionModel.FLOATING||this.modelType===jsts.geom.PrecisionModel.FLOATING_SINLGE};jsts.geom.PrecisionModel.prototype.getScale=function(){return this.scale};jsts.geom.PrecisionModel.prototype.getType=function(){return this.modelType};jsts.geom.PrecisionModel.prototype.equals=function(t){return true;if(!(t instanceof jsts.geom.PrecisionModel)){return false}var e=t;return this.modelType===e.modelType&&this.scale===e.scale};jsts.geom.PrecisionModel.prototype.makePrecise=function(t){if(t instanceof jsts.geom.Coordinate){this.makePrecise2(t);return}if(isNaN(t))return t;if(this.modelType===jsts.geom.PrecisionModel.FIXED){return Math.round(t*this.scale)/this.scale}return t};jsts.geom.PrecisionModel.prototype.makePrecise2=function(t){if(this.modelType===jsts.geom.PrecisionModel.FLOATING)return;t.x=this.makePrecise(t.x);t.y=this.makePrecise(t.y)};jsts.geom.PrecisionModel.prototype.compareTo=function(t){var e=t;return 0};jsts.geom.CoordinateFilter=function(){};jsts.geom.CoordinateFilter.prototype.filter=function(t){throw new jsts.error.AbstractMethodInvocationError};jsts.simplify.DouglasPeuckerLineSimplifier=function(t){this.pts=t;this.seg=new jsts.geom.LineSegment};jsts.simplify.DouglasPeuckerLineSimplifier.prototype.pts=null;jsts.simplify.DouglasPeuckerLineSimplifier.prototype.usePt=null;jsts.simplify.DouglasPeuckerLineSimplifier.prototype.distanceTolerance=null;jsts.simplify.DouglasPeuckerLineSimplifier.simplify=function(t,e){var r=new jsts.simplify.DouglasPeuckerLineSimplifier(t);r.setDistanceTolerance(e);return r.simplify()};jsts.simplify.DouglasPeuckerLineSimplifier.prototype.setDistanceTolerance=function(t){this.distanceTolerance=t};jsts.simplify.DouglasPeuckerLineSimplifier.prototype.simplify=function(){this.usePt=[];for(var t=0;t<this.pts.length;t++){this.usePt[t]=true}this.simplifySection(0,this.pts.length-1);var e=new jsts.geom.CoordinateList;for(var r=0;r<this.pts.length;r++){if(this.usePt[r]){e.add(new jsts.geom.Coordinate(this.pts[r]))}}return e.toCoordinateArray()};jsts.simplify.DouglasPeuckerLineSimplifier.prototype.seg=null;jsts.simplify.DouglasPeuckerLineSimplifier.prototype.simplifySection=function(t,e){if(t+1==e){return}this.seg.p0=this.pts[t];this.seg.p1=this.pts[e];var r=-1;var n=t;for(var i=t+1;i<e;i++){var o=this.seg.distance(this.pts[i]);if(o>r){r=o;n=i}}if(r<=this.distanceTolerance){for(var s=t+1;s<e;s++){this.usePt[s]=false}}else{this.simplifySection(t,n);this.simplifySection(n,e)}};jsts.geomgraph.EdgeIntersection=function(t,e,r){this.coord=new jsts.geom.Coordinate(t);this.segmentIndex=e;this.dist=r};jsts.geomgraph.EdgeIntersection.prototype.coord=null;jsts.geomgraph.EdgeIntersection.prototype.segmentIndex=null;jsts.geomgraph.EdgeIntersection.prototype.dist=null;jsts.geomgraph.EdgeIntersection.prototype.getCoordinate=function(){return this.coord};jsts.geomgraph.EdgeIntersection.prototype.getSegmentIndex=function(){return this.segmentIndex};jsts.geomgraph.EdgeIntersection.prototype.getDistance=function(){return this.dist};jsts.geomgraph.EdgeIntersection.prototype.compareTo=function(t){return this.compare(t.segmentIndex,t.dist)};jsts.geomgraph.EdgeIntersection.prototype.compare=function(t,e){if(this.segmentIndex<t)return-1;if(this.segmentIndex>t)return 1;if(this.dist<e)return-1;if(this.dist>e)return 1;return 0};jsts.geomgraph.EdgeIntersection.prototype.isEndPoint=function(t){if(this.segmentIndex===0&&this.dist===0)return true;if(this.segmentIndex===t)return true;return false};jsts.geomgraph.EdgeIntersection.prototype.toString=function(){return""+this.segmentIndex+this.dist};(function(){var t=jsts.geomgraph.EdgeIntersection;var e=javascript.util.TreeMap;jsts.geomgraph.EdgeIntersectionList=function(t){this.nodeMap=new e;this.edge=t};jsts.geomgraph.EdgeIntersectionList.prototype.nodeMap=null;jsts.geomgraph.EdgeIntersectionList.prototype.edge=null;jsts.geomgraph.EdgeIntersectionList.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();){var r=e.next();if(r.coord.equals(t)){return true}}return false};jsts.geomgraph.EdgeIntersectionList.prototype.add=function(e,r,n){var i=new t(e,r,n);var o=this.nodeMap.get(i);if(o!==null){return o}this.nodeMap.put(i,i);return i};jsts.geomgraph.EdgeIntersectionList.prototype.iterator=function(){return this.nodeMap.values().iterator()};jsts.geomgraph.EdgeIntersectionList.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0);this.add(this.edge.pts[t],t,0)};jsts.geomgraph.EdgeIntersectionList.prototype.addSplitEdges=function(t){this.addEndpoints();var e=this.iterator();var r=e.next();while(e.hasNext()){var n=e.next();var i=this.createSplitEdge(r,n);t.add(i);r=n}};jsts.geomgraph.EdgeIntersectionList.prototype.createSplitEdge=function(t,e){var r=e.segmentIndex-t.segmentIndex+2;var n=this.edge.pts[e.segmentIndex];var i=e.dist>0||!e.coord.equals2D(n);if(!i){r--}var o=[];var s=0;o[s++]=new jsts.geom.Coordinate(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++){o[s++]=this.edge.pts[a]}if(i)o[s]=e.coord;return new jsts.geomgraph.Edge(o,new jsts.geomgraph.Label(this.edge.label))}})();(function(){var t=function(t){this.message=t};t.prototype=new Error;t.prototype.name="AssertionFailedException";jsts.util.AssertionFailedException=t})();(function(){var t=jsts.util.AssertionFailedException;jsts.util.Assert=function(){};jsts.util.Assert.isTrue=function(e,r){if(!e){if(r===null){throw new t}else{throw new t(r)}}};jsts.util.Assert.equals=function(e,r,n){if(!r.equals(e)){throw new t("Expected "+e+" but encountered "+r+(n!=null?": "+n:""))}};jsts.util.Assert.shouldNeverReachHere=function(e){throw new t("Should never reach here"+(e!=null?": "+e:""))}})();(function(){var t=jsts.geom.Location;var e=jsts.util.Assert;var r=javascript.util.ArrayList;jsts.operation.relate.RelateComputer=function(t){this.li=new jsts.algorithm.RobustLineIntersector;this.ptLocator=new jsts.algorithm.PointLocator;this.nodes=new jsts.geomgraph.NodeMap(new jsts.operation.relate.RelateNodeFactory);this.isolatedEdges=new r;this.arg=t};jsts.operation.relate.RelateComputer.prototype.li=null;jsts.operation.relate.RelateComputer.prototype.ptLocator=null;jsts.operation.relate.RelateComputer.prototype.arg=null;jsts.operation.relate.RelateComputer.prototype.nodes=null;jsts.operation.relate.RelateComputer.prototype.im=null;jsts.operation.relate.RelateComputer.prototype.isolatedEdges=null;jsts.operation.relate.RelateComputer.prototype.invalidPoint=null;jsts.operation.relate.RelateComputer.prototype.computeIM=function(){var e=new jsts.geom.IntersectionMatrix;e.set(t.EXTERIOR,t.EXTERIOR,2);if(!this.arg[0].getGeometry().getEnvelopeInternal().intersects(this.arg[1].getGeometry().getEnvelopeInternal())){this.computeDisjointIM(e);return e}this.arg[0].computeSelfNodes(this.li,false);this.arg[1].computeSelfNodes(this.li,false);var r=this.arg[0].computeEdgeIntersections(this.arg[1],this.li,false);this.computeIntersectionNodes(0);this.computeIntersectionNodes(1);this.copyNodesAndLabels(0);this.copyNodesAndLabels(1);this.labelIsolatedNodes();this.computeProperIntersectionIM(r,e);var n=new jsts.operation.relate.EdgeEndBuilder;var i=n.computeEdgeEnds(this.arg[0].getEdgeIterator());this.insertEdgeEnds(i);var o=n.computeEdgeEnds(this.arg[1].getEdgeIterator());this.insertEdgeEnds(o);this.labelNodeEdges();this.labelIsolatedEdges(0,1);this.labelIsolatedEdges(1,0);this.updateIM(e);return e};jsts.operation.relate.RelateComputer.prototype.insertEdgeEnds=function(t){for(var e=t.iterator();e.hasNext();){var r=e.next();this.nodes.add(r)}};jsts.operation.relate.RelateComputer.prototype.computeProperIntersectionIM=function(t,e){var r=this.arg[0].getGeometry().getDimension();var n=this.arg[1].getGeometry().getDimension();var i=t.hasProperIntersection();var o=t.hasProperInteriorIntersection();if(r===2&&n===2){if(i)e.setAtLeast("212101212")}else if(r===2&&n===1){if(i)e.setAtLeast("FFF0FFFF2");if(o)e.setAtLeast("1FFFFF1FF")}else if(r===1&&n===2){if(i)e.setAtLeast("F0FFFFFF2");if(o)e.setAtLeast("1F1FFFFFF")}else if(r===1&&n===1){if(o)e.setAtLeast("0FFFFFFFF")}};jsts.operation.relate.RelateComputer.prototype.copyNodesAndLabels=function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var r=e.next();var n=this.nodes.addNode(r.getCoordinate());n.setLabel(t,r.getLabel().getLocation(t))}};jsts.operation.relate.RelateComputer.prototype.computeIntersectionNodes=function(e){for(var r=this.arg[e].getEdgeIterator();r.hasNext();){var n=r.next();var i=n.getLabel().getLocation(e);for(var o=n.getEdgeIntersectionList().iterator();o.hasNext();){var s=o.next();var a=this.nodes.addNode(s.coord);if(i===t.BOUNDARY)a.setLabelBoundary(e);else{if(a.getLabel().isNull(e))a.setLabel(e,t.INTERIOR)}}}};jsts.operation.relate.RelateComputer.prototype.labelIntersectionNodes=function(e){for(var r=this.arg[e].getEdgeIterator();r.hasNext();){var n=r.next();var i=n.getLabel().getLocation(e);for(var o=n.getEdgeIntersectionList().iterator();o.hasNext();){var s=o.next();var a=this.nodes.find(s.coord);if(a.getLabel().isNull(e)){if(i===t.BOUNDARY)a.setLabelBoundary(e);else a.setLabel(e,t.INTERIOR)}}}};jsts.operation.relate.RelateComputer.prototype.computeDisjointIM=function(e){var r=this.arg[0].getGeometry();if(!r.isEmpty()){e.set(t.INTERIOR,t.EXTERIOR,r.getDimension());e.set(t.BOUNDARY,t.EXTERIOR,r.getBoundaryDimension())}var n=this.arg[1].getGeometry();if(!n.isEmpty()){e.set(t.EXTERIOR,t.INTERIOR,n.getDimension());e.set(t.EXTERIOR,t.BOUNDARY,n.getBoundaryDimension())}};jsts.operation.relate.RelateComputer.prototype.labelNodeEdges=function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next();e.getEdges().computeLabelling(this.arg)}};jsts.operation.relate.RelateComputer.prototype.updateIM=function(t){for(var e=this.isolatedEdges.iterator();e.hasNext();){var r=e.next();r.updateIM(t)}for(var n=this.nodes.iterator();n.hasNext();){var i=n.next();i.updateIM(t);i.updateIMFromEdges(t)}};jsts.operation.relate.RelateComputer.prototype.labelIsolatedEdges=function(t,e){for(var r=this.arg[t].getEdgeIterator();r.hasNext();){var n=r.next();if(n.isIsolated()){this.labelIsolatedEdge(n,e,this.arg[e].getGeometry());this.isolatedEdges.add(n)}}};jsts.operation.relate.RelateComputer.prototype.labelIsolatedEdge=function(e,r,n){if(n.getDimension()>0){var i=this.ptLocator.locate(e.getCoordinate(),n);e.getLabel().setAllLocations(r,i)}else{e.getLabel().setAllLocations(r,t.EXTERIOR)}};jsts.operation.relate.RelateComputer.prototype.labelIsolatedNodes=function(){for(var t=this.nodes.iterator();t.hasNext();){var r=t.next();var n=r.getLabel();e.isTrue(n.getGeometryCount()>0,"node with empty label found");if(r.isIsolated()){if(n.isNull(0))this.labelIsolatedNode(r,0);else this.labelIsolatedNode(r,1)}}};jsts.operation.relate.RelateComputer.prototype.labelIsolatedNode=function(t,e){var r=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setAllLocations(e,r)}})();(function(){var t=jsts.util.Assert;jsts.geomgraph.GraphComponent=function(t){this.label=t};jsts.geomgraph.GraphComponent.prototype.label=null;jsts.geomgraph.GraphComponent.prototype._isInResult=false;jsts.geomgraph.GraphComponent.prototype._isCovered=false;jsts.geomgraph.GraphComponent.prototype._isCoveredSet=false;jsts.geomgraph.GraphComponent.prototype._isVisited=false;jsts.geomgraph.GraphComponent.prototype.getLabel=function(){return this.label};jsts.geomgraph.GraphComponent.prototype.setLabel=function(t){if(arguments.length===2){this.setLabel2.apply(this,arguments);return}this.label=t};jsts.geomgraph.GraphComponent.prototype.setInResult=function(t){this._isInResult=t};jsts.geomgraph.GraphComponent.prototype.isInResult=function(){return this._isInResult};jsts.geomgraph.GraphComponent.prototype.setCovered=function(t){this._isCovered=t;this._isCoveredSet=true};jsts.geomgraph.GraphComponent.prototype.isCovered=function(){return this._isCovered};jsts.geomgraph.GraphComponent.prototype.isCoveredSet=function(){return this._isCoveredSet};jsts.geomgraph.GraphComponent.prototype.isVisited=function(){return this._isVisited};jsts.geomgraph.GraphComponent.prototype.setVisited=function(t){this._isVisited=t};jsts.geomgraph.GraphComponent.prototype.getCoordinate=function(){throw new jsts.error.AbstractMethodInvocationError};jsts.geomgraph.GraphComponent.prototype.computeIM=function(t){throw new jsts.error.AbstractMethodInvocationError};jsts.geomgraph.GraphComponent.prototype.isIsolated=function(){throw new jsts.error.AbstractMethodInvocationError};jsts.geomgraph.GraphComponent.prototype.updateIM=function(e){t.isTrue(this.label.getGeometryCount()>=2,"found partial label");this.computeIM(e)}})();jsts.geomgraph.Node=function(t,e){this.coord=t;this.edges=e;this.label=new jsts.geomgraph.Label(0,jsts.geom.Location.NONE)};jsts.geomgraph.Node.prototype=new jsts.geomgraph.GraphComponent;jsts.geomgraph.Node.prototype.coord=null;jsts.geomgraph.Node.prototype.edges=null;jsts.geomgraph.Node.prototype.isIsolated=function(){return this.label.getGeometryCount()==1};jsts.geomgraph.Node.prototype.setLabel2=function(t,e){if(this.label===null){this.label=new jsts.geomgraph.Label(t,e)}else this.label.setLocation(t,e)};jsts.geomgraph.Node.prototype.setLabelBoundary=function(t){var e=jsts.geom.Location.NONE;if(this.label!==null)e=this.label.getLocation(t);var r;switch(e){case jsts.geom.Location.BOUNDARY:r=jsts.geom.Location.INTERIOR;break;case jsts.geom.Location.INTERIOR:r=jsts.geom.Location.BOUNDARY;break;default:r=jsts.geom.Location.BOUNDARY;break}this.label.setLocation(t,r)};jsts.geomgraph.Node.prototype.add=function(t){this.edges.insert(t);t.setNode(this)};jsts.geomgraph.Node.prototype.getCoordinate=function(){return this.coord};jsts.geomgraph.Node.prototype.getEdges=function(){return this.edges};jsts.geomgraph.Node.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();){var e=t.next();if(e.getEdge().isInResult())return true}return false};jsts.geom.Point=function(t,e){this.factory=e;if(t===undefined)return;this.coordinate=t};jsts.geom.Point.prototype=new jsts.geom.Geometry;jsts.geom.Point.constructor=jsts.geom.Point;jsts.geom.Point.CLASS_NAME="jsts.geom.Point";jsts.geom.Point.prototype.coordinate=null;jsts.geom.Point.prototype.getX=function(){return this.coordinate.x};jsts.geom.Point.prototype.getY=function(){return this.coordinate.y};jsts.geom.Point.prototype.getCoordinate=function(){return this.coordinate};jsts.geom.Point.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.coordinate]};jsts.geom.Point.prototype.getCoordinateSequence=function(){return this.isEmpty()?[]:[this.coordinate]};jsts.geom.Point.prototype.isEmpty=function(){return this.coordinate===null};jsts.geom.Point.prototype.equalsExact=function(t,e){if(!this.isEquivalentClass(t)){return false}if(this.isEmpty()&&t.isEmpty()){return true}return this.equal(t.getCoordinate(),this.getCoordinate(),e)};jsts.geom.Point.prototype.getNumPoints=function(){return this.isEmpty()?0:1};jsts.geom.Point.prototype.isSimple=function(){return true};jsts.geom.Point.prototype.getBoundary=function(){return new jsts.geom.GeometryCollection(null)};jsts.geom.Point.prototype.computeEnvelopeInternal=function(){if(this.isEmpty()){return new jsts.geom.Envelope}return new jsts.geom.Envelope(this.coordinate)};jsts.geom.Point.prototype.apply=function(t){if(t instanceof jsts.geom.GeometryFilter||t instanceof jsts.geom.GeometryComponentFilter){t.filter(this)}else if(t instanceof jsts.geom.CoordinateFilter){if(this.isEmpty()){return}t.filter(this.getCoordinate())}};jsts.geom.Point.prototype.clone=function(){return new jsts.geom.Point(this.coordinate.clone(),this.factory)};jsts.geom.Point.prototype.getDimension=function(){return 0};jsts.geom.Point.prototype.getBoundaryDimension=function(){return jsts.geom.Dimension.FALSE};jsts.geom.Point.prototype.reverse=function(){return this.clone()};jsts.geom.Point.prototype.isValid=function(){if(!jsts.operation.valid.IsValidOp.isValid(this.getCoordinate())){return false}return true};jsts.geom.Point.prototype.normalize=function(){};jsts.geom.Point.prototype.compareToSameClass=function(t){var e=t;return this.getCoordinate().compareTo(e.getCoordinate())};jsts.geom.Point.prototype.getGeometryType=function(){return"Point"};jsts.geom.Point.prototype.hashCode=function(){return"Point_"+this.coordinate.hashCode()};jsts.geom.Point.prototype.CLASS_NAME="jsts.geom.Point";jsts.geom.Dimension=function(){};jsts.geom.Dimension.P=0;jsts.geom.Dimension.L=1;jsts.geom.Dimension.A=2;jsts.geom.Dimension.FALSE=-1;jsts.geom.Dimension.TRUE=-2;jsts.geom.Dimension.DONTCARE=-3;jsts.geom.Dimension.toDimensionSymbol=function(t){switch(t){case jsts.geom.Dimension.FALSE:return"F";case jsts.geom.Dimension.TRUE:return"T";case jsts.geom.Dimension.DONTCARE:return"*";case jsts.geom.Dimension.P:return"0";case jsts.geom.Dimension.L:return"1";case jsts.geom.Dimension.A:return"2"}throw new jsts.IllegalArgumentError("Unknown dimension value: "+t)};jsts.geom.Dimension.toDimensionValue=function(t){switch(t.toUpperCase()){case"F":return jsts.geom.Dimension.FALSE;case"T":return jsts.geom.Dimension.TRUE;case"*":return jsts.geom.Dimension.DONTCARE;case"0":return jsts.geom.Dimension.P;case"1":return jsts.geom.Dimension.L;case"2":return jsts.geom.Dimension.A}throw new jsts.error.IllegalArgumentError("Unknown dimension symbol: "+t)};(function(){var t=jsts.geom.Dimension;jsts.geom.LineString=function(t,e){this.factory=e;this.points=t||[]};jsts.geom.LineString.prototype=new jsts.geom.Geometry;jsts.geom.LineString.constructor=jsts.geom.LineString;jsts.geom.LineString.prototype.points=null;jsts.geom.LineString.prototype.getCoordinates=function(){return this.points};jsts.geom.LineString.prototype.getCoordinateSequence=function(){return this.points};jsts.geom.LineString.prototype.getCoordinateN=function(t){return this.points[t]};jsts.geom.LineString.prototype.getCoordinate=function(){if(this.isEmpty()){return null}return this.getCoordinateN(0)};jsts.geom.LineString.prototype.getDimension=function(){return 1};jsts.geom.LineString.prototype.getBoundaryDimension=function(){if(this.isClosed()){return t.FALSE}return 0};jsts.geom.LineString.prototype.isEmpty=function(){return this.points.length===0};jsts.geom.LineString.prototype.getNumPoints=function(){return this.points.length};jsts.geom.LineString.prototype.getPointN=function(t){return this.getFactory().createPoint(this.points[t])};jsts.geom.LineString.prototype.getStartPoint=function(){if(this.isEmpty()){return null}return this.getPointN(0)};jsts.geom.LineString.prototype.getEndPoint=function(){if(this.isEmpty()){return null}return this.getPointN(this.getNumPoints()-1)};jsts.geom.LineString.prototype.isClosed=function(){if(this.isEmpty()){return false}return this.getCoordinateN(0).equals2D(this.getCoordinateN(this.points.length-1))};jsts.geom.LineString.prototype.isRing=function(){return this.isClosed()&&this.isSimple()};jsts.geom.LineString.prototype.getGeometryType=function(){return"LineString"};jsts.geom.LineString.prototype.getLength=function(){return jsts.algorithm.CGAlgorithms.computeLength(this.points)};jsts.geom.LineString.prototype.getBoundary=function(){return new jsts.operation.BoundaryOp(this).getBoundary()};jsts.geom.LineString.prototype.computeEnvelopeInternal=function(){if(this.isEmpty()){return new jsts.geom.Envelope}var t=new jsts.geom.Envelope;this.points.forEach(function(e){t.expandToInclude(e)});return t};jsts.geom.LineString.prototype.equalsExact=function(t,e){if(!this.isEquivalentClass(t)){return false}if(this.points.length!==t.points.length){return false}if(this.isEmpty()&&t.isEmpty()){return true}return this.points.reduce(function(r,n,i){return r&&jsts.geom.Geometry.prototype.equal(n,t.points[i],e)})};jsts.geom.LineString.prototype.isEquivalentClass=function(t){return t instanceof jsts.geom.LineString};jsts.geom.LineString.prototype.compareToSameClass=function(t){var e=t;var r=0,n=this.points.length;var i=0,o=e.points.length;while(r<n&&i<o){var s=this.points[r].compareTo(e.points[i]);if(s!==0){return s}r++;i++}if(r<n){return 1}if(i<o){return-1}return 0};jsts.geom.LineString.prototype.apply=function(t){if(t instanceof jsts.geom.GeometryFilter||t instanceof jsts.geom.GeometryComponentFilter){t.filter(this)}else if(t instanceof jsts.geom.CoordinateFilter){for(var e=0,r=this.points.length;e<r;e++){t.filter(this.points[e])}}else if(t instanceof jsts.geom.CoordinateSequenceFilter){this.apply2.apply(this,arguments)}};jsts.geom.LineString.prototype.apply2=function(t){if(this.points.length===0)return;for(var e=0;e<this.points.length;e++){t.filter(this.points,e);if(t.isDone())break}if(t.isGeometryChanged()){}};jsts.geom.LineString.prototype.clone=function(){var t=[];for(var e=0,r=this.points.length;e<r;e++){t.push(this.points[e].clone())}return this.factory.createLineString(t)};jsts.geom.LineString.prototype.normalize=function(){var t,e,r,n,i,o;o=this.points.length;e=parseInt(o/2);for(t=0;t<e;t++){r=o-1-t;n=this.points[t];i=this.points[r];if(!n.equals(i)){if(n.compareTo(i)>0){this.points.reverse()}return}}};jsts.geom.LineString.prototype.CLASS_NAME="jsts.geom.LineString"})();(function(){jsts.geom.Polygon=function(t,e,r){this.shell=t||r.createLinearRing(null);this.holes=e||[];this.factory=r};jsts.geom.Polygon.prototype=new jsts.geom.Geometry;jsts.geom.Polygon.constructor=jsts.geom.Polygon;jsts.geom.Polygon.prototype.getCoordinate=function(){return this.shell.getCoordinate()};jsts.geom.Polygon.prototype.getCoordinates=function(){if(this.isEmpty()){return[]}var t=[];var e=-1;var r=this.shell.getCoordinates();for(var n=0;n<r.length;n++){e++;t[e]=r[n]}for(var i=0;i<this.holes.length;i++){var o=this.holes[i].getCoordinates();for(var s=0;s<o.length;s++){e++;t[e]=o[s]}}return t};jsts.geom.Polygon.prototype.getNumPoints=function(){var t=this.shell.getNumPoints();for(var e=0;e<this.holes.length;e++){t+=this.holes[e].getNumPoints()}return t};jsts.geom.Polygon.prototype.isEmpty=function(){return this.shell.isEmpty()};jsts.geom.Polygon.prototype.isRectangle=function(){if(this.getNumInteriorRing()!=0)return false;if(this.shell==null)return false;if(this.shell.getNumPoints()!=5)return false;var t=this.shell.getCoordinateSequence();var e=this.getEnvelopeInternal();for(var r=0;r<5;r++){var n=t[r].x;if(!(n==e.getMinX()||n==e.getMaxX()))return false;var i=t[r].y;if(!(i==e.getMinY()||i==e.getMaxY()))return false}var o=t[0].x;var s=t[0].y;for(var r=1;r<=4;r++){var n=t[r].x;var i=t[r].y;var a=n!=o;var u=i!=s;if(a==u)return false;o=n;s=i}return true};jsts.geom.Polygon.prototype.getExteriorRing=function(){return this.shell};jsts.geom.Polygon.prototype.getInteriorRingN=function(t){return this.holes[t]};jsts.geom.Polygon.prototype.getNumInteriorRing=function(){return this.holes.length};jsts.geom.Polygon.prototype.getArea=function(){var t=0;t+=Math.abs(jsts.algorithm.CGAlgorithms.signedArea(this.shell.getCoordinateSequence()));for(var e=0;e<this.holes.length;e++){t-=Math.abs(jsts.algorithm.CGAlgorithms.signedArea(this.holes[e].getCoordinateSequence()))}return t};jsts.geom.Polygon.prototype.getLength=function(){var t=0;t+=this.shell.getLength();for(var e=0;e<this.holes.length;e++){t+=this.holes[e].getLength()}return t};jsts.geom.Polygon.prototype.getBoundary=function(){if(this.isEmpty()){return this.getFactory().createMultiLineString(null)}var t=[];t[0]=this.shell.clone();for(var e=0,r=this.holes.length;e<r;e++){t[e+1]=this.holes[e].clone()}if(t.length<=1)return t[0];return this.getFactory().createMultiLineString(t)};jsts.geom.Polygon.prototype.computeEnvelopeInternal=function(){return this.shell.getEnvelopeInternal()};jsts.geom.Polygon.prototype.getDimension=function(){return 2};jsts.geom.Polygon.prototype.getBoundaryDimension=function(){return 1};jsts.geom.Polygon.prototype.equalsExact=function(t,e){if(!this.isEquivalentClass(t)){return false}if(this.isEmpty()&&t.isEmpty()){return true}if(this.isEmpty()!==t.isEmpty()){return false}if(!this.shell.equalsExact(t.shell,e)){return false}if(this.holes.length!==t.holes.length){return false}if(this.holes.length!==t.holes.length){return false}for(var r=0;r<this.holes.length;r++){if(!this.holes[r].equalsExact(t.holes[r],e)){return false}}return true};jsts.geom.Polygon.prototype.compareToSameClass=function(t){return this.shell.compareToSameClass(t.shell)};jsts.geom.Polygon.prototype.apply=function(t){if(t instanceof jsts.geom.GeometryComponentFilter){t.filter(this);this.shell.apply(t);for(var e=0,r=this.holes.length;e<r;e++){this.holes[e].apply(t)}}else if(t instanceof jsts.geom.GeometryFilter){t.filter(this)}else if(t instanceof jsts.geom.CoordinateFilter){this.shell.apply(t);for(var e=0,r=this.holes.length;e<r;e++){this.holes[e].apply(t)}}else if(t instanceof jsts.geom.CoordinateSequenceFilter){this.apply2.apply(this,arguments)}};jsts.geom.Polygon.prototype.apply2=function(t){this.shell.apply(t);if(!t.isDone()){for(var e=0;e<this.holes.length;e++){this.holes[e].apply(t);if(t.isDone())break}}if(t.isGeometryChanged()){}};jsts.geom.Polygon.prototype.clone=function(){var t=[];for(var e=0,r=this.holes.length;e<r;e++){t.push(this.holes[e].clone())}return this.factory.createPolygon(this.shell.clone(),t)};jsts.geom.Polygon.prototype.normalize=function(){this.normalize2(this.shell,true);for(var t=0,e=this.holes.length;t<e;t++){this.normalize2(this.holes[t],false)}this.holes.sort()};jsts.geom.Polygon.prototype.normalize2=function(t,e){if(t.isEmpty()){return}
var r=t.points.slice(0,t.points.length-1);var n=jsts.geom.CoordinateArrays.minCoordinate(t.points);jsts.geom.CoordinateArrays.scroll(r,n);t.points=r.concat();t.points[r.length]=r[0];if(jsts.algorithm.CGAlgorithms.isCCW(t.points)===e){t.points.reverse()}};jsts.geom.Polygon.prototype.getGeometryType=function(){return"Polygon"};jsts.geom.Polygon.prototype.CLASS_NAME="jsts.geom.Polygon"})();(function(){var t=jsts.geom.Geometry;var e=javascript.util.TreeSet;var r=javascript.util.Arrays;jsts.geom.GeometryCollection=function(t,e){this.geometries=t||[];this.factory=e};jsts.geom.GeometryCollection.prototype=new t;jsts.geom.GeometryCollection.constructor=jsts.geom.GeometryCollection;jsts.geom.GeometryCollection.prototype.isEmpty=function(){for(var t=0,e=this.geometries.length;t<e;t++){var r=this.getGeometryN(t);if(!r.isEmpty()){return false}}return true};jsts.geom.GeometryCollection.prototype.getArea=function(){var t=0;for(var e=0,r=this.geometries.length;e<r;e++){t+=this.getGeometryN(e).getArea()}return t};jsts.geom.GeometryCollection.prototype.getLength=function(){var t=0;for(var e=0,r=this.geometries.length;e<r;e++){t+=this.getGeometryN(e).getLength()}return t};jsts.geom.GeometryCollection.prototype.getCoordinate=function(){if(this.isEmpty())return null;return this.getGeometryN(0).getCoordinate()};jsts.geom.GeometryCollection.prototype.getCoordinates=function(){var t=[];var e=-1;for(var r=0,n=this.geometries.length;r<n;r++){var i=this.getGeometryN(r);var o=i.getCoordinates();for(var s=0;s<o.length;s++){e++;t[e]=o[s]}}return t};jsts.geom.GeometryCollection.prototype.getNumGeometries=function(){return this.geometries.length};jsts.geom.GeometryCollection.prototype.getGeometryN=function(t){var e=this.geometries[t];if(e instanceof jsts.geom.Coordinate){e=new jsts.geom.Point(e)}return e};jsts.geom.GeometryCollection.prototype.getNumPoints=function(t){var e=0;for(var r=0;r<this.geometries.length;r++){e+=this.geometries[r].getNumPoints()}return e};jsts.geom.GeometryCollection.prototype.equalsExact=function(t,e){if(!this.isEquivalentClass(t)){return false}if(this.geometries.length!==t.geometries.length){return false}for(var r=0,n=this.geometries.length;r<n;r++){var i=this.getGeometryN(r);if(!i.equalsExact(t.getGeometryN(r),e)){return false}}return true};jsts.geom.GeometryCollection.prototype.clone=function(){var t=[];for(var e=0,r=this.geometries.length;e<r;e++){t.push(this.geometries[e].clone())}return this.factory.createGeometryCollection(t)};jsts.geom.GeometryCollection.prototype.normalize=function(){for(var t=0,e=this.geometries.length;t<e;t++){this.getGeometryN(t).normalize()}this.geometries.sort()};jsts.geom.GeometryCollection.prototype.compareToSameClass=function(t){var n=new e(r.asList(this.geometries));var i=new e(r.asList(t.geometries));return this.compare(n,i)};jsts.geom.GeometryCollection.prototype.apply=function(t){if(t instanceof jsts.geom.GeometryFilter||t instanceof jsts.geom.GeometryComponentFilter){t.filter(this);for(var e=0,r=this.geometries.length;e<r;e++){this.getGeometryN(e).apply(t)}}else if(t instanceof jsts.geom.CoordinateFilter){for(var e=0,r=this.geometries.length;e<r;e++){this.getGeometryN(e).apply(t)}}else if(t instanceof jsts.geom.CoordinateSequenceFilter){this.apply2.apply(this,arguments)}};jsts.geom.GeometryCollection.prototype.apply2=function(t){if(this.geometries.length==0)return;for(var e=0;e<this.geometries.length;e++){this.geometries[e].apply(t);if(t.isDone()){break}}if(t.isGeometryChanged()){}};jsts.geom.GeometryCollection.prototype.getDimension=function(){var t=jsts.geom.Dimension.FALSE;for(var e=0,r=this.geometries.length;e<r;e++){var n=this.getGeometryN(e);t=Math.max(t,n.getDimension())}return t};jsts.geom.GeometryCollection.prototype.computeEnvelopeInternal=function(){var t=new jsts.geom.Envelope;for(var e=0,r=this.geometries.length;e<r;e++){var n=this.getGeometryN(e);t.expandToInclude(n.getEnvelopeInternal())}return t};jsts.geom.GeometryCollection.prototype.CLASS_NAME="jsts.geom.GeometryCollection"})();jsts.algorithm.Centroid=function(t){this.areaBasePt=null;this.triangleCent3=new jsts.geom.Coordinate;this.areasum2=0;this.cg3=new jsts.geom.Coordinate;this.lineCentSum=new jsts.geom.Coordinate;this.totalLength=0;this.ptCount=0;this.ptCentSum=new jsts.geom.Coordinate;this.add(t)};jsts.algorithm.Centroid.getCentroid=function(t){var e=new jsts.algorithm.Centroid(t);return e.getCentroid()};jsts.algorithm.Centroid.centroid3=function(t,e,r,n){n.x=t.x+e.x+r.x;n.y=t.y+e.y+r.y};jsts.algorithm.Centroid.area2=function(t,e,r){return(e.x-t.x)*(r.y-t.y)-(r.x-t.x)*(e.y-t.y)};jsts.algorithm.Centroid.prototype.add=function(t){if(t.isEmpty()){return}if(t instanceof jsts.geom.Point){this.addPoint(t.getCoordinate())}else if(t instanceof jsts.geom.LineString){this.addLineSegments(t.getCoordinates())}else if(t instanceof jsts.geom.Polygon){this.addPolygon(t)}else if(t instanceof jsts.geom.GeometryCollection){for(var e=0;e<t.getNumGeometries();e++){this.add(t.getGeometryN(e))}}};jsts.algorithm.Centroid.prototype.getCentroid=function(){var t=new jsts.geom.Coordinate;if(Math.abs(this.areasum2)>0){t.x=this.cg3.x/3/this.areasum2;t.y=this.cg3.y/3/this.areasum2}else if(this.totalLength>0){t.x=this.lineCentSum.x/this.totalLength;t.y=this.lineCentSum.y/this.totalLength}else if(this.ptCount>0){t.x=this.ptCentSum.x/this.ptCount;t.y=this.ptCentSum.y/this.ptCount}else{return null}return t};jsts.algorithm.Centroid.prototype.setBasePoint=function(t){if(this.areaBasePt===null){this.areaBasePt=t}};jsts.algorithm.Centroid.prototype.addPolygon=function(t){this.addShell(t.getExteriorRing().getCoordinates());for(var e=0;e<t.getNumInteriorRing();e++){this.addHole(t.getInteriorRingN(e).getCoordinates())}};jsts.algorithm.Centroid.prototype.addShell=function(t){if(t.length>0){this.setBasePoint(t[0])}var e=!jsts.algorithm.CGAlgorithms.isCCW(t);for(var r=0;r<t.length-1;r++){this.addTriangle(this.areaBasePt,t[r],t[r+1],e)}this.addLineSegments(t)};jsts.algorithm.Centroid.prototype.addHole=function(t){var e=jsts.algorithm.CGAlgorithms.isCCW(t);for(var r=0;r<t.length-1;r++){this.addTriangle(this.areaBasePt,t[r],t[r+1],e)}this.addLineSegments(t)};jsts.algorithm.Centroid.prototype.addTriangle=function(t,e,r,n){var i=n?1:-1;jsts.algorithm.Centroid.centroid3(t,e,r,this.triangleCent3);var o=jsts.algorithm.Centroid.area2(t,e,r);this.cg3.x+=i*o*this.triangleCent3.x;this.cg3.y+=i*o*this.triangleCent3.y;this.areasum2+=i*o};jsts.algorithm.Centroid.prototype.addLineSegments=function(t){var e=0;for(var r=0;r<t.length-1;r++){var n=t[r].distance(t[r+1]);if(n===0){continue}e+=n;var i=(t[r].x+t[r+1].x)/2;this.lineCentSum.x+=n*i;var o=(t[r].y+t[r+1].y)/2;this.lineCentSum.y+=n*o}this.totalLength+=e;if(e===0&&t.length>0){this.addPoint(t[0])}};jsts.algorithm.Centroid.prototype.addPoint=function(t){this.ptCount+=1;this.ptCentSum.x+=t.x;this.ptCentSum.y+=t.y};(function(){var t=function(t){this.deList=new javascript.util.ArrayList;this.factory=t};t.findEdgeRingContaining=function(t,e){var r=t.getRing();var n=r.getEnvelopeInternal();var i=r.getCoordinateN(0);var o=null;var s=null;for(var a=e.iterator();a.hasNext();){var u=a.next();var p=u.getRing();var l=p.getEnvelopeInternal();if(o!=null)s=o.getRing().getEnvelopeInternal();var g=false;if(l.equals(n))continue;i=jsts.geom.CoordinateArrays.ptNotInList(r.getCoordinates(),p.getCoordinates());if(l.contains(n)&&jsts.algorithm.CGAlgorithms.isPointInRing(i,p.getCoordinates()))g=true;if(g){if(o==null||s.contains(l)){o=u}}}return o};t.ptNotInList=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(!isInList(n,e))return n}return null};t.isInList=function(t,e){for(var r=0;r<e.length;r++){if(t.equals(e[r]))return true}return false};t.prototype.factory=null;t.prototype.deList=null;t.prototype.ring=null;t.prototype.ringPts=null;t.prototype.holes=null;t.prototype.add=function(t){this.deList.add(t)};t.prototype.isHole=function(){var t=this.getRing();return jsts.algorithm.CGAlgorithms.isCCW(t.getCoordinates())};t.prototype.addHole=function(t){if(this.holes==null)this.holes=new javascript.util.ArrayList;this.holes.add(t)};t.prototype.getPolygon=function(){var t=null;if(this.holes!=null){t=[];for(var e=0;e<this.holes.size();e++){t[e]=this.holes.get(e)}}var r=this.factory.createPolygon(this.ring,t);return r};t.prototype.isValid=function(){this.getCoordinates();if(this.ringPts.length<=3)return false;this.getRing();return this.ring.isValid()};t.prototype.getCoordinates=function(){if(this.ringPts==null){var e=new jsts.geom.CoordinateList;for(var r=this.deList.iterator();r.hasNext();){var n=r.next();var i=n.getEdge();t.addEdge(i.getLine().getCoordinates(),n.getEdgeDirection(),e)}this.ringPts=e.toCoordinateArray()}return this.ringPts};t.prototype.getLineString=function(){this.getCoordinates();return this.factory.createLineString(this.ringPts)};t.prototype.getRing=function(){if(this.ring!=null)return this.ring;this.getCoordinates();if(this.ringPts.length<3)console.log(this.ringPts);try{this.ring=this.factory.createLinearRing(this.ringPts)}catch(t){console.log(this.ringPts)}return this.ring};t.addEdge=function(t,e,r){if(e){for(var n=0;n<t.length;n++){r.add(t[n],false)}}else{for(var n=t.length-1;n>=0;n--){r.add(t[n],false)}}};jsts.operation.polygonize.EdgeRing=t})();(function(){var t=function(){};t.setVisited=function(t,e){while(t.hasNext()){var r=t.next();r.setVisited(e)}};t.setMarked=function(t,e){while(t.hasNext()){var r=t.next();r.setMarked(e)}};t.getComponentWithVisitedState=function(t,e){while(t.hasNext()){var r=t.next();if(r.isVisited()==e)return r}return null};t.prototype._isMarked=false;t.prototype._isVisited=false;t.prototype.data;t.prototype.isVisited=function(){return this._isVisited};t.prototype.setVisited=function(t){this._isVisited=t};t.prototype.isMarked=function(){return this._isMarked};t.prototype.setMarked=function(t){this._isMarked=t};t.prototype.setContext=function(t){this.data=t};t.prototype.getContext=function(){return data};t.prototype.setData=function(t){this.data=t};t.prototype.getData=function(){return data};t.prototype.isRemoved=function(){throw new jsts.error.AbstractMethodInvocationError};jsts.planargraph.GraphComponent=t})();(function(){var t=jsts.planargraph.GraphComponent;var e=function(t,e){if(t===undefined){return}this.setDirectedEdges(t,e)};e.prototype=new t;e.prototype.dirEdge=null;e.prototype.setDirectedEdges=function(t,e){this.dirEdge=[t,e];t.setEdge(this);e.setEdge(this);t.setSym(e);e.setSym(t);t.getFromNode().addOutEdge(t);e.getFromNode().addOutEdge(e)};e.prototype.getDirEdge=function(t){if(t instanceof jsts.planargraph.Node){this.getDirEdge2(t)}return this.dirEdge[t]};e.prototype.getDirEdge2=function(t){if(this.dirEdge[0].getFromNode()==t)return this.dirEdge[0];if(this.dirEdge[1].getFromNode()==t)return this.dirEdge[1];return null};e.prototype.getOppositeNode=function(t){if(this.dirEdge[0].getFromNode()==t)return this.dirEdge[0].getToNode();if(this.dirEdge[1].getFromNode()==t)return this.dirEdge[1].getToNode();return null};e.prototype.remove=function(){this.dirEdge=null};e.prototype.isRemoved=function(){return dirEdge==null};jsts.planargraph.Edge=e})();jsts.operation.polygonize.PolygonizeEdge=function(t){this.line=t};jsts.operation.polygonize.PolygonizeEdge.prototype=new jsts.planargraph.Edge;jsts.operation.polygonize.PolygonizeEdge.prototype.line=null;jsts.operation.polygonize.PolygonizeEdge.prototype.getLine=function(){return this.line};(function(){var t=javascript.util.ArrayList;var e=jsts.planargraph.GraphComponent;var r=function(t,e,r,n){if(t===undefined){return}this.from=t;this.to=e;this.edgeDirection=n;this.p0=t.getCoordinate();this.p1=r;var i=this.p1.x-this.p0.x;var o=this.p1.y-this.p0.y;this.quadrant=jsts.geomgraph.Quadrant.quadrant(i,o);this.angle=Math.atan2(o,i)};r.prototype=new e;r.toEdges=function(e){var r=new t;for(var n=e.iterator();n.hasNext();){r.add(n.next().parentEdge)}return r};r.prototype.parentEdge=null;r.prototype.from=null;r.prototype.to=null;r.prototype.p0=null;r.prototype.p1=null;r.prototype.sym=null;r.prototype.edgeDirection=null;r.prototype.quadrant=null;r.prototype.angle=null;r.prototype.getEdge=function(){return this.parentEdge};r.prototype.setEdge=function(t){this.parentEdge=t};r.prototype.getQuadrant=function(){return this.quadrant};r.prototype.getDirectionPt=function(){return this.p1};r.prototype.getEdgeDirection=function(){return this.edgeDirection};r.prototype.getFromNode=function(){return this.from};r.prototype.getToNode=function(){return this.to};r.prototype.getCoordinate=function(){return this.from.getCoordinate()};r.prototype.getAngle=function(){return this.angle};r.prototype.getSym=function(){return this.sym};r.prototype.setSym=function(t){this.sym=t};r.prototype.remove=function(){this.sym=null;this.parentEdge=null};r.prototype.isRemoved=function(){return this.parentEdge==null};r.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)};r.prototype.compareDirection=function(t){if(this.quadrant>t.quadrant)return 1;if(this.quadrant<t.quadrant)return-1;return jsts.algorithm.CGAlgorithms.computeOrientation(t.p0,t.p1,this.p1)};jsts.planargraph.DirectedEdge=r})();(function(){var t=jsts.planargraph.DirectedEdge;var e=function(e,r,n,i){t.apply(this,arguments)};e.prototype=new t;e.prototype.edgeRing=null;e.prototype.next=null;e.prototype.label=-1;e.prototype.getLabel=function(){return this.label};e.prototype.setLabel=function(t){this.label=t};e.prototype.getNext=function(){return this.next};e.prototype.setNext=function(t){this.next=t};e.prototype.isInRing=function(){return this.edgeRing!=null};e.prototype.setRing=function(t){this.edgeRing=t};jsts.operation.polygonize.PolygonizeDirectedEdge=e})();(function(){var t=javascript.util.ArrayList;var e=function(){this.outEdges=new t};e.prototype.outEdges=null;e.prototype.sorted=false;e.prototype.add=function(t){this.outEdges.add(t);this.sorted=false};e.prototype.remove=function(t){this.outEdges.remove(t)};e.prototype.iterator=function(){this.sortEdges();return this.outEdges.iterator()};e.prototype.getDegree=function(){return this.outEdges.size()};e.prototype.getCoordinate=function(){var t=iterator();if(!t.hasNext())return null;var e=t.next();return e.getCoordinate()};e.prototype.getEdges=function(){this.sortEdges();return this.outEdges};e.prototype.sortEdges=function(){if(!this.sorted){var t=this.outEdges.toArray();t.sort(function(t,e){return t.compareTo(e)});this.outEdges=javascript.util.Arrays.asList(t);this.sorted=true}};e.prototype.getIndex=function(t){if(t instanceof jsts.planargraph.DirectedEdge){return this.getIndex2(t)}else if(typeof t==="number"){return this.getIndex3(t)}this.sortEdges();for(var e=0;e<this.outEdges.size();e++){var r=this.outEdges.get(e);if(r.getEdge()==t)return e}return-1};e.prototype.getIndex2=function(t){this.sortEdges();for(var e=0;e<this.outEdges.size();e++){var r=this.outEdges.get(e);if(r==t)return e}return-1};e.prototype.getIndex3=function(t){var e=toInt(t%this.outEdges.size());if(e<0)e+=this.outEdges.size();return e};e.prototype.getNextEdge=function(t){var e=this.getIndex(t);return this.outEdges.get(getIndex(e+1))};e.prototype.getNextCWEdge=function(t){var e=this.getIndex(t);return this.outEdges.get(getIndex(e-1))};jsts.planargraph.DirectedEdgeStar=e})();(function(){var t=jsts.planargraph.GraphComponent;var e=jsts.planargraph.DirectedEdgeStar;var r=function(t,r){this.pt=t;this.deStar=r||new e};r.prototype=new t;r.getEdgesBetween=function(t,e){var r=DirectedEdge.toEdges(t.getOutEdges().getEdges());var n=new javascript.util.HashSet(r);var i=DirectedEdge.toEdges(e.getOutEdges().getEdges());n.retainAll(i);return n};r.prototype.pt=null;r.prototype.deStar=null;r.prototype.getCoordinate=function(){return this.pt};r.prototype.addOutEdge=function(t){this.deStar.add(t)};r.prototype.getOutEdges=function(){return this.deStar};r.prototype.getDegree=function(){return this.deStar.getDegree()};r.prototype.getIndex=function(t){return this.deStar.getIndex(t)};r.prototype.remove=function(t){if(t===undefined){return this.remove2()}this.deStar.remove(t)};r.prototype.remove2=function(){this.pt=null};r.prototype.isRemoved=function(){return this.pt==null};jsts.planargraph.Node=r})();(function(){var t=function(){this.nodeMap=new javascript.util.TreeMap};t.prototype.nodeMap=null;t.prototype.add=function(t){this.nodeMap.put(t.getCoordinate(),t);return t};t.prototype.remove=function(t){return this.nodeMap.remove(t)};t.prototype.find=function(t){return this.nodeMap.get(t)};t.prototype.iterator=function(){return this.nodeMap.values().iterator()};t.prototype.values=function(){return this.nodeMap.values()};jsts.planargraph.NodeMap=t})();(function(){var t=javascript.util.ArrayList;var e=function(){this.edges=new javascript.util.HashSet;this.dirEdges=new javascript.util.HashSet;this.nodeMap=new jsts.planargraph.NodeMap};e.prototype.edges=null;e.prototype.dirEdges=null;e.prototype.nodeMap=null;e.prototype.findNode=function(t){return this.nodeMap.find(t)};e.prototype.add=function(t){if(t instanceof jsts.planargraph.Edge){return this.add2(t)}else if(t instanceof jsts.planargraph.DirectedEdge){return this.add3(t)}this.nodeMap.add(t)};e.prototype.add2=function(t){this.edges.add(t);this.add(t.getDirEdge(0));this.add(t.getDirEdge(1))};e.prototype.add3=function(t){this.dirEdges.add(t)};e.prototype.nodeIterator=function(){return this.nodeMap.iterator()};e.prototype.contains=function(t){if(t instanceof jsts.planargraph.DirectedEdge){return this.contains2(t)}return this.edges.contains(t)};e.prototype.contains2=function(t){return this.dirEdges.contains(t)};e.prototype.getNodes=function(){return this.nodeMap.values()};e.prototype.dirEdgeIterator=function(){return this.dirEdges.iterator()};e.prototype.edgeIterator=function(){return this.edges.iterator()};e.prototype.getEdges=function(){return this.edges};e.prototype.remove=function(t){if(t instanceof jsts.planargraph.DirectedEdge){return this.remove2(t)}this.remove(t.getDirEdge(0));this.remove(t.getDirEdge(1));this.edges.remove(t);this.edge.remove()};e.prototype.remove2=function(t){if(t instanceof jsts.planargraph.Node){return this.remove3(t)}var e=t.getSym();if(e!=null)e.setSym(null);t.getFromNode().remove(t);t.remove();this.dirEdges.remove(t)};e.prototype.remove3=function(t){var e=t.getOutEdges().getEdges();for(var r=e.iterator();r.hasNext();){var n=r.next();var i=n.getSym();if(i!=null)this.remove(i);this.dirEdges.remove(n);var o=n.getEdge();if(o!=null){this.edges.remove(o)}}this.nodeMap.remove(t.getCoordinate());t.remove()};e.prototype.findNodesOfDegree=function(e){var r=new t;for(var n=this.nodeIterator();n.hasNext();){var i=n.next();if(i.getDegree()==e)r.add(i)}return r};jsts.planargraph.PlanarGraph=e})();(function(){var t=javascript.util.ArrayList;var e=javascript.util.Stack;var r=javascript.util.HashSet;var n=jsts.util.Assert;var i=jsts.operation.polygonize.EdgeRing;var o=jsts.operation.polygonize.PolygonizeEdge;var s=jsts.operation.polygonize.PolygonizeDirectedEdge;var a=jsts.planargraph.PlanarGraph;var u=jsts.planargraph.Node;var p=function(t){a.apply(this);this.factory=t};p.prototype=new a;p.getDegreeNonDeleted=function(t){var e=t.getOutEdges().getEdges();var r=0;for(var n=e.iterator();n.hasNext();){var i=n.next();if(!i.isMarked())r++}return r};p.getDegree=function(t,e){var r=t.getOutEdges().getEdges();var n=0;for(var i=r.iterator();i.hasNext();){var o=i.next();if(o.getLabel()==e)n++}return n};p.deleteAllEdges=function(t){var e=t.getOutEdges().getEdges();for(var r=e.iterator();r.hasNext();){var n=r.next();n.setMarked(true);var i=n.getSym();if(i!=null)i.setMarked(true)}};p.prototype.factory=null;p.prototype.addEdge=function(t){if(t.isEmpty()){return}var e=jsts.geom.CoordinateArrays.removeRepeatedPoints(t.getCoordinates());if(e.length<2){return}var r=e[0];var n=e[e.length-1];var i=this.getNode(r);var a=this.getNode(n);var u=new s(i,a,e[1],true);var p=new s(a,i,e[e.length-2],false);var l=new o(t);l.setDirectedEdges(u,p);this.add(l)};p.prototype.getNode=function(t){var e=this.findNode(t);if(e==null){e=new u(t);this.add(e)}return e};p.prototype.computeNextCWEdges=function(){for(var t=this.nodeIterator();t.hasNext();){var e=t.next();p.computeNextCWEdges(e)}};p.prototype.convertMaximalToMinimalEdgeRings=function(t){for(var e=t.iterator();e.hasNext();){var r=e.next();var n=r.getLabel();var i=p.findIntersectionNodes(r,n);if(i==null)continue;for(var o=i.iterator();o.hasNext();){var s=o.next();p.computeNextCCWEdges(s,n)}}};p.findIntersectionNodes=function(e,r){var i=e;var o=null;do{var s=i.getFromNode();if(p.getDegree(s,r)>1){if(o==null)o=new t;o.add(s)}i=i.getNext();n.isTrue(i!=null,"found null DE in ring");n.isTrue(i==e||!i.isInRing(),"found DE already in ring")}while(i!=e);return o};p.prototype.getEdgeRings=function(){this.computeNextCWEdges();p.label(this.dirEdges,-1);var e=p.findLabeledEdgeRings(this.dirEdges);this.convertMaximalToMinimalEdgeRings(e);var r=new t;for(var n=this.dirEdges.iterator();n.hasNext();){var i=n.next();if(i.isMarked())continue;if(i.isInRing())continue;var o=this.findEdgeRing(i);r.add(o)}return r};p.findLabeledEdgeRings=function(e){var r=new t;var n=1;for(var i=e.iterator();i.hasNext();){var o=i.next();if(o.isMarked())continue;if(o.getLabel()>=0)continue;r.add(o);var s=p.findDirEdgesInRing(o);p.label(s,n);n++}return r};p.prototype.deleteCutEdges=function(){this.computeNextCWEdges();p.findLabeledEdgeRings(this.dirEdges);var e=new t;for(var r=this.dirEdges.iterator();r.hasNext();){var n=r.next();if(n.isMarked())continue;var i=n.getSym();if(n.getLabel()==i.getLabel()){n.setMarked(true);i.setMarked(true);var o=n.getEdge();e.add(o.getLine())}}return e};p.label=function(t,e){for(var r=t.iterator();r.hasNext();){var n=r.next();n.setLabel(e)}};p.computeNextCWEdges=function(t){var e=t.getOutEdges();var r=null;var n=null;for(var i=e.getEdges().iterator();i.hasNext();){var o=i.next();if(o.isMarked())continue;if(r==null)r=o;if(n!=null){var s=n.getSym();s.setNext(o)}n=o}if(n!=null){var s=n.getSym();s.setNext(r)}};p.computeNextCCWEdges=function(t,e){var r=t.getOutEdges();var i=null;var o=null;var s=r.getEdges();for(var a=s.size()-1;a>=0;a--){var u=s.get(a);var p=u.getSym();var l=null;if(u.getLabel()==e)l=u;var g=null;if(p.getLabel()==e)g=p;if(l==null&&g==null)continue;if(g!=null){o=g}if(l!=null){if(o!=null){o.setNext(l);o=null}if(i==null)i=l}}if(o!=null){n.isTrue(i!=null);o.setNext(i)}};p.findDirEdgesInRing=function(e){var r=e;var i=new t;do{i.add(r);r=r.getNext();n.isTrue(r!=null,"found null DE in ring");n.isTrue(r==e||!r.isInRing(),"found DE already in ring")}while(r!=e);return i};p.prototype.findEdgeRing=function(t){var e=t;var r=new i(this.factory);do{r.add(e);e.setRing(r);e=e.getNext();n.isTrue(e!=null,"found null DE in ring");n.isTrue(e==t||!e.isInRing(),"found DE already in ring")}while(e!=t);return r};p.prototype.deleteDangles=function(){var t=this.findNodesOfDegree(1);var n=new r;var i=new e;for(var o=t.iterator();o.hasNext();){i.push(o.next())}while(!i.isEmpty()){var s=i.pop();p.deleteAllEdges(s);var a=s.getOutEdges().getEdges();for(var o=a.iterator();o.hasNext();){var u=o.next();u.setMarked(true);var l=u.getSym();if(l!=null)l.setMarked(true);var g=u.getEdge();n.add(g.getLine());var h=u.getToNode();if(p.getDegreeNonDeleted(h)==1)i.push(h)}}return n};p.prototype.computeDepthParity=function(){while(true){var t=null;if(t==null)return;this.computeDepthParity(t)}};p.prototype.computeDepthParity=function(t){};jsts.operation.polygonize.PolygonizeGraph=p})();jsts.index.strtree.Interval=function(){var t;if(arguments.length===1){t=arguments[0];return jsts.index.strtree.Interval(t.min,t.max)}else if(arguments.length===2){jsts.util.Assert.isTrue(this.min<=this.max);this.min=arguments[0];this.max=arguments[1]}};jsts.index.strtree.Interval.prototype.min=null;jsts.index.strtree.Interval.prototype.max=null;jsts.index.strtree.Interval.prototype.getCentre=function(){return(this.min+this.max)/2};jsts.index.strtree.Interval.prototype.expandToInclude=function(t){this.max=Math.max(this.max,t.max);this.min=Math.min(this.min,t.min);return this};jsts.index.strtree.Interval.prototype.intersects=function(t){return!(t.min>this.max||t.max<this.min)};jsts.index.strtree.Interval.prototype.equals=function(t){if(!(t instanceof jsts.index.strtree.Interval)){return false}other=t;return this.min===other.min&&this.max===other.max};jsts.geom.GeometryFactory=function(t){this.precisionModel=t||new jsts.geom.PrecisionModel};jsts.geom.GeometryFactory.prototype.precisionModel=null;jsts.geom.GeometryFactory.prototype.getPrecisionModel=function(){return this.precisionModel};jsts.geom.GeometryFactory.prototype.createPoint=function(t){var e=new jsts.geom.Point(t,this);return e};jsts.geom.GeometryFactory.prototype.createLineString=function(t){var e=new jsts.geom.LineString(t,this);return e};jsts.geom.GeometryFactory.prototype.createLinearRing=function(t){var e=new jsts.geom.LinearRing(t,this);return e};jsts.geom.GeometryFactory.prototype.createPolygon=function(t,e){var r=new jsts.geom.Polygon(t,e,this);return r};jsts.geom.GeometryFactory.prototype.createMultiPoint=function(t){if(t&&t[0]instanceof jsts.geom.Coordinate){var e=[];var r;for(r=0;r<t.length;r++){e.push(this.createPoint(t[r]))}t=e}return new jsts.geom.MultiPoint(t,this)};jsts.geom.GeometryFactory.prototype.createMultiLineString=function(t){return new jsts.geom.MultiLineString(t,this)};jsts.geom.GeometryFactory.prototype.createMultiPolygon=function(t){return new jsts.geom.MultiPolygon(t,this)};jsts.geom.GeometryFactory.prototype.buildGeometry=function(t){var e=null;var r=false;var n=false;for(var i=t.iterator();i.hasNext();){var o=i.next();var s=o.CLASS_NAME;if(e===null){e=s}if(!(s===e)){r=true}if(o.isGeometryCollectionBase())n=true}if(e===null){return this.createGeometryCollection(null)}if(r||n){return this.createGeometryCollection(t.toArray())}var a=t.get(0);var u=t.size()>1;if(u){if(a instanceof jsts.geom.Polygon){return this.createMultiPolygon(t.toArray())}else if(a instanceof jsts.geom.LineString){return this.createMultiLineString(t.toArray())}else if(a instanceof jsts.geom.Point){return this.createMultiPoint(t.toArray())}jsts.util.Assert.shouldNeverReachHere("Unhandled class: "+a)}return a};jsts.geom.GeometryFactory.prototype.createGeometryCollection=function(t){return new jsts.geom.GeometryCollection(t,this)};jsts.geom.GeometryFactory.prototype.toGeometry=function(t){if(t.isNull()){return this.createPoint(null)}if(t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()){return this.createPoint(new jsts.geom.Coordinate(t.getMinX(),t.getMinY()))}if(t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()){return this.createLineString([new jsts.geom.Coordinate(t.getMinX(),t.getMinY()),new jsts.geom.Coordinate(t.getMaxX(),t.getMaxY())])}return this.createPolygon(this.createLinearRing([new jsts.geom.Coordinate(t.getMinX(),t.getMinY()),new jsts.geom.Coordinate(t.getMinX(),t.getMaxY()),new jsts.geom.Coordinate(t.getMaxX(),t.getMaxY()),new jsts.geom.Coordinate(t.getMaxX(),t.getMinY()),new jsts.geom.Coordinate(t.getMinX(),t.getMinY())]),null)};jsts.geomgraph.NodeFactory=function(){};jsts.geomgraph.NodeFactory.prototype.createNode=function(t){return new jsts.geomgraph.Node(t,null)};(function(){jsts.geomgraph.Position=function(){};jsts.geomgraph.Position.ON=0;jsts.geomgraph.Position.LEFT=1;jsts.geomgraph.Position.RIGHT=2;jsts.geomgraph.Position.opposite=function(t){if(t===jsts.geomgraph.Position.LEFT){return jsts.geomgraph.Position.RIGHT}if(t===jsts.geomgraph.Position.RIGHT){return jsts.geomgraph.Position.LEFT}return t}})();jsts.geomgraph.TopologyLocation=function(){this.location=[];if(arguments.length===3){var t=arguments[0];var e=arguments[1];var r=arguments[2];this.init(3);this.location[jsts.geomgraph.Position.ON]=t;this.location[jsts.geomgraph.Position.LEFT]=e;this.location[jsts.geomgraph.Position.RIGHT]=r}else if(arguments[0]instanceof jsts.geomgraph.TopologyLocation){var n=arguments[0];this.init(n.location.length);if(n!=null){for(var i=0;i<this.location.length;i++){this.location[i]=n.location[i]}}}else if(typeof arguments[0]==="number"){var t=arguments[0];this.init(1);this.location[jsts.geomgraph.Position.ON]=t}else if(arguments[0]instanceof Array){var o=arguments[0];this.init(o.length)}};jsts.geomgraph.TopologyLocation.prototype.location=null;jsts.geomgraph.TopologyLocation.prototype.init=function(t){this.location[t-1]=null;this.setAllLocations(jsts.geom.Location.NONE)};jsts.geomgraph.TopologyLocation.prototype.get=function(t){if(t<this.location.length)return this.location[t];return jsts.geom.Location.NONE};jsts.geomgraph.TopologyLocation.prototype.isNull=function(){for(var t=0;t<this.location.length;t++){if(this.location[t]!==jsts.geom.Location.NONE)return false}return true};jsts.geomgraph.TopologyLocation.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++){if(this.location[t]===jsts.geom.Location.NONE)return true}return false};jsts.geomgraph.TopologyLocation.prototype.isEqualOnSide=function(t,e){return this.location[e]==t.location[e]};jsts.geomgraph.TopologyLocation.prototype.isArea=function(){return this.location.length>1};jsts.geomgraph.TopologyLocation.prototype.isLine=function(){return this.location.length===1};jsts.geomgraph.TopologyLocation.prototype.flip=function(){if(this.location.length<=1)return;var t=this.location[jsts.geomgraph.Position.LEFT];this.location[jsts.geomgraph.Position.LEFT]=this.location[jsts.geomgraph.Position.RIGHT];this.location[jsts.geomgraph.Position.RIGHT]=t};jsts.geomgraph.TopologyLocation.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++){this.location[e]=t}};jsts.geomgraph.TopologyLocation.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++){if(this.location[e]===jsts.geom.Location.NONE)this.location[e]=t}};jsts.geomgraph.TopologyLocation.prototype.setLocation=function(t,e){if(e!==undefined){this.location[t]=e}else{this.setLocation(jsts.geomgraph.Position.ON,t)}};jsts.geomgraph.TopologyLocation.prototype.getLocations=function(){return location};jsts.geomgraph.TopologyLocation.prototype.setLocations=function(t,e,r){this.location[jsts.geomgraph.Position.ON]=t;this.location[jsts.geomgraph.Position.LEFT]=e;this.location[jsts.geomgraph.Position.RIGHT]=r};jsts.geomgraph.TopologyLocation.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++){if(this.location[e]!==t)return false}return true};jsts.geomgraph.TopologyLocation.prototype.merge=function(t){if(t.location.length>this.location.length){var e=[];e[jsts.geomgraph.Position.ON]=this.location[jsts.geomgraph.Position.ON];e[jsts.geomgraph.Position.LEFT]=jsts.geom.Location.NONE;e[jsts.geomgraph.Position.RIGHT]=jsts.geom.Location.NONE;this.location=e}for(var r=0;r<this.location.length;r++){if(this.location[r]===jsts.geom.Location.NONE&&r<t.location.length)this.location[r]=t.location[r]}};jsts.geomgraph.Label=function(){this.elt=[];var t,e,r,n,i;if(arguments.length===4){t=arguments[0];e=arguments[1];r=arguments[2];i=arguments[3];this.elt[0]=new jsts.geomgraph.TopologyLocation(jsts.geom.Location.NONE,jsts.geom.Location.NONE,jsts.geom.Location.NONE);this.elt[1]=new jsts.geomgraph.TopologyLocation(jsts.geom.Location.NONE,jsts.geom.Location.NONE,jsts.geom.Location.NONE);this.elt[t].setLocations(e,r,i)}else if(arguments.length===3){e=arguments[0];r=arguments[1];i=arguments[2];this.elt[0]=new jsts.geomgraph.TopologyLocation(e,r,i);this.elt[1]=new jsts.geomgraph.TopologyLocation(e,r,i)}else if(arguments.length===2){t=arguments[0];e=arguments[1];this.elt[0]=new jsts.geomgraph.TopologyLocation(jsts.geom.Location.NONE);this.elt[1]=new jsts.geomgraph.TopologyLocation(jsts.geom.Location.NONE);this.elt[t].setLocation(e)}else if(arguments[0]instanceof jsts.geomgraph.Label){n=arguments[0];this.elt[0]=new jsts.geomgraph.TopologyLocation(n.elt[0]);this.elt[1]=new jsts.geomgraph.TopologyLocation(n.elt[1])}else if(typeof arguments[0]==="number"){e=arguments[0];this.elt[0]=new jsts.geomgraph.TopologyLocation(e);this.elt[1]=new jsts.geomgraph.TopologyLocation(e)}};jsts.geomgraph.Label.toLineLabel=function(t){var e,r=new jsts.geomgraph.Label(jsts.geom.Location.NONE);

for(e=0;e<2;e++){r.setLocation(e,t.getLocation(e))}return r};jsts.geomgraph.Label.prototype.elt=null;jsts.geomgraph.Label.prototype.flip=function(){this.elt[0].flip();this.elt[1].flip()};jsts.geomgraph.Label.prototype.getLocation=function(t,e){if(arguments.length==1){return this.getLocation2.apply(this,arguments)}return this.elt[t].get(e)};jsts.geomgraph.Label.prototype.getLocation2=function(t){return this.elt[t].get(jsts.geomgraph.Position.ON)};jsts.geomgraph.Label.prototype.setLocation=function(t,e,r){if(arguments.length==2){this.setLocation2.apply(this,arguments);return}this.elt[t].setLocation(e,r)};jsts.geomgraph.Label.prototype.setLocation2=function(t,e){this.elt[t].setLocation(jsts.geomgraph.Position.ON,e)};jsts.geomgraph.Label.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)};jsts.geomgraph.Label.prototype.setAllLocationsIfNull=function(t,e){if(arguments.length==1){this.setAllLocationsIfNull2.apply(this,arguments);return}this.elt[t].setAllLocationsIfNull(e)};jsts.geomgraph.Label.prototype.setAllLocationsIfNull2=function(t){this.setAllLocationsIfNull(0,t);this.setAllLocationsIfNull(1,t)};jsts.geomgraph.Label.prototype.merge=function(t){var e;for(e=0;e<2;e++){if(this.elt[e]===null&&t.elt[e]!==null){this.elt[e]=new jsts.geomgraph.TopologyLocation(t.elt[e])}else{this.elt[e].merge(t.elt[e])}}};jsts.geomgraph.Label.prototype.getGeometryCount=function(){var t=0;if(!this.elt[0].isNull()){t++}if(!this.elt[1].isNull()){t++}return t};jsts.geomgraph.Label.prototype.isNull=function(t){return this.elt[t].isNull()};jsts.geomgraph.Label.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()};jsts.geomgraph.Label.prototype.isArea=function(){if(arguments.length==1){return this.isArea2(arguments[0])}return this.elt[0].isArea()||this.elt[1].isArea()};jsts.geomgraph.Label.prototype.isArea2=function(t){return this.elt[t].isArea()};jsts.geomgraph.Label.prototype.isLine=function(t){return this.elt[t].isLine()};jsts.geomgraph.Label.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)};jsts.geomgraph.Label.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)};jsts.geomgraph.Label.prototype.toLine=function(t){if(this.elt[t].isArea()){this.elt[t]=new jsts.geomgraph.TopologyLocation(this.elt[t].location[0])}};jsts.geomgraph.EdgeRing=function(t,e){this.edges=[];this.pts=[];this.holes=[];this.label=new jsts.geomgraph.Label(jsts.geom.Location.NONE);this.geometryFactory=e;if(t){this.computePoints(t);this.computeRing()}};jsts.geomgraph.EdgeRing.prototype.startDe=null;jsts.geomgraph.EdgeRing.prototype.maxNodeDegree=-1;jsts.geomgraph.EdgeRing.prototype.edges=null;jsts.geomgraph.EdgeRing.prototype.pts=null;jsts.geomgraph.EdgeRing.prototype.label=null;jsts.geomgraph.EdgeRing.prototype.ring=null;jsts.geomgraph.EdgeRing.prototype._isHole=null;jsts.geomgraph.EdgeRing.prototype.shell=null;jsts.geomgraph.EdgeRing.prototype.holes=null;jsts.geomgraph.EdgeRing.prototype.geometryFactory=null;jsts.geomgraph.EdgeRing.prototype.isIsolated=function(){return this.label.getGeometryCount()==1};jsts.geomgraph.EdgeRing.prototype.isHole=function(){return this._isHole};jsts.geomgraph.EdgeRing.prototype.getCoordinate=function(t){return this.pts[t]};jsts.geomgraph.EdgeRing.prototype.getLinearRing=function(){return this.ring};jsts.geomgraph.EdgeRing.prototype.getLabel=function(){return this.label};jsts.geomgraph.EdgeRing.prototype.isShell=function(){return this.shell===null};jsts.geomgraph.EdgeRing.prototype.getShell=function(){return this.shell};jsts.geomgraph.EdgeRing.prototype.setShell=function(t){this.shell=t;if(t!==null)t.addHole(this)};jsts.geomgraph.EdgeRing.prototype.addHole=function(t){this.holes.push(t)};jsts.geomgraph.EdgeRing.prototype.toPolygon=function(t){var e=[];for(var r=0;r<this.holes.length;r++){e[r]=this.holes[r].getLinearRing()}var n=this.geometryFactory.createPolygon(this.getLinearRing(),e);return n};jsts.geomgraph.EdgeRing.prototype.computeRing=function(){if(this.ring!==null)return;var t=[];for(var e=0;e<this.pts.length;e++){t[e]=this.pts[e]}this.ring=this.geometryFactory.createLinearRing(t);this._isHole=jsts.algorithm.CGAlgorithms.isCCW(this.ring.getCoordinates())};jsts.geomgraph.EdgeRing.prototype.getNext=function(t){throw new jsts.error.AbstractInvocationError};jsts.geomgraph.EdgeRing.prototype.setEdgeRing=function(t,e){throw new jsts.error.AbstractInvocationError};jsts.geomgraph.EdgeRing.prototype.getEdges=function(){return this.edges};jsts.geomgraph.EdgeRing.prototype.computePoints=function(t){this.startDe=t;var e=t;var r=true;do{if(e===null)throw new jsts.error.TopologyError("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new jsts.error.TopologyError("Directed Edge visited twice during ring-building at "+e.getCoordinate());this.edges.push(e);var n=e.getLabel();jsts.util.Assert.isTrue(n.isArea());this.mergeLabel(n);this.addPoints(e.getEdge(),e.isForward(),r);r=false;this.setEdgeRing(e,this);e=this.getNext(e)}while(e!==this.startDe)};jsts.geomgraph.EdgeRing.prototype.getMaxNodeDegree=function(){if(this.maxNodeDegree<0)this.computeMaxNodeDegree();return this.maxNodeDegree};jsts.geomgraph.EdgeRing.prototype.computeMaxNodeDegree=function(){this.maxNodeDegree=0;var t=this.startDe;do{var e=t.getNode();var r=e.getEdges().getOutgoingDegree(this);if(r>this.maxNodeDegree)this.maxNodeDegree=r;t=this.getNext(t)}while(t!==this.startDe);this.maxNodeDegree*=2};jsts.geomgraph.EdgeRing.prototype.setInResult=function(){var t=this.startDe;do{t.getEdge().setInResult(true);t=t.getNext()}while(t!=this.startDe)};jsts.geomgraph.EdgeRing.prototype.mergeLabel=function(t){this.mergeLabel2(t,0);this.mergeLabel2(t,1)};jsts.geomgraph.EdgeRing.prototype.mergeLabel2=function(t,e){var r=t.getLocation(e,jsts.geomgraph.Position.RIGHT);if(r==jsts.geom.Location.NONE)return;if(this.label.getLocation(e)===jsts.geom.Location.NONE){this.label.setLocation(e,r);return}};jsts.geomgraph.EdgeRing.prototype.addPoints=function(t,e,r){var n=t.getCoordinates();if(e){var i=1;if(r)i=0;for(var o=i;o<n.length;o++){this.pts.push(n[o])}}else{var i=n.length-2;if(r)i=n.length-1;for(var o=i;o>=0;o--){this.pts.push(n[o])}}};jsts.geomgraph.EdgeRing.prototype.containsPoint=function(t){var e=this.getLinearRing();var r=e.getEnvelopeInternal();if(!r.contains(t))return false;if(!jsts.algorithm.CGAlgorithms.isPointInRing(t,e.getCoordinates()))return false;for(var n=0;n<this.holes.length;n++){var i=this.holes[n];if(i.containsPoint(t))return false}return true};(function(){jsts.geom.LinearRing=function(t,e){jsts.geom.LineString.apply(this,arguments)};jsts.geom.LinearRing.prototype=new jsts.geom.LineString;jsts.geom.LinearRing.constructor=jsts.geom.LinearRing;jsts.geom.LinearRing.prototype.getBoundaryDimension=function(){return jsts.geom.Dimension.FALSE};jsts.geom.LinearRing.prototype.isSimple=function(){return true};jsts.geom.LinearRing.prototype.getGeometryType=function(){return"LinearRing"};jsts.geom.LinearRing.MINIMUM_VALID_SIZE=4;jsts.geom.LinearRing.prototype.CLASS_NAME="jsts.geom.LinearRing"})();jsts.index.strtree.Boundable=function(){};jsts.index.strtree.Boundable.prototype.getBounds=function(){throw new jsts.error.AbstractMethodInvocationError};jsts.index.strtree.AbstractNode=function(t){this.level=t;this.childBoundables=[]};jsts.index.strtree.AbstractNode.prototype=new jsts.index.strtree.Boundable;jsts.index.strtree.AbstractNode.constructor=jsts.index.strtree.AbstractNode;jsts.index.strtree.AbstractNode.prototype.childBoundables=null;jsts.index.strtree.AbstractNode.prototype.bounds=null;jsts.index.strtree.AbstractNode.prototype.level=null;jsts.index.strtree.AbstractNode.prototype.getChildBoundables=function(){return this.childBoundables};jsts.index.strtree.AbstractNode.prototype.computeBounds=function(){throw new jsts.error.AbstractMethodInvocationError};jsts.index.strtree.AbstractNode.prototype.getBounds=function(){if(this.bounds===null){this.bounds=this.computeBounds()}return this.bounds};jsts.index.strtree.AbstractNode.prototype.getLevel=function(){return this.level};jsts.index.strtree.AbstractNode.prototype.addChildBoundable=function(t){this.childBoundables.push(t)};(function(){jsts.noding.Noder=function(){};jsts.noding.Noder.prototype.computeNodes=jsts.abstractFunc;jsts.noding.Noder.prototype.getNodedSubstrings=jsts.abstractFunc})();(function(){var t=jsts.noding.Noder;jsts.noding.SinglePassNoder=function(){};jsts.noding.SinglePassNoder.prototype=new t;jsts.noding.SinglePassNoder.constructor=jsts.noding.SinglePassNoder;jsts.noding.SinglePassNoder.prototype.segInt=null;jsts.noding.SinglePassNoder.prototype.setSegmentIntersector=function(t){this.segInt=t}})();jsts.index.SpatialIndex=function(){};jsts.index.SpatialIndex.prototype.insert=function(t,e){throw new jsts.error.AbstractMethodInvocationError};jsts.index.SpatialIndex.prototype.query=function(t,e){throw new jsts.error.AbstractMethodInvocationError};jsts.index.SpatialIndex.prototype.remove=function(t,e){throw new jsts.error.AbstractMethodInvocationError};jsts.index.strtree.AbstractSTRtree=function(t){if(t===undefined)return;this.itemBoundables=[];jsts.util.Assert.isTrue(t>1,"Node capacity must be greater than 1");this.nodeCapacity=t};jsts.index.strtree.AbstractSTRtree.IntersectsOp=function(){};jsts.index.strtree.AbstractSTRtree.IntersectsOp.prototype.intersects=function(t,e){throw new jsts.error.AbstractMethodInvocationError};jsts.index.strtree.AbstractSTRtree.prototype.root=null;jsts.index.strtree.AbstractSTRtree.prototype.built=false;jsts.index.strtree.AbstractSTRtree.prototype.itemBoundables=null;jsts.index.strtree.AbstractSTRtree.prototype.nodeCapacity=null;jsts.index.strtree.AbstractSTRtree.prototype.build=function(){jsts.util.Assert.isTrue(!this.built);this.root=this.itemBoundables.length===0?this.createNode(0):this.createHigherLevels(this.itemBoundables,-1);this.built=true};jsts.index.strtree.AbstractSTRtree.prototype.createNode=function(t){throw new jsts.error.AbstractMethodInvocationError};jsts.index.strtree.AbstractSTRtree.prototype.createParentBoundables=function(t,e){jsts.util.Assert.isTrue(!(t.length===0));var r=[];r.push(this.createNode(e));var n=[];for(var i=0;i<t.length;i++){n.push(t[i])}n.sort(this.getComparator());for(var i=0;i<n.length;i++){var o=n[i];if(this.lastNode(r).getChildBoundables().length===this.getNodeCapacity()){r.push(this.createNode(e))}this.lastNode(r).addChildBoundable(o)}return r};jsts.index.strtree.AbstractSTRtree.prototype.lastNode=function(t){return t[t.length-1]};jsts.index.strtree.AbstractSTRtree.prototype.compareDoubles=function(t,e){return t>e?1:t<e?-1:0};jsts.index.strtree.AbstractSTRtree.prototype.createHigherLevels=function(t,e){jsts.util.Assert.isTrue(!(t.length===0));var r=this.createParentBoundables(t,e+1);if(r.length===1){return r[0]}return this.createHigherLevels(r,e+1)};jsts.index.strtree.AbstractSTRtree.prototype.getRoot=function(){if(!this.built)this.build();return this.root};jsts.index.strtree.AbstractSTRtree.prototype.getNodeCapacity=function(){return this.nodeCapacity};jsts.index.strtree.AbstractSTRtree.prototype.size=function(){if(arguments.length===1){return this.size2(arguments[0])}if(!this.built){this.build()}if(this.itemBoundables.length===0){return 0}return this.size2(root)};jsts.index.strtree.AbstractSTRtree.prototype.size2=function(t){var e=0;var r=t.getChildBoundables();for(var n=0;n<r.length;n++){var i=r[n];if(i instanceof jsts.index.strtree.AbstractNode){e+=this.size(i)}else if(i instanceof jsts.index.strtree.ItemBoundable){e+=1}}return e};jsts.index.strtree.AbstractSTRtree.prototype.depth=function(){if(arguments.length===1){return this.depth2(arguments[0])}if(!this.built){this.build()}if(this.itemBoundables.length===0){return 0}return this.depth2(root)};jsts.index.strtree.AbstractSTRtree.prototype.depth2=function(){var t=0;var e=node.getChildBoundables();for(var r=0;r<e.length;r++){var n=e[r];if(n instanceof jsts.index.strtree.AbstractNode){var i=this.depth(n);if(i>t)t=i}}return t+1};jsts.index.strtree.AbstractSTRtree.prototype.insert=function(t,e){jsts.util.Assert.isTrue(!this.built,"Cannot insert items into an STR packed R-tree after it has been built.");this.itemBoundables.push(new jsts.index.strtree.ItemBoundable(t,e))};jsts.index.strtree.AbstractSTRtree.prototype.query=function(t){if(arguments.length>1){this.query2.apply(this,arguments)}if(!this.built){this.build()}var e=[];if(this.itemBoundables.length===0){jsts.util.Assert.isTrue(this.root.getBounds()===null);return e}if(this.getIntersectsOp().intersects(this.root.getBounds(),t)){this.query3(t,this.root,e)}return e};jsts.index.strtree.AbstractSTRtree.prototype.query2=function(t,e){if(arguments.length>2){this.query3.apply(this,arguments)}if(!this.built){this.build()}if(this.itemBoundables.length===0){jsts.util.Assert.isTrue(this.root.getBounds()===null)}if(this.getIntersectsOp().intersects(this.root.getBounds(),t)){this.query4(t,this.root,e)}};jsts.index.strtree.AbstractSTRtree.prototype.query3=function(t,e,r){if(!(arguments[2]instanceof Array)){this.query4.apply(this,arguments)}var n=e.getChildBoundables();for(var i=0;i<n.length;i++){var o=n[i];if(!this.getIntersectsOp().intersects(o.getBounds(),t)){continue}if(o instanceof jsts.index.strtree.AbstractNode){this.query3(t,o,r)}else if(o instanceof jsts.index.strtree.ItemBoundable){r.push(o.getItem())}else{jsts.util.Assert.shouldNeverReachHere()}}};jsts.index.strtree.AbstractSTRtree.prototype.query4=function(t,e,r){var n=e.getChildBoundables();for(var i=0;i<n.length;i++){var o=n[i];if(!this.getIntersectsOp().intersects(o.getBounds(),t)){continue}if(o instanceof jsts.index.strtree.AbstractNode){this.query4(t,o,r)}else if(o instanceof jsts.index.strtree.ItemBoundable){r.visitItem(o.getItem())}else{jsts.util.Assert.shouldNeverReachHere()}}};jsts.index.strtree.AbstractSTRtree.prototype.getIntersectsOp=function(){throw new jsts.error.AbstractMethodInvocationError};jsts.index.strtree.AbstractSTRtree.prototype.itemsTree=function(){if(arguments.length===1){return this.itemsTree2.apply(this,arguments)}if(!this.built){this.build()}var t=this.itemsTree2(this.root);if(t===null)return[];return t};jsts.index.strtree.AbstractSTRtree.prototype.itemsTree2=function(t){var e=[];var r=t.getChildBoundables();for(var n=0;n<r.length;n++){var i=r[n];if(i instanceof jsts.index.strtree.AbstractNode){var o=this.itemsTree(i);if(o!=null)e.push(o)}else if(i instanceof jsts.index.strtree.ItemBoundable){e.push(i.getItem())}else{jsts.util.Assert.shouldNeverReachHere()}}if(e.length<=0)return null;return e};jsts.index.strtree.AbstractSTRtree.prototype.remove=function(t,e){if(!this.built){this.build()}if(this.itemBoundables.length===0){jsts.util.Assert.isTrue(this.root.getBounds()==null)}if(this.getIntersectsOp().intersects(this.root.getBounds(),t)){return this.remove2(t,this.root,e)}return false};jsts.index.strtree.AbstractSTRtree.prototype.remove2=function(t,e,r){var n=this.removeItem(e,r);if(n)return true;var i=null;var o=e.getChildBoundables();for(var s=0;s<o.length;s++){var a=o[s];if(!this.getIntersectsOp().intersects(a.getBounds(),t)){continue}if(a instanceof jsts.index.strtree.AbstractNode){n=this.remove(t,a,r);if(n){i=a;break}}}if(i!=null){if(i.getChildBoundables().length===0){o.splice(o.indexOf(i),1)}}return n};jsts.index.strtree.AbstractSTRtree.prototype.removeItem=function(t,e){var r=null;var n=t.getChildBoundables();for(var i=0;i<n.length;i++){var o=n[i];if(o instanceof jsts.index.strtree.ItemBoundable){if(o.getItem()===e)r=o}}if(r!==null){n.splice(n.indexOf(r),1);return true}return false};jsts.index.strtree.AbstractSTRtree.prototype.boundablesAtLevel=function(t){if(arguments.length>1){this.boundablesAtLevel2.apply(this,arguments);return}var e=[];this.boundablesAtLevel2(t,this.root,e);return e};jsts.index.strtree.AbstractSTRtree.prototype.boundablesAtLevel2=function(t,e,r){jsts.util.Assert.isTrue(t>-2);if(e.getLevel()===t){r.add(e);return}var n=node.getChildBoundables();for(var i=0;i<n.length;i++){var o=n[i];if(o instanceof jsts.index.strtree.AbstractNode){this.boundablesAtLevel(t,o,r)}else{jsts.util.Assert.isTrue(o instanceof jsts.index.strtree.ItemBoundable);if(t===-1){r.add(o)}}}return};jsts.index.strtree.AbstractSTRtree.prototype.getComparator=function(){throw new jsts.error.AbstractMethodInvocationError};jsts.index.strtree.STRtree=function(t){t=t||jsts.index.strtree.STRtree.DEFAULT_NODE_CAPACITY;jsts.index.strtree.AbstractSTRtree.call(this,t)};jsts.index.strtree.STRtree.prototype=new jsts.index.strtree.AbstractSTRtree;jsts.index.strtree.STRtree.constructor=jsts.index.strtree.STRtree;jsts.index.strtree.STRtree.prototype.xComparator=function(t,e){return jsts.index.strtree.AbstractSTRtree.prototype.compareDoubles(jsts.index.strtree.STRtree.prototype.centreX(t.getBounds()),jsts.index.strtree.STRtree.prototype.centreX(e.getBounds()))};jsts.index.strtree.STRtree.prototype.yComparator=function(t,e){return jsts.index.strtree.AbstractSTRtree.prototype.compareDoubles(jsts.index.strtree.STRtree.prototype.centreY(t.getBounds()),jsts.index.strtree.STRtree.prototype.centreY(e.getBounds()))};jsts.index.strtree.STRtree.prototype.centreX=function(t){return jsts.index.strtree.STRtree.prototype.avg(t.getMinX(),t.getMaxX())};jsts.index.strtree.STRtree.prototype.centreY=function(t){return jsts.index.strtree.STRtree.prototype.avg(t.getMinY(),t.getMaxY())};jsts.index.strtree.STRtree.prototype.avg=function(t,e){return(t+e)/2};jsts.index.strtree.STRtree.prototype.intersectsOp={intersects:function(t,e){return t.intersects(e)}};jsts.index.strtree.STRtree.prototype.createParentBoundables=function(t,e){jsts.util.Assert.isTrue(!(t.length===0));var r=Math.ceil(t.length/this.getNodeCapacity());var n=[];for(var i=0;i<t.length;i++){n.push(t[i])}n.sort(this.xComparator);var o=this.verticalSlices(n,Math.ceil(Math.sqrt(r)));return this.createParentBoundablesFromVerticalSlices(o,e)};jsts.index.strtree.STRtree.prototype.createParentBoundablesFromVerticalSlices=function(t,e){jsts.util.Assert.isTrue(t.length>0);var r=[];for(var n=0;n<t.length;n++){r=r.concat(this.createParentBoundablesFromVerticalSlice(t[n],e))}return r};jsts.index.strtree.STRtree.prototype.createParentBoundablesFromVerticalSlice=function(t,e){return jsts.index.strtree.AbstractSTRtree.prototype.createParentBoundables.call(this,t,e)};jsts.index.strtree.STRtree.prototype.verticalSlices=function(t,e){var r=Math.ceil(t.length/e);var n=[];var i=0,o,s;for(var a=0;a<e;a++){n[a]=[];o=0;while(i<t.length&&o<r){s=t[i++];n[a].push(s);o++}}return n};jsts.index.strtree.STRtree.DEFAULT_NODE_CAPACITY=10;jsts.index.strtree.STRtree.prototype.createNode=function(t){var e=new jsts.index.strtree.AbstractNode(t);e.computeBounds=function(){var t=null;var e=this.getChildBoundables();for(var r=0;r<e.length;r++){var n=e[r];if(t===null){t=new jsts.geom.Envelope(n.getBounds())}else{t.expandToInclude(n.getBounds())}}return t};return e};jsts.index.strtree.STRtree.prototype.getIntersectsOp=function(){return this.intersectsOp};jsts.index.strtree.STRtree.prototype.insert=function(t,e){if(t.isNull()){return}jsts.index.strtree.AbstractSTRtree.prototype.insert.call(this,t,e)};jsts.index.strtree.STRtree.prototype.query=function(t,e){return jsts.index.strtree.AbstractSTRtree.prototype.query.apply(this,arguments)};jsts.index.strtree.STRtree.prototype.remove=function(t,e){return jsts.index.strtree.AbstractSTRtree.prototype.remove.call(this,t,e)};jsts.index.strtree.STRtree.prototype.size=function(){return jsts.index.strtree.AbstractSTRtree.prototype.size.call(this)};jsts.index.strtree.STRtree.prototype.depth=function(){return jsts.index.strtree.AbstractSTRtree.prototype.depth.call(this)};jsts.index.strtree.STRtree.prototype.getComparator=function(){return this.yComparator};jsts.index.strtree.STRtree.prototype.nearestNeighbour=function(t){var e=new jsts.index.strtree.BoundablePair(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour4(e)};jsts.index.strtree.STRtree.prototype.nearestNeighbour2=function(t,e,r){var n=new jsts.index.strtree.ItemBoundable(t,e);var i=new jsts.index.strtree.BoundablePair(this.getRoot(),n,r);return this.nearestNeighbour4(i)[0]};jsts.index.strtree.STRtree.prototype.nearestNeighbour3=function(t,e){var r=new jsts.index.strtree.BoundablePair(this.getRoot(),t.getRoot(),e);return this.nearestNeighbour4(r)};jsts.index.strtree.STRtree.prototype.nearestNeighbour4=function(t){return this.nearestNeighbour5(t,Double.POSITIVE_INFINITY)};jsts.index.strtree.STRtree.prototype.nearestNeighbour5=function(t,e){var r=e;var n=null;var i=[];i.push(t);while(!i.isEmpty()&&r>0){var o=i.pop();var s=o.getDistance();if(s>=r)break;if(o.isLeaves()){r=s;n=o}else{o.expandToQueue(i,r)}}return[n.getBoundable(0).getItem(),n.getBoundable(1).getItem()]};jsts.noding.SegmentString=function(){};jsts.noding.SegmentString.prototype.getData=jsts.abstractFunc;jsts.noding.SegmentString.prototype.setData=jsts.abstractFunc;jsts.noding.SegmentString.prototype.size=jsts.abstractFunc;jsts.noding.SegmentString.prototype.getCoordinate=jsts.abstractFunc;jsts.noding.SegmentString.prototype.getCoordinates=jsts.abstractFunc;jsts.noding.SegmentString.prototype.isClosed=jsts.abstractFunc;jsts.noding.NodableSegmentString=function(){};jsts.noding.NodableSegmentString.prototype=new jsts.noding.SegmentString;jsts.noding.NodableSegmentString.prototype.addIntersection=jsts.abstractFunc;jsts.noding.NodedSegmentString=function(t,e){this.nodeList=new jsts.noding.SegmentNodeList(this);this.pts=t;this.data=e};jsts.noding.NodedSegmentString.prototype=new jsts.noding.NodableSegmentString;jsts.noding.NodedSegmentString.constructor=jsts.noding.NodedSegmentString;jsts.noding.NodedSegmentString.getNodedSubstrings=function(t){if(arguments.length===2){jsts.noding.NodedSegmentString.getNodedSubstrings2.apply(this,arguments);return}var e=new javascript.util.ArrayList;jsts.noding.NodedSegmentString.getNodedSubstrings2(t,e);return e};jsts.noding.NodedSegmentString.getNodedSubstrings2=function(t,e){for(var r=t.iterator();r.hasNext();){var n=r.next();n.getNodeList().addSplitEdges(e)}};jsts.noding.NodedSegmentString.prototype.nodeList=null;jsts.noding.NodedSegmentString.prototype.pts=null;jsts.noding.NodedSegmentString.prototype.data=null;jsts.noding.NodedSegmentString.prototype.getData=function(){return this.data};jsts.noding.NodedSegmentString.prototype.setData=function(t){this.data=t};jsts.noding.NodedSegmentString.prototype.getNodeList=function(){return this.nodeList};jsts.noding.NodedSegmentString.prototype.size=function(){return this.pts.length};jsts.noding.NodedSegmentString.prototype.getCoordinate=function(t){return this.pts[t]};jsts.noding.NodedSegmentString.prototype.getCoordinates=function(){return this.pts};jsts.noding.NodedSegmentString.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])};jsts.noding.NodedSegmentString.prototype.getSegmentOctant=function(t){if(t===this.pts.length-1)return-1;return this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))};jsts.noding.NodedSegmentString.prototype.safeOctant=function(t,e){if(t.equals2D(e))return 0;return jsts.noding.Octant.octant(t,e)};jsts.noding.NodedSegmentString.prototype.addIntersections=function(t,e,r){for(var n=0;n<t.getIntersectionNum();n++){this.addIntersection(t,e,r,n)}};jsts.noding.NodedSegmentString.prototype.addIntersection=function(t,e,r,n){if(t instanceof jsts.geom.Coordinate){this.addIntersection2.apply(this,arguments);return}var i=new jsts.geom.Coordinate(t.getIntersection(n));this.addIntersection2(i,e)};jsts.noding.NodedSegmentString.prototype.addIntersection2=function(t,e){this.addIntersectionNode(t,e)};jsts.noding.NodedSegmentString.prototype.addIntersectionNode=function(t,e){var r=e;var n=r+1;if(n<this.pts.length){var i=this.pts[n];if(t.equals2D(i)){r=n}}var o=this.nodeList.add(t,r);return o};jsts.noding.NodedSegmentString.prototype.toString=function(){var t=new jsts.geom.GeometryFactory;return(new jsts.io.WKTWriter).write(t.createLineString(this.pts))};jsts.index.chain.MonotoneChainBuilder=function(){};jsts.index.chain.MonotoneChainBuilder.toIntArray=function(t){var e=[];for(var r=0;r<t.length;r++){e[r]=t[r]}return e};jsts.index.chain.MonotoneChainBuilder.getChains=function(t){if(arguments.length===2){return jsts.index.chain.MonotoneChainBuilder.getChains2.apply(this,arguments)}return jsts.index.chain.MonotoneChainBuilder.getChains2(t,null)};jsts.index.chain.MonotoneChainBuilder.getChains2=function(t,e){var r=[];var n=jsts.index.chain.MonotoneChainBuilder.getChainStartIndices(t);for(var i=0;i<n.length-1;i++){var o=new jsts.index.chain.MonotoneChain(t,n[i],n[i+1],e);r.push(o)}return r};jsts.index.chain.MonotoneChainBuilder.getChainStartIndices=function(t){var e=0;var r=[];r.push(e);do{var n=jsts.index.chain.MonotoneChainBuilder.findChainEnd(t,e);r.push(n);e=n}while(e<t.length-1);var i=jsts.index.chain.MonotoneChainBuilder.toIntArray(r);return i};jsts.index.chain.MonotoneChainBuilder.findChainEnd=function(t,e){var r=e;while(r<t.length-1&&t[r].equals2D(t[r+1])){r++}if(r>=t.length-1){return t.length-1}var n=jsts.geomgraph.Quadrant.quadrant(t[r],t[r+1]);var i=e+1;while(i<t.length){if(!t[i-1].equals2D(t[i])){var o=jsts.geomgraph.Quadrant.quadrant(t[i-1],t[i]);if(o!==n)break}i++}return i-1};jsts.algorithm.LineIntersector=function(){this.inputLines=[[],[]];this.intPt=[null,null];this.pa=this.intPt[0];this.pb=this.intPt[1];this.result=jsts.algorithm.LineIntersector.NO_INTERSECTION};jsts.algorithm.LineIntersector.NO_INTERSECTION=0;jsts.algorithm.LineIntersector.POINT_INTERSECTION=1;jsts.algorithm.LineIntersector.COLLINEAR_INTERSECTION=2;jsts.algorithm.LineIntersector.prototype.setPrecisionModel=function(t){this.precisionModel=t};jsts.algorithm.LineIntersector.prototype.getEndpoint=function(t,e){return this.inputLines[t][e]};jsts.algorithm.LineIntersector.computeEdgeDistance=function(t,e,r){var n=Math.abs(r.x-e.x);var i=Math.abs(r.y-e.y);var o=-1;if(t.equals(e)){o=0}else if(t.equals(r)){if(n>i){o=n}else{o=i}}else{var s=Math.abs(t.x-e.x);var a=Math.abs(t.y-e.y);if(n>i){o=s}else{o=a}if(o===0&&!t.equals(e)){o=Math.max(s,a)}}if(o===0&&!t.equals(e)){throw new jsts.error.IllegalArgumentError("Bad distance calculation")}return o};jsts.algorithm.LineIntersector.nonRobustComputeEdgeDistance=function(t,e,r){var n=t.x-e.x;var i=t.y-e.y;var o=Math.sqrt(n*n+i*i);if(!(o===0&&!t.equals(e))){throw new jsts.error.IllegalArgumentError("Invalid distance calculation")}return o};jsts.algorithm.LineIntersector.prototype.result=null;jsts.algorithm.LineIntersector.prototype.inputLines=null;jsts.algorithm.LineIntersector.prototype.intPt=null;jsts.algorithm.LineIntersector.prototype.intLineIndex=null;jsts.algorithm.LineIntersector.prototype._isProper=null;jsts.algorithm.LineIntersector.prototype.pa=null;jsts.algorithm.LineIntersector.prototype.pb=null;jsts.algorithm.LineIntersector.prototype.precisionModel=null;jsts.algorithm.LineIntersector.prototype.computeIntersection=function(t,e,r){throw new jsts.error.AbstractMethodInvocationError};jsts.algorithm.LineIntersector.prototype.isCollinear=function(){return this.result===jsts.algorithm.LineIntersector.COLLINEAR_INTERSECTION};jsts.algorithm.LineIntersector.prototype.computeIntersection=function(t,e,r,n){this.inputLines[0][0]=t;this.inputLines[0][1]=e;this.inputLines[1][0]=r;this.inputLines[1][1]=n;this.result=this.computeIntersect(t,e,r,n)};jsts.algorithm.LineIntersector.prototype.computeIntersect=function(t,e,r,n){throw new jsts.error.AbstractMethodInvocationError};jsts.algorithm.LineIntersector.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper};jsts.algorithm.LineIntersector.prototype.hasIntersection=function(){return this.result!==jsts.algorithm.LineIntersector.NO_INTERSECTION};jsts.algorithm.LineIntersector.prototype.getIntersectionNum=function(){return this.result};jsts.algorithm.LineIntersector.prototype.getIntersection=function(t){return this.intPt[t]};jsts.algorithm.LineIntersector.prototype.computeIntLineIndex=function(){if(this.intLineIndex===null){this.intLineIndex=[[],[]];this.computeIntLineIndex(0);this.computeIntLineIndex(1)}};jsts.algorithm.LineIntersector.prototype.isIntersection=function(t){var e;for(e=0;e<this.result;e++){if(this.intPt[e].equals2D(t)){return true}}return false};jsts.algorithm.LineIntersector.prototype.isInteriorIntersection=function(){if(arguments.length===1){return this.isInteriorIntersection2.apply(this,arguments)}if(this.isInteriorIntersection(0)){return true}if(this.isInteriorIntersection(1)){return true}return false};jsts.algorithm.LineIntersector.prototype.isInteriorIntersection2=function(t){var e;for(e=0;e<this.result;e++){if(!(this.intPt[e].equals2D(this.inputLines[t][0])||this.intPt[e].equals2D(this.inputLines[t][1]))){return true}}return false};jsts.algorithm.LineIntersector.prototype.isProper=function(){return this.hasIntersection()&&this._isProper};jsts.algorithm.LineIntersector.prototype.getIntersectionAlongSegment=function(t,e){this.computeIntLineIndex();return this.intPt[intLineIndex[t][e]]};jsts.algorithm.LineIntersector.prototype.getIndexAlongSegment=function(t,e){this.computeIntLineIndex();return this.intLineIndex[t][e]};jsts.algorithm.LineIntersector.prototype.computeIntLineIndex=function(t){var e=this.getEdgeDistance(t,0);var r=this.getEdgeDistance(t,1);if(e>r){this.intLineIndex[t][0]=0;this.intLineIndex[t][1]=1}else{this.intLineIndex[t][0]=1;this.intLineIndex[t][1]=0}};jsts.algorithm.LineIntersector.prototype.getEdgeDistance=function(t,e){var r=jsts.algorithm.LineIntersector.computeEdgeDistance(this.intPt[e],this.inputLines[t][0],this.inputLines[t][1]);return r};jsts.algorithm.RobustLineIntersector=function(){jsts.algorithm.RobustLineIntersector.prototype.constructor.call(this)};jsts.algorithm.RobustLineIntersector.prototype=new jsts.algorithm.LineIntersector;jsts.algorithm.RobustLineIntersector.prototype.computeIntersection=function(t,e,r){if(arguments.length===4){jsts.algorithm.LineIntersector.prototype.computeIntersection.apply(this,arguments);return}this._isProper=false;if(jsts.geom.Envelope.intersects(e,r,t)){if(jsts.algorithm.CGAlgorithms.orientationIndex(e,r,t)===0&&jsts.algorithm.CGAlgorithms.orientationIndex(r,e,t)===0){this._isProper=true;if(t.equals(e)||t.equals(r)){this._isProper=false}this.result=jsts.algorithm.LineIntersector.POINT_INTERSECTION;return}}this.result=jsts.algorithm.LineIntersector.NO_INTERSECTION};jsts.algorithm.RobustLineIntersector.prototype.computeIntersect=function(t,e,r,n){this._isProper=false;if(!jsts.geom.Envelope.intersects(t,e,r,n)){return jsts.algorithm.LineIntersector.NO_INTERSECTION}var i=jsts.algorithm.CGAlgorithms.orientationIndex(t,e,r);var o=jsts.algorithm.CGAlgorithms.orientationIndex(t,e,n);if(i>0&&o>0||i<0&&o<0){return jsts.algorithm.LineIntersector.NO_INTERSECTION}var s=jsts.algorithm.CGAlgorithms.orientationIndex(r,n,t);var a=jsts.algorithm.CGAlgorithms.orientationIndex(r,n,e);if(s>0&&a>0||s<0&&a<0){return jsts.algorithm.LineIntersector.NO_INTERSECTION}var u=i===0&&o===0&&s===0&&a===0;if(u){return this.computeCollinearIntersection(t,e,r,n)}if(i===0||o===0||s===0||a===0){this._isProper=false;if(t.equals2D(r)||t.equals2D(n)){this.intPt[0]=t}else if(e.equals2D(r)||e.equals2D(n)){this.intPt[0]=e}else if(i===0){this.intPt[0]=new jsts.geom.Coordinate(r)}else if(o===0){this.intPt[0]=new jsts.geom.Coordinate(n)}else if(s===0){this.intPt[0]=new jsts.geom.Coordinate(t)}else if(a===0){this.intPt[0]=new jsts.geom.Coordinate(e)}}else{this._isProper=true;this.intPt[0]=this.intersection(t,e,r,n)}return jsts.algorithm.LineIntersector.POINT_INTERSECTION};jsts.algorithm.RobustLineIntersector.prototype.computeCollinearIntersection=function(t,e,r,n){var i=jsts.geom.Envelope.intersects(t,e,r);var o=jsts.geom.Envelope.intersects(t,e,n);var s=jsts.geom.Envelope.intersects(r,n,t);var a=jsts.geom.Envelope.intersects(r,n,e);if(i&&o){this.intPt[0]=r;this.intPt[1]=n;return jsts.algorithm.LineIntersector.COLLINEAR_INTERSECTION}if(s&&a){this.intPt[0]=t;this.intPt[1]=e;return jsts.algorithm.LineIntersector.COLLINEAR_INTERSECTION}if(i&&s){this.intPt[0]=r;

this.intPt[1]=t;return r.equals(t)&&!o&&!a?jsts.algorithm.LineIntersector.POINT_INTERSECTION:jsts.algorithm.LineIntersector.COLLINEAR_INTERSECTION}if(i&&a){this.intPt[0]=r;this.intPt[1]=e;return r.equals(e)&&!o&&!s?jsts.algorithm.LineIntersector.POINT_INTERSECTION:jsts.algorithm.LineIntersector.COLLINEAR_INTERSECTION}if(o&&s){this.intPt[0]=n;this.intPt[1]=t;return n.equals(t)&&!i&&!a?jsts.algorithm.LineIntersector.POINT_INTERSECTION:jsts.algorithm.LineIntersector.COLLINEAR_INTERSECTION}if(o&&a){this.intPt[0]=n;this.intPt[1]=e;return n.equals(e)&&!i&&!s?jsts.algorithm.LineIntersector.POINT_INTERSECTION:jsts.algorithm.LineIntersector.COLLINEAR_INTERSECTION}return jsts.algorithm.LineIntersector.NO_INTERSECTION};jsts.algorithm.RobustLineIntersector.prototype.intersection=function(t,e,r,n){var i=this.intersectionWithNormalization(t,e,r,n);if(!this.isInSegmentEnvelopes(i)){i=jsts.algorithm.CentralEndpointIntersector.getIntersection(t,e,r,n)}if(this.precisionModel!==null){this.precisionModel.makePrecise(i)}return i};jsts.algorithm.RobustLineIntersector.prototype.intersectionWithNormalization=function(t,e,r,n){var i=new jsts.geom.Coordinate(t);var o=new jsts.geom.Coordinate(e);var s=new jsts.geom.Coordinate(r);var a=new jsts.geom.Coordinate(n);var u=new jsts.geom.Coordinate;this.normalizeToEnvCentre(i,o,s,a,u);var p=this.safeHCoordinateIntersection(i,o,s,a);p.x+=u.x;p.y+=u.y;return p};jsts.algorithm.RobustLineIntersector.prototype.safeHCoordinateIntersection=function(t,e,r,n){var i=null;try{i=jsts.algorithm.HCoordinate.intersection(t,e,r,n)}catch(o){if(o instanceof jsts.error.NotRepresentableError){i=jsts.algorithm.CentralEndpointIntersector.getIntersection(t,e,r,n)}else{throw o}}return i};jsts.algorithm.RobustLineIntersector.prototype.normalizeToMinimum=function(t,e,r,n,i){i.x=this.smallestInAbsValue(t.x,e.x,r.x,n.x);i.y=this.smallestInAbsValue(t.y,e.y,r.y,n.y);t.x-=i.x;t.y-=i.y;e.x-=i.x;e.y-=i.y;r.x-=i.x;r.y-=i.y;n.x-=i.x;n.y-=i.y};jsts.algorithm.RobustLineIntersector.prototype.normalizeToEnvCentre=function(t,e,r,n,i){var o=t.x<e.x?t.x:e.x;var s=t.y<e.y?t.y:e.y;var a=t.x>e.x?t.x:e.x;var u=t.y>e.y?t.y:e.y;var p=r.x<n.x?r.x:n.x;var l=r.y<n.y?r.y:n.y;var g=r.x>n.x?r.x:n.x;var h=r.y>n.y?r.y:n.y;var f=o>p?o:p;var c=a<g?a:g;var d=s>l?s:l;var m=u<h?u:h;var y=(f+c)/2;var v=(d+m)/2;i.x=y;i.y=v;t.x-=i.x;t.y-=i.y;e.x-=i.x;e.y-=i.y;r.x-=i.x;r.y-=i.y;n.x-=i.x;n.y-=i.y};jsts.algorithm.RobustLineIntersector.prototype.smallestInAbsValue=function(t,e,r,n){var i=t;var o=Math.abs(i);if(Math.abs(e)<o){i=e;o=Math.abs(e)}if(Math.abs(r)<o){i=r;o=Math.abs(r)}if(Math.abs(n)<o){i=n}return i};jsts.algorithm.RobustLineIntersector.prototype.isInSegmentEnvelopes=function(t){var e=new jsts.geom.Envelope(this.inputLines[0][0],this.inputLines[0][1]);var r=new jsts.geom.Envelope(this.inputLines[1][0],this.inputLines[1][1]);return e.contains(t)&&r.contains(t)};jsts.algorithm.HCoordinate=function(){this.x=0;this.y=0;this.w=1;if(arguments.length===1){this.initFrom1Coordinate(arguments[0])}else if(arguments.length===2&&arguments[0]instanceof jsts.geom.Coordinate){this.initFrom2Coordinates(arguments[0],arguments[1])}else if(arguments.length===2&&arguments[0]instanceof jsts.algorithm.HCoordinate){this.initFrom2HCoordinates(arguments[0],arguments[1])}else if(arguments.length===2){this.initFromXY(arguments[0],arguments[1])}else if(arguments.length===3){this.initFromXYW(arguments[0],arguments[1],arguments[2])}else if(arguments.length===4){this.initFromXYW(arguments[0],arguments[1],arguments[2],arguments[3])}};jsts.algorithm.HCoordinate.intersection=function(t,e,r,n){var i,o,s,a,u,p,l,g,h,f,c;i=t.y-e.y;o=e.x-t.x;s=t.x*e.y-e.x*t.y;a=r.y-n.y;u=n.x-r.x;p=r.x*n.y-n.x*r.y;l=o*p-u*s;g=a*s-i*p;h=i*u-a*o;f=l/h;c=g/h;if(!isFinite(f)||!isFinite(c)){throw new jsts.error.NotRepresentableError}return new jsts.geom.Coordinate(f,c)};jsts.algorithm.HCoordinate.prototype.initFrom1Coordinate=function(t){this.x=t.x;this.y=t.y;this.w=1};jsts.algorithm.HCoordinate.prototype.initFrom2Coordinates=function(t,e){this.x=t.y-e.y;this.y=e.x-t.x;this.w=t.x*e.y-e.x*t.y};jsts.algorithm.HCoordinate.prototype.initFrom2HCoordinates=function(t,e){this.x=t.y*e.w-e.y*t.w;this.y=e.x*t.w-t.x*e.w;this.w=t.x*e.y-e.x*t.y};jsts.algorithm.HCoordinate.prototype.initFromXYW=function(t,e,r){this.x=t;this.y=e;this.w=r};jsts.algorithm.HCoordinate.prototype.initFromXY=function(t,e){this.x=t;this.y=e;this.w=1};jsts.algorithm.HCoordinate.prototype.initFrom4Coordinates=function(t,e,r,n){var i,o,s,a,u,p;i=t.y-e.y;o=e.x-t.x;s=t.x*e.y-e.x*t.y;a=r.y-n.y;u=n.x-r.x;p=r.x*n.y-n.x*r.y;this.x=o*p-u*s;this.y=a*s-i*p;this.w=i*u-a*o};jsts.algorithm.HCoordinate.prototype.getX=function(){var t=this.x/this.w;if(!isFinite(t)){throw new jsts.error.NotRepresentableError}return t};jsts.algorithm.HCoordinate.prototype.getY=function(){var t=this.y/this.w;if(!isFinite(t)){throw new jsts.error.NotRepresentableError}return t};jsts.algorithm.HCoordinate.prototype.getCoordinate=function(){var t=new jsts.geom.Coordinate;t.x=this.getX();t.y=this.getY();return t};jsts.geom.LineSegment=function(){if(arguments.length===0){this.p0=new jsts.geom.Coordinate;this.p1=new jsts.geom.Coordinate}else if(arguments.length===1){this.p0=arguments[0].p0;this.p1=arguments[0].p1}else if(arguments.length===2){this.p0=arguments[0];this.p1=arguments[1]}else if(arguments.length===4){this.p0=new jsts.geom.Coordinate(arguments[0],arguments[1]);this.p1=new jsts.geom.Coordinate(arguments[2],arguments[3])}};jsts.geom.LineSegment.prototype.p0=null;jsts.geom.LineSegment.prototype.p1=null;jsts.geom.LineSegment.midPoint=function(t,e){return new jsts.geom.Coordinate((t.x+e.x)/2,(t.y+e.y)/2)};jsts.geom.LineSegment.prototype.getCoordinate=function(t){if(t===0)return this.p0;return this.p1};jsts.geom.LineSegment.prototype.getLength=function(){return this.p0.distance(this.p1)};jsts.geom.LineSegment.prototype.isHorizontal=function(){return this.p0.y===this.p1.y};jsts.geom.LineSegment.prototype.isVertical=function(){return this.p0.x===this.p1.x};jsts.geom.LineSegment.prototype.orientationIndex=function(t){if(t instanceof jsts.geom.LineSegment){return this.orientationIndex1(t)}else if(t instanceof jsts.geom.Coordinate){return this.orientationIndex2(t)}};jsts.geom.LineSegment.prototype.orientationIndex1=function(t){var e=jsts.algorithm.CGAlgorithms.orientationIndex(this.p0,this.p1,t.p0);var r=jsts.algorithm.CGAlgorithms.orientationIndex(this.p0,this.p1,t.p1);if(e>=0&&r>=0){return Math.max(e,r)}if(e<=0&&r<=0){return Math.max(e,r)}return 0};jsts.geom.LineSegment.prototype.orientationIndex2=function(t){return jsts.algorithm.CGAlgorithms.orientationIndex(this.p0,this.p1,t)};jsts.geom.LineSegment.prototype.reverse=function(){var t=this.p0;this.p0=this.p1;this.p1=t};jsts.geom.LineSegment.prototype.normalize=function(){if(this.p1.compareTo(this.p0)<0)this.reverse()};jsts.geom.LineSegment.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)};jsts.geom.LineSegment.prototype.midPoint=function(){return jsts.geom.LineSegment.midPoint(this.p0,this.p1)};jsts.geom.LineSegment.prototype.distance=function(t){if(t instanceof jsts.geom.LineSegment){return this.distance1(t)}else if(t instanceof jsts.geom.Coordinate){return this.distance2(t)}};jsts.geom.LineSegment.prototype.distance1=function(t){return jsts.algorithm.CGAlgorithms.distanceLineLine(this.p0,this.p1,t.p0,t.p1)};jsts.geom.LineSegment.prototype.distance2=function(t){return jsts.algorithm.CGAlgorithms.distancePointLine(t,this.p0,this.p1)};jsts.geom.LineSegment.prototype.pointAlong=function(t){var e=new jsts.geom.Coordinate;e.x=this.p0.x+t*(this.p1.x-this.p0.x);e.y=this.p0.y+t*(this.p1.y-this.p0.y);return e};jsts.geom.LineSegment.prototype.pointAlongOffset=function(t,e){var r=this.p0.x+t*(this.p1.x-this.p0.x);var n=this.p0.y+t*(this.p1.y-this.p0.y);var i=this.p1.x-this.p0.x;var o=this.p1.y-this.p0.y;var s=Math.sqrt(i*i+o*o);var a=0;var u=0;if(e!==0){if(s<=0){throw"Cannot compute offset from zero-length line segment"}a=e*i/s;u=e*o/s}var p=r-u;var l=n+a;var g=new jsts.geom.Coordinate(p,l);return g};jsts.geom.LineSegment.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x;var r=this.p1.y-this.p0.y;var n=e*e+r*r;var i=((t.x-this.p0.x)*e+(t.y-this.p0.y)*r)/n;return i};jsts.geom.LineSegment.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);if(e<0){e=0}else if(e>1||isNaN(e)){e=1}return e};jsts.geom.LineSegment.prototype.project=function(t){if(t instanceof jsts.geom.Coordinate){return this.project1(t)}else if(t instanceof jsts.geom.LineSegment){return this.project2(t)}};jsts.geom.LineSegment.prototype.project1=function(t){if(t.equals(this.p0)||t.equals(this.p1)){return new jsts.geom.Coordinate(t)}var e=this.projectionFactor(t);var r=new jsts.geom.Coordinate;r.x=this.p0.x+e*(this.p1.x-this.p0.x);r.y=this.p0.y+e*(this.p1.y-this.p0.y);return r};jsts.geom.LineSegment.prototype.project2=function(t){var e=this.projectionFactor(t.p0);var r=this.projectionFactor(t.p1);if(e>=1&&r>=1)return null;if(e<=0&&r<=0)return null;var n=this.project(t.p0);if(e<0)n=p0;if(e>1)n=p1;var i=this.project(t.p1);if(r<0)i=p0;if(r>1)i=p1;return new jsts.geom.LineSegment(n,i)};jsts.geom.LineSegment.prototype.closestPoint=function(t){var e=this.projectionFactor(t);if(e>0&&e<1){return this.project(t)}var r=this.p0.distance(t);var n=this.p1.distance(t);if(r<n)return this.p0;return this.p1};jsts.geom.LineSegment.prototype.closestPoints=function(t){var e=this.intersection(t);if(e!==null){return[e,e]}var r=[];var n=Number.MAX_VALUE;var i;var o=this.closestPoint(t.p0);n=o.distance(t.p0);r[0]=o;r[1]=t.p0;var s=this.closestPoint(t.p1);i=s.distance(t.p1);if(i<n){n=i;r[0]=s;r[1]=t.p1}var a=t.closestPoint(this.p0);i=a.distance(this.p0);if(i<n){n=i;r[0]=this.p0;r[1]=a}var u=t.closestPoint(this.p1);i=u.distance(this.p1);if(i<n){n=i;r[0]=this.p1;r[1]=u}return r};jsts.geom.LineSegment.prototype.intersection=function(t){var e=new jsts.algorithm.RobustLineIntersector;e.computeIntersection(this.p0,this.p1,t.p0,t.p1);if(e.hasIntersection())return e.getIntersection(0);return null};jsts.geom.LineSegment.prototype.setCoordinates=function(t){if(t instanceof jsts.geom.Coordinate){this.setCoordinates2.apply(this,arguments);return}this.setCoordinates2(t.p0,t.p1)};jsts.geom.LineSegment.prototype.setCoordinates2=function(t,e){this.p0.x=t.x;this.p0.y=t.y;this.p1.x=e.x;this.p1.y=e.y};jsts.geom.LineSegment.prototype.distancePerpendicular=function(t){return jsts.algorithm.CGAlgorithms.distancePointLinePerpendicular(t,this.p0,this.p1)};jsts.geom.LineSegment.prototype.lineIntersection=function(t){try{var e=jsts.algorithm.HCoordinate.intersection(this.p0,this.p1,t.p0,t.p1);return e}catch(r){}return null};jsts.geom.LineSegment.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])};jsts.geom.LineSegment.prototype.equals=function(t){if(!(t instanceof jsts.geom.LineSegment)){return false}return this.p0.equals(t.p0)&&this.p1.equals(t.p1)};jsts.geom.LineSegment.prototype.compareTo=function(t){var e=this.p0.compareTo(t.p0);if(e!==0)return e;return this.p1.compareTo(t.p1)};jsts.geom.LineSegment.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)};jsts.geom.LineSegment.prototype.toString=function(){return"LINESTRING("+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"};jsts.index.chain.MonotoneChainOverlapAction=function(){this.tempEnv1=new jsts.geom.Envelope;this.tempEnv2=new jsts.geom.Envelope;this.overlapSeg1=new jsts.geom.LineSegment;this.overlapSeg2=new jsts.geom.LineSegment};jsts.index.chain.MonotoneChainOverlapAction.prototype.tempEnv1=null;jsts.index.chain.MonotoneChainOverlapAction.prototype.tempEnv2=null;jsts.index.chain.MonotoneChainOverlapAction.prototype.overlapSeg1=null;jsts.index.chain.MonotoneChainOverlapAction.prototype.overlapSeg2=null;jsts.index.chain.MonotoneChainOverlapAction.prototype.overlap=function(t,e,r,n){this.mc1.getLineSegment(e,this.overlapSeg1);this.mc2.getLineSegment(n,this.overlapSeg2);this.overlap2(this.overlapSeg1,this.overlapSeg2)};jsts.index.chain.MonotoneChainOverlapAction.prototype.overlap2=function(t,e){};(function(){var t=jsts.index.chain.MonotoneChainOverlapAction;var e=jsts.noding.SinglePassNoder;var r=jsts.index.strtree.STRtree;var n=jsts.noding.NodedSegmentString;var i=jsts.index.chain.MonotoneChainBuilder;var o=function(t){this.si=t};o.prototype=new t;o.constructor=o;o.prototype.si=null;o.prototype.overlap=function(t,e,r,n){var i=t.getContext();var o=r.getContext();this.si.processIntersections(i,e,o,n)};jsts.noding.MCIndexNoder=function(){this.monoChains=[];this.index=new r};jsts.noding.MCIndexNoder.prototype=new e;jsts.noding.MCIndexNoder.constructor=jsts.noding.MCIndexNoder;jsts.noding.MCIndexNoder.prototype.monoChains=null;jsts.noding.MCIndexNoder.prototype.index=null;jsts.noding.MCIndexNoder.prototype.idCounter=0;jsts.noding.MCIndexNoder.prototype.nodedSegStrings=null;jsts.noding.MCIndexNoder.prototype.nOverlaps=0;jsts.noding.MCIndexNoder.prototype.getMonotoneChains=function(){return this.monoChains};jsts.noding.MCIndexNoder.prototype.getIndex=function(){return this.index};jsts.noding.MCIndexNoder.prototype.getNodedSubstrings=function(){return n.getNodedSubstrings(this.nodedSegStrings)};jsts.noding.MCIndexNoder.prototype.computeNodes=function(t){this.nodedSegStrings=t;for(var e=t.iterator();e.hasNext();){this.add(e.next())}this.intersectChains()};jsts.noding.MCIndexNoder.prototype.intersectChains=function(){var t=new o(this.segInt);for(var e=0;e<this.monoChains.length;e++){var r=this.monoChains[e];var n=this.index.query(r.getEnvelope());for(var i=0;i<n.length;i++){var s=n[i];if(s.getId()>r.getId()){r.computeOverlaps(s,t);this.nOverlaps++}if(this.segInt.isDone())return}}};jsts.noding.MCIndexNoder.prototype.add=function(t){var e=i.getChains(t.getCoordinates(),t);for(var r=0;r<e.length;r++){var n=e[r];n.setId(this.idCounter++);this.index.insert(n.getEnvelope(),n);this.monoChains.push(n)}}})();jsts.simplify.LineSegmentIndex=function(){this.index=new jsts.index.quadtree.Quadtree};jsts.simplify.LineSegmentIndex.prototype.index=null;jsts.simplify.LineSegmentIndex.prototype.add=function(t){if(t instanceof jsts.geom.LineSegment){this.add2(t);return}var e=t.getSegments();for(var r=0;r<e.length;r++){var n=e[r];this.add2(n)}};jsts.simplify.LineSegmentIndex.prototype.add2=function(t){this.index.insert(new jsts.geom.Envelope(t.p0,t.p1),t)};jsts.simplify.LineSegmentIndex.prototype.remove=function(t){this.index.remove(new jsts.geom.Envelope(t.p0,t.p1),t)};jsts.simplify.LineSegmentIndex.prototype.query=function(t){var e=new jsts.geom.Envelope(t.p0,t.p1);var r=new jsts.simplify.LineSegmentIndex.LineSegmentVisitor(t);this.index.query(e,r);var n=r.getItems();return n};jsts.simplify.LineSegmentIndex.LineSegmentVisitor=function(t){this.items=[];this.querySeg=t};jsts.simplify.LineSegmentIndex.LineSegmentVisitor.prototype=new jsts.index.ItemVisitor;jsts.simplify.LineSegmentIndex.LineSegmentVisitor.prototype.querySeg=null;jsts.simplify.LineSegmentIndex.LineSegmentVisitor.prototype.items=null;jsts.simplify.LineSegmentIndex.LineSegmentVisitor.prototype.visitItem=function(t){var e=t;if(jsts.geom.Envelope.intersects(e.p0,e.p1,this.querySeg.p0,this.querySeg.p1))this.items.push(t)};jsts.simplify.LineSegmentIndex.LineSegmentVisitor.prototype.getItems=function(){return this.items};jsts.geomgraph.EdgeEndStar=function(){this.edgeMap=new javascript.util.TreeMap;this.edgeList=null;this.ptInAreaLocation=[jsts.geom.Location.NONE,jsts.geom.Location.NONE]};jsts.geomgraph.EdgeEndStar.prototype.edgeMap=null;jsts.geomgraph.EdgeEndStar.prototype.edgeList=null;jsts.geomgraph.EdgeEndStar.prototype.ptInAreaLocation=null;jsts.geomgraph.EdgeEndStar.prototype.insert=function(t){throw new jsts.error.AbstractMethodInvocationError};jsts.geomgraph.EdgeEndStar.prototype.insertEdgeEnd=function(t,e){this.edgeMap.put(t,e);this.edgeList=null};jsts.geomgraph.EdgeEndStar.prototype.getCoordinate=function(){var t=this.iterator();if(!t.hasNext())return null;var e=t.next();return e.getCoordinate()};jsts.geomgraph.EdgeEndStar.prototype.getDegree=function(){return this.edgeMap.size()};jsts.geomgraph.EdgeEndStar.prototype.iterator=function(){return this.getEdges().iterator()};jsts.geomgraph.EdgeEndStar.prototype.getEdges=function(){if(this.edgeList===null){this.edgeList=new javascript.util.ArrayList(this.edgeMap.values())}return this.edgeList};jsts.geomgraph.EdgeEndStar.prototype.getNextCW=function(t){this.getEdges();var e=this.edgeList.indexOf(t);var r=e-1;if(e===0)r=this.edgeList.length-1;return this.edgeList[r]};jsts.geomgraph.EdgeEndStar.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule());this.propagateSideLabels(0);this.propagateSideLabels(1);var e=[false,false];for(var r=this.iterator();r.hasNext();){var n=r.next();var i=n.getLabel();for(var o=0;o<2;o++){if(i.isLine(o)&&i.getLocation(o)===jsts.geom.Location.BOUNDARY)e[o]=true}}for(var r=this.iterator();r.hasNext();){var n=r.next();var i=n.getLabel();for(var o=0;o<2;o++){if(i.isAnyNull(o)){var s=jsts.geom.Location.NONE;if(e[o]){s=jsts.geom.Location.EXTERIOR}else{var a=n.getCoordinate();s=this.getLocation(o,a,t)}i.setAllLocationsIfNull(o,s)}}}};jsts.geomgraph.EdgeEndStar.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();){var r=e.next();r.computeLabel(t)}};jsts.geomgraph.EdgeEndStar.prototype.getLocation=function(t,e,r){if(this.ptInAreaLocation[t]===jsts.geom.Location.NONE){this.ptInAreaLocation[t]=jsts.algorithm.locate.SimplePointInAreaLocator.locate(e,r[t].getGeometry())}return this.ptInAreaLocation[t]};jsts.geomgraph.EdgeEndStar.prototype.isAreaLabelsConsistent=function(t){this.computeEdgeEndLabels(t.getBoundaryNodeRule());return this.checkAreaLabelsConsistent(0)};jsts.geomgraph.EdgeEndStar.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return true;var r=e.size()-1;var n=e.get(r).getLabel();var i=n.getLocation(t,jsts.geomgraph.Position.LEFT);jsts.util.Assert.isTrue(i!=jsts.geom.Location.NONE,"Found unlabelled area edge");var o=i;for(var s=this.iterator();s.hasNext();){var a=s.next();var u=a.getLabel();jsts.util.Assert.isTrue(u.isArea(t),"Found non-area edge");var p=u.getLocation(t,jsts.geomgraph.Position.LEFT);var l=u.getLocation(t,jsts.geomgraph.Position.RIGHT);if(p===l){return false}if(l!==o){return false}o=p}return true};jsts.geomgraph.EdgeEndStar.prototype.propagateSideLabels=function(t){var e=jsts.geom.Location.NONE;for(var r=this.iterator();r.hasNext();){var n=r.next();var i=n.getLabel();if(i.isArea(t)&&i.getLocation(t,jsts.geomgraph.Position.LEFT)!==jsts.geom.Location.NONE)e=i.getLocation(t,jsts.geomgraph.Position.LEFT)}if(e===jsts.geom.Location.NONE)return;var o=e;for(var r=this.iterator();r.hasNext();){var n=r.next();var i=n.getLabel();if(i.getLocation(t,jsts.geomgraph.Position.ON)===jsts.geom.Location.NONE)i.setLocation(t,jsts.geomgraph.Position.ON,o);if(i.isArea(t)){var s=i.getLocation(t,jsts.geomgraph.Position.LEFT);var a=i.getLocation(t,jsts.geomgraph.Position.RIGHT);if(a!==jsts.geom.Location.NONE){if(a!==o)throw new jsts.error.TopologyError("side location conflict",n.getCoordinate());if(s===jsts.geom.Location.NONE){jsts.util.Assert.shouldNeverReachHere("found single null side (at "+n.getCoordinate()+")")}o=s}else{jsts.util.Assert.isTrue(i.getLocation(t,jsts.geomgraph.Position.LEFT)===jsts.geom.Location.NONE,"found single null side");i.setLocation(t,jsts.geomgraph.Position.RIGHT,o);i.setLocation(t,jsts.geomgraph.Position.LEFT,o)}}}};jsts.geomgraph.EdgeEndStar.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this.edgeList.size();e++){var r=this.edgeList.get(e);if(r===t)return e}return-1};jsts.operation.relate.EdgeEndBundleStar=function(){jsts.geomgraph.EdgeEndStar.apply(this,arguments)};jsts.operation.relate.EdgeEndBundleStar.prototype=new jsts.geomgraph.EdgeEndStar;jsts.operation.relate.EdgeEndBundleStar.prototype.insert=function(t){var e=this.edgeMap.get(t);if(e===null){e=new jsts.operation.relate.EdgeEndBundle(t);this.insertEdgeEnd(t,e)}else{e.insert(t)}};jsts.operation.relate.EdgeEndBundleStar.prototype.updateIM=function(t){for(var e=this.iterator();e.hasNext();){var r=e.next();r.updateIM(t)}};jsts.index.ArrayListVisitor=function(){this.items=[]};jsts.index.ArrayListVisitor.prototype.visitItem=function(t){this.items.push(t)};jsts.index.ArrayListVisitor.prototype.getItems=function(){return this.items};jsts.algorithm.distance.DistanceToPoint=function(){};jsts.algorithm.distance.DistanceToPoint.computeDistance=function(t,e,r){if(t instanceof jsts.geom.LineString){jsts.algorithm.distance.DistanceToPoint.computeDistance2(t,e,r)}else if(t instanceof jsts.geom.Polygon){jsts.algorithm.distance.DistanceToPoint.computeDistance4(t,e,r)}else if(t instanceof jsts.geom.GeometryCollection){var n=t;for(var i=0;i<n.getNumGeometries();i++){var o=n.getGeometryN(i);jsts.algorithm.distance.DistanceToPoint.computeDistance(o,e,r)}}else{r.setMinimum(t.getCoordinate(),e)}};jsts.algorithm.distance.DistanceToPoint.computeDistance2=function(t,e,r){var n=new jsts.geom.LineSegment;var i=t.getCoordinates();for(var o=0;o<i.length-1;o++){n.setCoordinates(i[o],i[o+1]);var s=n.closestPoint(e);r.setMinimum(s,e)}};jsts.algorithm.distance.DistanceToPoint.computeDistance3=function(t,e,r){var n=t.closestPoint(e);r.setMinimum(n,e)};jsts.algorithm.distance.DistanceToPoint.computeDistance4=function(t,e,r){jsts.algorithm.distance.DistanceToPoint.computeDistance2(t.getExteriorRing(),e,r);for(var n=0;n<t.getNumInteriorRing();n++){jsts.algorithm.distance.DistanceToPoint.computeDistance2(t.getInteriorRingN(n),e,r)}};jsts.index.strtree.ItemBoundable=function(t,e){this.bounds=t;this.item=e};jsts.index.strtree.ItemBoundable.prototype=new jsts.index.strtree.Boundable;jsts.index.strtree.ItemBoundable.constructor=jsts.index.strtree.ItemBoundable;jsts.index.strtree.ItemBoundable.prototype.bounds=null;jsts.index.strtree.ItemBoundable.prototype.item=null;jsts.index.strtree.ItemBoundable.prototype.getBounds=function(){return this.bounds};jsts.index.strtree.ItemBoundable.prototype.getItem=function(){return this.item};(function(){var t=javascript.util.ArrayList;var e=javascript.util.TreeMap;jsts.geomgraph.EdgeList=function(){this.edges=new t;this.ocaMap=new e};jsts.geomgraph.EdgeList.prototype.edges=null;jsts.geomgraph.EdgeList.prototype.ocaMap=null;jsts.geomgraph.EdgeList.prototype.add=function(t){this.edges.add(t);var e=new jsts.noding.OrientedCoordinateArray(t.getCoordinates());this.ocaMap.put(e,t)};jsts.geomgraph.EdgeList.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();){this.add(e.next())}};jsts.geomgraph.EdgeList.prototype.getEdges=function(){return this.edges};jsts.geomgraph.EdgeList.prototype.findEqualEdge=function(t){var e=new jsts.noding.OrientedCoordinateArray(t.getCoordinates());var r=this.ocaMap.get(e);return r};jsts.geomgraph.EdgeList.prototype.getEdges=function(){return this.edges};jsts.geomgraph.EdgeList.prototype.iterator=function(){return this.edges.iterator()};jsts.geomgraph.EdgeList.prototype.get=function(t){return this.edges.get(t)};jsts.geomgraph.EdgeList.prototype.findEdgeIndex=function(t){for(var e=0;e<this.edges.size();e++){if(this.edges.get(e).equals(t))return e}return-1}})();jsts.operation.IsSimpleOp=function(t){this.geom=t};jsts.operation.IsSimpleOp.prototype.geom=null;jsts.operation.IsSimpleOp.prototype.isClosedEndpointsInInterior=true;jsts.operation.IsSimpleOp.prototype.nonSimpleLocation=null;jsts.operation.IsSimpleOp.prototype.IsSimpleOp=function(t){this.geom=t};jsts.operation.IsSimpleOp.prototype.isSimple=function(){this.nonSimpleLocation=null;if(this.geom instanceof jsts.geom.LineString){return this.isSimpleLinearGeometry(this.geom)}if(this.geom instanceof jsts.geom.MultiLineString){return this.isSimpleLinearGeometry(this.geom)}if(this.geom instanceof jsts.geom.MultiPoint){return this.isSimpleMultiPoint(this.geom)}return true};jsts.operation.IsSimpleOp.prototype.isSimpleMultiPoint=function(t){if(t.isEmpty())return true;var e=[];for(var r=0;r<t.getNumGeometries();r++){var n=t.getGeometryN(r);var i=n.getCoordinate();for(var o=0;o<e.length;o++){var s=e[o];if(i.equals2D(s)){this.nonSimpleLocation=i;return false}}e.push(i)}return true};jsts.operation.IsSimpleOp.prototype.isSimpleLinearGeometry=function(t){if(t.isEmpty())return true;var e=new jsts.geomgraph.GeometryGraph(0,t);var r=new jsts.algorithm.RobustLineIntersector;var n=e.computeSelfNodes(r,true);if(!n.hasIntersection())return true;if(n.hasProperIntersection()){this.nonSimpleLocation=n.getProperIntersectionPoint();return false}if(this.hasNonEndpointIntersection(e))return false;if(this.isClosedEndpointsInInterior){if(this.hasClosedEndpointIntersection(e))return false}return true};jsts.operation.IsSimpleOp.prototype.hasNonEndpointIntersection=function(t){for(var e=t.getEdgeIterator();e.hasNext();){var r=e.next();var n=r.getMaximumSegmentIndex();for(var i=r.getEdgeIntersectionList().iterator();i.hasNext();){var o=i.next();if(!o.isEndPoint(n)){this.nonSimpleLocation=o.getCoordinate();return true}}}return false};jsts.operation.IsSimpleOp.prototype.hasClosedEndpointIntersection=function(t){var e=new javascript.util.TreeMap;for(var r=t.getEdgeIterator();r.hasNext();){var n=r.next();var i=n.getMaximumSegmentIndex();var o=n.isClosed();var s=n.getCoordinate(0);this.addEndpoint(e,s,o);var a=n.getCoordinate(n.getNumPoints()-1);this.addEndpoint(e,a,o)}for(var r=e.values().iterator();r.hasNext();){var u=r.next();if(u.isClosed&&u.degree!=2){this.nonSimpleLocation=u.getCoordinate();return true}}return false};jsts.operation.IsSimpleOp.EndpointInfo=function(t){this.pt=t;this.isClosed=false;this.degree=0};jsts.operation.IsSimpleOp.EndpointInfo.prototype.pt=null;jsts.operation.IsSimpleOp.EndpointInfo.prototype.isClosed=null;jsts.operation.IsSimpleOp.EndpointInfo.prototype.degree=null;jsts.operation.IsSimpleOp.EndpointInfo.prototype.getCoordinate=function(){return this.pt};jsts.operation.IsSimpleOp.EndpointInfo.prototype.addEndpoint=function(t){this.degree++;this.isClosed=this.isClosed||t};jsts.operation.IsSimpleOp.prototype.addEndpoint=function(t,e,r){var n=t.get(e);if(n===null){n=new jsts.operation.IsSimpleOp.EndpointInfo(e);t.put(e,n)}n.addEndpoint(r)};(function(){var t=function(){this.snapTolerance=0;this.seg=new jsts.geom.LineSegment;this.allowSnappingToSourceVertices=false;this.isClosed=false;this.srcPts=[];if(arguments[0]instanceof jsts.geom.LineString){this.initFromLine.apply(this,arguments)}else{this.initFromPoints.apply(this,arguments)}};t.prototype.initFromLine=function(t,e){this.initFromPoints(t.getCoordinates(),e)};t.prototype.initFromPoints=function(t,e){this.srcPts=t;this.isClosed=this.calcIsClosed(t);this.snapTolerance=e};t.prototype.setAllowSnappingToSourceVertices=function(t){this.allowSnappingToSourceVertices=t};t.prototype.calcIsClosed=function(t){if(t.length<=1){return false}return t[0].equals(t[t.length-1])};t.prototype.snapTo=function(t){var e=new jsts.geom.CoordinateList(this.srcPts);this.snapVertices(e,t);this.snapSegments(e,t);return e.toCoordinateArray()};t.prototype.snapVertices=function(t,e){var r=this.isClosed?t.size()-1:t.size(),n=0,i,o;for(n;n<r;n++){i=t.get(n);o=this.findSnapForVertex(i,e);if(o!==null){t.set(n,new jsts.geom.Coordinate(o));if(n===0&&this.isClosed)t.set(t.size()-1,new jsts.geom.Coordinate(o))}}};t.prototype.findSnapForVertex=function(t,e){var r=0,n=e.length;for(r=0;r<n;r++){if(t.equals(e[r])){return null}if(t.distance(e[r])<this.snapTolerance){return e[r]}}return null};t.prototype.snapSegments=function(t,e){if(e.length===0){return}var r=e.length,n,i,o;if(e.length>1&&e[0].equals2D(e[e.length-1])){r=e.length-1}n=0;for(n;n<r;n++){i=e[n];o=this.findSegmentIndexToSnap(i,t);if(o>=0){t.add(o+1,new jsts.geom.Coordinate(i),false)}}};t.prototype.findSegmentIndexToSnap=function(t,e){var r=Number.MAX_VALUE,n=-1,i=0,o;for(i;i<e.size()-1;i++){this.seg.p0=e.get(i);this.seg.p1=e.get(i+1);if(this.seg.p0.equals(t)||this.seg.p1.equals(t)){if(this.allowSnappingToSourceVertices){continue}else{return-1}}o=this.seg.distance(t);if(o<this.snapTolerance&&o<r){r=o;n=i}}return n};jsts.operation.overlay.snap.LineStringSnapper=t})();(function(){var t=javascript.util.ArrayList;var e=jsts.geom.GeometryComponentFilter;var r=jsts.geom.LineString;var n=jsts.operation.polygonize.EdgeRing;var i=jsts.operation.polygonize.PolygonizeGraph;var o=function(){var n=this;var i=function(){};i.prototype=new e;i.prototype.filter=function(t){if(t instanceof r)n.add(t)};this.lineStringAdder=new i;this.dangles=new t;this.cutEdges=new t;this.invalidRingLines=new t};o.prototype.lineStringAdder=null;o.prototype.graph=null;o.prototype.dangles=null;o.prototype.cutEdges=null;o.prototype.invalidRingLines=null;o.prototype.holeList=null;o.prototype.shellList=null;o.prototype.polyList=null;o.prototype.add=function(t){if(t instanceof jsts.geom.LineString){return this.add3(t)}else if(t instanceof jsts.geom.Geometry){return this.add2(t)}for(var e=t.iterator();e.hasNext();){var r=e.next();this.add2(r)}};o.prototype.add2=function(t){t.apply(this.lineStringAdder)};o.prototype.add3=function(t){if(this.graph==null)this.graph=new i(t.getFactory());this.graph.addEdge(t)};o.prototype.getPolygons=function(){this.polygonize();return this.polyList};o.prototype.getDangles=function(){this.polygonize();return this.dangles};o.prototype.getCutEdges=function(){this.polygonize();return this.cutEdges};o.prototype.getInvalidRingLines=function(){this.polygonize();return this.invalidRingLines};o.prototype.polygonize=function(){if(this.polyList!=null)return;this.polyList=new t;if(this.graph==null)return;this.dangles=this.graph.deleteDangles();this.cutEdges=this.graph.deleteCutEdges();var e=this.graph.getEdgeRings();var r=new t;this.invalidRingLines=new t;this.findValidRings(e,r,this.invalidRingLines);this.findShellsAndHoles(r);o.assignHolesToShells(this.holeList,this.shellList);this.polyList=new t;for(var n=this.shellList.iterator();n.hasNext();){var i=n.next();this.polyList.add(i.getPolygon())}};o.prototype.findValidRings=function(t,e,r){for(var n=t.iterator();n.hasNext();){var i=n.next();if(i.isValid())e.add(i);else r.add(i.getLineString())}};o.prototype.findShellsAndHoles=function(e){this.holeList=new t;this.shellList=new t;for(var r=e.iterator();r.hasNext();){var n=r.next();if(n.isHole())this.holeList.add(n);else this.shellList.add(n)}};o.assignHolesToShells=function(t,e){for(var r=t.iterator();r.hasNext();){var n=r.next();o.assignHoleToShell(n,e)}};o.assignHoleToShell=function(t,e){var r=n.findEdgeRingContaining(t,e);if(r!=null)r.addHole(t.getRing())};jsts.operation.polygonize.Polygonizer=o})();(function(){var t=javascript.util.ArrayList;var e=function(){};e.prototype.inputGeom=null;e.prototype.factory=null;e.prototype.pruneEmptyGeometry=true;e.prototype.preserveGeometryCollectionType=true;e.prototype.preserveCollections=false;e.prototype.reserveType=false;e.prototype.getInputGeometry=function(){return this.inputGeom};e.prototype.transform=function(t){this.inputGeom=t;this.factory=t.getFactory();if(t instanceof jsts.geom.Point)return this.transformPoint(t,null);if(t instanceof jsts.geom.MultiPoint)return this.transformMultiPoint(t,null);if(t instanceof jsts.geom.LinearRing)return this.transformLinearRing(t,null);if(t instanceof jsts.geom.LineString)return this.transformLineString(t,null);if(t instanceof jsts.geom.MultiLineString)return this.transformMultiLineString(t,null);if(t instanceof jsts.geom.Polygon)return this.transformPolygon(t,null);if(t instanceof jsts.geom.MultiPolygon)return this.transformMultiPolygon(t,null);if(t instanceof jsts.geom.GeometryCollection)return this.transformGeometryCollection(t,null);throw new jsts.error.IllegalArgumentException("Unknown Geometry subtype: "+t.getClass().getName())};e.prototype.createCoordinateSequence=function(t){return this.factory.getCoordinateSequenceFactory().create(t)};e.prototype.copy=function(t){return t.clone()};e.prototype.transformCoordinates=function(t,e){
return this.copy(t)};e.prototype.transformPoint=function(t,e){return this.factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))};e.prototype.transformMultiPoint=function(e,r){var n=new t;for(var i=0;i<e.getNumGeometries();i++){var o=this.transformPoint(e.getGeometryN(i),e);if(o==null)continue;if(o.isEmpty())continue;n.add(o)}return this.factory.buildGeometry(n)};e.prototype.transformLinearRing=function(t,e){var r=this.transformCoordinates(t.getCoordinateSequence(),t);var n=r.length;if(n>0&&n<4&&!this.preserveType)return this.factory.createLineString(r);return this.factory.createLinearRing(r)};e.prototype.transformLineString=function(t,e){return this.factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))};e.prototype.transformMultiLineString=function(e,r){var n=new t;for(var i=0;i<e.getNumGeometries();i++){var o=this.transformLineString(e.getGeometryN(i),e);if(o==null)continue;if(o.isEmpty())continue;n.add(o)}return this.factory.buildGeometry(n)};e.prototype.transformPolygon=function(e,r){var n=true;var i=this.transformLinearRing(e.getExteriorRing(),e);if(i==null||!(i instanceof jsts.geom.LinearRing)||i.isEmpty())n=false;var o=new t;for(var s=0;s<e.getNumInteriorRing();s++){var a=this.transformLinearRing(e.getInteriorRingN(s),e);if(a==null||a.isEmpty()){continue}if(!(a instanceof jsts.geom.LinearRing))n=false;o.add(a)}if(n)return this.factory.createPolygon(i,o.toArray());else{var u=new t;if(i!=null)u.add(i);u.addAll(o);return this.factory.buildGeometry(u)}};e.prototype.transformMultiPolygon=function(e,r){var n=new t;for(var i=0;i<e.getNumGeometries();i++){var o=this.transformPolygon(e.getGeometryN(i),e);if(o==null)continue;if(o.isEmpty())continue;n.add(o)}return this.factory.buildGeometry(n)};e.prototype.transformGeometryCollection=function(e,r){var n=new t;for(var i=0;i<e.getNumGeometries();i++){var o=this.transform(e.getGeometryN(i));if(o==null)continue;if(this.pruneEmptyGeometry&&o.isEmpty())continue;n.add(o)}if(this.preserveGeometryCollectionType)return this.factory.createGeometryCollection(GeometryFactory.toGeometryArray(n));return this.factory.buildGeometry(n)};jsts.geom.util.GeometryTransformer=e})();(function(){var t=jsts.operation.overlay.snap.LineStringSnapper;var e=jsts.geom.PrecisionModel;var r=javascript.util.TreeSet;var n=function(t,e,r){this.snapTolerance=t;this.snapPts=e;this.isSelfSnap=r||false};n.prototype=new jsts.geom.util.GeometryTransformer;n.prototype.snapTolerance=null;n.prototype.snapPts=null;n.prototype.isSelfSnap=false;n.prototype.transformCoordinates=function(t,e){var r=t;var n=this.snapLine(r,this.snapPts);return n};n.prototype.snapLine=function(e,r){var n=new t(e,this.snapTolerance);n.setAllowSnappingToSourceVertices(this.isSelfSnap);return n.snapTo(r)};var i=function(t){this.srcGeom=t};i.SNAP_PRECISION_FACTOR=1e-9;i.computeOverlaySnapTolerance=function(t){if(arguments.length===2){return i.computeOverlaySnapTolerance2.apply(this,arguments)}var r=this.computeSizeBasedSnapTolerance(t);var n=t.getPrecisionModel();if(n.getType()==e.FIXED){var o=1/n.getScale()*2/1.415;if(o>r)r=o}return r};i.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();var r=Math.min(e.getHeight(),e.getWidth());var n=r*i.SNAP_PRECISION_FACTOR;return n};i.computeOverlaySnapTolerance2=function(t,e){return Math.min(this.computeOverlaySnapTolerance(t),this.computeOverlaySnapTolerance(e))};i.snap=function(t,e,r){var n=[];var o=new i(t);n[0]=o.snapTo(e,r);var s=new i(e);n[1]=s.snapTo(n[0],r);return n};i.snapToSelf=function(t,e,r){var n=new i(t);return n.snapToSelf(e,r)};i.prototype.srcGeom=null;i.prototype.snapTo=function(t,e){var r=this.extractTargetCoordinates(t);var i=new n(e,r);return i.transform(this.srcGeom)};i.prototype.snapToSelf=function(t,e){var r=this.extractTargetCoordinates(srcGeom);var i=new n(t,r,true);var o=i.transform(srcGeom);var s=o;if(e&&s instanceof Polygonal){s=o.buffer(0)}return s};i.prototype.extractTargetCoordinates=function(t){var e=new r;var n=t.getCoordinates();for(var i=0;i<n.length;i++){e.add(n[i])}return e.toArray()};i.prototype.computeSnapTolerance=function(t){var e=this.computeMinimumSegmentLength(t);var r=e/10;return r};i.prototype.computeMinimumSegmentLength=function(t){var e=Number.MAX_VALUE;for(var r=0;r<t.length-1;r++){var n=t[r].distance(t[r+1]);if(n<e)e=n}return e};jsts.operation.overlay.snap.GeometrySnapper=i})();jsts.algorithm.PointLocator=function(t){this.boundaryRule=t?t:jsts.algorithm.BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE};jsts.algorithm.PointLocator.prototype.boundaryRule=null;jsts.algorithm.PointLocator.prototype.isIn=null;jsts.algorithm.PointLocator.prototype.numBoundaries=null;jsts.algorithm.PointLocator.prototype.intersects=function(t,e){return this.locate(t,e)!==jsts.geom.Location.EXTERIOR};jsts.algorithm.PointLocator.prototype.locate=function(t,e){if(e.isEmpty())return jsts.geom.Location.EXTERIOR;if(e instanceof jsts.geom.Point){return this.locate2(t,e)}else if(e instanceof jsts.geom.LineString){return this.locate3(t,e)}else if(e instanceof jsts.geom.Polygon){return this.locate4(t,e)}this.isIn=false;this.numBoundaries=0;this.computeLocation(t,e);if(this.boundaryRule.isInBoundary(this.numBoundaries))return jsts.geom.Location.BOUNDARY;if(this.numBoundaries>0||this.isIn)return jsts.geom.Location.INTERIOR;return jsts.geom.Location.EXTERIOR};jsts.algorithm.PointLocator.prototype.computeLocation=function(t,e){if(e instanceof jsts.geom.Point||e instanceof jsts.geom.LineString||e instanceof jsts.geom.Polygon){this.updateLocationInfo(this.locate(t,e))}else if(e instanceof jsts.geom.MultiLineString){var r=e;for(var n=0;n<r.getNumGeometries();n++){var i=r.getGeometryN(n);this.updateLocationInfo(this.locate(t,i))}}else if(e instanceof jsts.geom.MultiPolygon){var o=e;for(var n=0;n<o.getNumGeometries();n++){var s=o.getGeometryN(n);this.updateLocationInfo(this.locate(t,s))}}else if(e instanceof jsts.geom.MultiPoint||e instanceof jsts.geom.GeometryCollection){for(var n=0;n<e.getNumGeometries();n++){var a=e.getGeometryN(n);if(a!==e){this.computeLocation(t,a)}}}};jsts.algorithm.PointLocator.prototype.updateLocationInfo=function(t){if(t===jsts.geom.Location.INTERIOR)this.isIn=true;if(t===jsts.geom.Location.BOUNDARY)this.numBoundaries++};jsts.algorithm.PointLocator.prototype.locate2=function(t,e){var r=e.getCoordinate();if(r.equals2D(t))return jsts.geom.Location.INTERIOR;return jsts.geom.Location.EXTERIOR};jsts.algorithm.PointLocator.prototype.locate3=function(t,e){if(!e.getEnvelopeInternal().intersects(t))return jsts.geom.Location.EXTERIOR;var r=e.getCoordinates();if(!e.isClosed()){if(t.equals(r[0])||t.equals(r[r.length-1])){return jsts.geom.Location.BOUNDARY}}if(jsts.algorithm.CGAlgorithms.isOnLine(t,r))return jsts.geom.Location.INTERIOR;return jsts.geom.Location.EXTERIOR};jsts.algorithm.PointLocator.prototype.locateInPolygonRing=function(t,e){if(!e.getEnvelopeInternal().intersects(t))return jsts.geom.Location.EXTERIOR;return jsts.algorithm.CGAlgorithms.locatePointInRing(t,e.getCoordinates())};jsts.algorithm.PointLocator.prototype.locate4=function(t,e){if(e.isEmpty())return jsts.geom.Location.EXTERIOR;var r=e.getExteriorRing();var n=this.locateInPolygonRing(t,r);if(n===jsts.geom.Location.EXTERIOR)return jsts.geom.Location.EXTERIOR;if(n===jsts.geom.Location.BOUNDARY)return jsts.geom.Location.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i);var s=this.locateInPolygonRing(t,o);if(s===jsts.geom.Location.INTERIOR)return jsts.geom.Location.EXTERIOR;if(s===jsts.geom.Location.BOUNDARY)return jsts.geom.Location.BOUNDARY}return jsts.geom.Location.INTERIOR};(function(){var t=jsts.geom.Location;var e=javascript.util.ArrayList;var r=javascript.util.TreeMap;jsts.geomgraph.NodeMap=function(t){this.nodeMap=new r;this.nodeFact=t};jsts.geomgraph.NodeMap.prototype.nodeMap=null;jsts.geomgraph.NodeMap.prototype.nodeFact=null;jsts.geomgraph.NodeMap.prototype.addNode=function(t){var e,r;if(t instanceof jsts.geom.Coordinate){r=t;e=this.nodeMap.get(r);if(e===null){e=this.nodeFact.createNode(r);this.nodeMap.put(r,e)}return e}else if(t instanceof jsts.geomgraph.Node){var n=t;r=n.getCoordinate();e=this.nodeMap.get(r);if(e===null){this.nodeMap.put(r,n);return n}e.mergeLabel(n);return e}};jsts.geomgraph.NodeMap.prototype.add=function(t){var e=t.getCoordinate();var r=this.addNode(e);r.add(t)};jsts.geomgraph.NodeMap.prototype.find=function(t){return this.nodeMap.get(t)};jsts.geomgraph.NodeMap.prototype.values=function(){return this.nodeMap.values()};jsts.geomgraph.NodeMap.prototype.iterator=function(){return this.values().iterator()};jsts.geomgraph.NodeMap.prototype.getBoundaryNodes=function(r){var n=new e;for(var i=this.iterator();i.hasNext();){var o=i.next();if(o.getLabel().getLocation(r)===t.BOUNDARY){n.add(o)}}return n}})();(function(){var t=javascript.util.ArrayList;jsts.geomgraph.PlanarGraph=function(e){this.edges=new t;this.edgeEndList=new t;this.nodes=new jsts.geomgraph.NodeMap(e||new jsts.geomgraph.NodeFactory)};jsts.geomgraph.PlanarGraph.prototype.edges=null;jsts.geomgraph.PlanarGraph.prototype.nodes=null;jsts.geomgraph.PlanarGraph.prototype.edgeEndList=null;jsts.geomgraph.PlanarGraph.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();){var r=e.next();r.getEdges().linkResultDirectedEdges()}};jsts.geomgraph.PlanarGraph.prototype.getEdgeIterator=function(){return this.edges.iterator()};jsts.geomgraph.PlanarGraph.prototype.getEdgeEnds=function(){return this.edgeEndList};jsts.geomgraph.PlanarGraph.prototype.isBoundaryNode=function(t,e){var r=this.nodes.find(e);if(r===null)return false;var n=r.getLabel();if(n!==null&&n.getLocation(t)===jsts.geom.Location.BOUNDARY)return true;return false};jsts.geomgraph.PlanarGraph.prototype.insertEdge=function(t){this.edges.add(t)};jsts.geomgraph.PlanarGraph.prototype.add=function(t){this.nodes.add(t);this.edgeEndList.add(t)};jsts.geomgraph.PlanarGraph.prototype.getNodeIterator=function(){return this.nodes.iterator()};jsts.geomgraph.PlanarGraph.prototype.getNodes=function(){return this.nodes.values()};jsts.geomgraph.PlanarGraph.prototype.addNode=function(t){return this.nodes.addNode(t)};jsts.geomgraph.PlanarGraph.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var r=e.next();this.edges.add(r);var n=new jsts.geomgraph.DirectedEdge(r,true);var i=new jsts.geomgraph.DirectedEdge(r,false);n.setSym(i);i.setSym(n);this.add(n);this.add(i)}};jsts.geomgraph.PlanarGraph.prototype.linkResultDirectedEdges=function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next();e.getEdges().linkResultDirectedEdges()}};jsts.geomgraph.PlanarGraph.prototype.findEdgeInSameDirection=function(t,e){var r=0,n=this.edges.size(),i,o;for(r;r<n;r++){i=this.edges.get(r);o=i.getCoordinates();if(this.matchInSameDirection(t,e,o[0],o[1])){return i}if(this.matchInSameDirection(t,e,o[o.length-1],o[o.length-2])){return i}}return null};jsts.geomgraph.PlanarGraph.prototype.matchInSameDirection=function(t,e,r,n){if(!t.equals(r)){return false}if(jsts.algorithm.CGAlgorithms.computeOrientation(t,e,n)===jsts.algorithm.CGAlgorithms.COLLINEAR&&jsts.geomgraph.Quadrant.quadrant(t,e)===jsts.geomgraph.Quadrant.quadrant(r,n)){return true}return false};jsts.geomgraph.PlanarGraph.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var r=e.next();if(r.getEdge()===t){return r}}return null}})();jsts.noding.SegmentIntersector=function(){};jsts.noding.SegmentIntersector.prototype.processIntersections=jsts.abstractFunc;jsts.noding.SegmentIntersector.prototype.isDone=jsts.abstractFunc;(function(){var t=jsts.noding.SegmentIntersector;var e=javascript.util.ArrayList;jsts.noding.InteriorIntersectionFinder=function(t){this.li=t;this.intersections=new e;this.interiorIntersection=null};jsts.noding.InteriorIntersectionFinder.prototype=new t;jsts.noding.InteriorIntersectionFinder.constructor=jsts.noding.InteriorIntersectionFinder;jsts.noding.InteriorIntersectionFinder.prototype.findAllIntersections=false;jsts.noding.InteriorIntersectionFinder.prototype.isCheckEndSegmentsOnly=false;jsts.noding.InteriorIntersectionFinder.prototype.li=null;jsts.noding.InteriorIntersectionFinder.prototype.interiorIntersection=null;jsts.noding.InteriorIntersectionFinder.prototype.intSegments=null;jsts.noding.InteriorIntersectionFinder.prototype.intersections=null;jsts.noding.InteriorIntersectionFinder.prototype.setFindAllIntersections=function(t){this.findAllIntersections=t};jsts.noding.InteriorIntersectionFinder.prototype.getIntersections=function(){return intersections};jsts.noding.InteriorIntersectionFinder.prototype.setCheckEndSegmentsOnly=function(t){this.isCheckEndSegmentsOnly=t};jsts.noding.InteriorIntersectionFinder.prototype.hasIntersection=function(){return this.interiorIntersection!=null};jsts.noding.InteriorIntersectionFinder.prototype.getInteriorIntersection=function(){return this.interiorIntersection};jsts.noding.InteriorIntersectionFinder.prototype.getIntersectionSegments=function(){return this.intSegments};jsts.noding.InteriorIntersectionFinder.prototype.processIntersections=function(t,e,r,n){if(this.hasIntersection())return;if(t==r&&e==n)return;if(this.isCheckEndSegmentsOnly){var i=this.isEndSegment(t,e)||isEndSegment(r,n);if(!i)return}var o=t.getCoordinates()[e];var s=t.getCoordinates()[e+1];var a=r.getCoordinates()[n];var u=r.getCoordinates()[n+1];this.li.computeIntersection(o,s,a,u);if(this.li.hasIntersection()){if(this.li.isInteriorIntersection()){this.intSegments=[];this.intSegments[0]=o;this.intSegments[1]=s;this.intSegments[2]=a;this.intSegments[3]=u;this.interiorIntersection=this.li.getIntersection(0);this.intersections.add(this.interiorIntersection)}}};jsts.noding.InteriorIntersectionFinder.prototype.isEndSegment=function(t,e){if(e==0)return true;if(e>=t.size()-2)return true;return false};jsts.noding.InteriorIntersectionFinder.prototype.isDone=function(){if(this.findAllIntersections)return false;return this.interiorIntersection!=null}})();(function(){var t=jsts.algorithm.RobustLineIntersector;var e=jsts.noding.InteriorIntersectionFinder;var r=jsts.noding.MCIndexNoder;jsts.noding.FastNodingValidator=function(e){this.li=new t;this.segStrings=e};jsts.noding.FastNodingValidator.prototype.li=null;jsts.noding.FastNodingValidator.prototype.segStrings=null;jsts.noding.FastNodingValidator.prototype.findAllIntersections=false;jsts.noding.FastNodingValidator.prototype.segInt=null;jsts.noding.FastNodingValidator.prototype._isValid=true;jsts.noding.FastNodingValidator.prototype.setFindAllIntersections=function(t){this.findAllIntersections=t};jsts.noding.FastNodingValidator.prototype.getIntersections=function(){return segInt.getIntersections()};jsts.noding.FastNodingValidator.prototype.isValid=function(){this.execute();return this._isValid};jsts.noding.FastNodingValidator.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this.segInt.getIntersectionSegments();return"found non-noded intersection between "+jsts.io.WKTWriter.toLineString(t[0],t[1])+" and "+jsts.io.WKTWriter.toLineString(t[2],t[3])};jsts.noding.FastNodingValidator.prototype.checkValid=function(){this.execute();if(!this._isValid)throw new jsts.error.TopologyError(this.getErrorMessage(),this.segInt.getInteriorIntersection())};jsts.noding.FastNodingValidator.prototype.execute=function(){if(this.segInt!=null)return;this.checkInteriorIntersections()};jsts.noding.FastNodingValidator.prototype.checkInteriorIntersections=function(){this._isValid=true;this.segInt=new e(this.li);this.segInt.setFindAllIntersections(this.findAllIntersections);var t=new r;t.setSegmentIntersector(this.segInt);t.computeNodes(this.segStrings);if(this.segInt.hasIntersection()){this._isValid=false;return}}})();(function(){jsts.noding.BasicSegmentString=function(t,e){this.pts=t;this.data=e};jsts.noding.BasicSegmentString.prototype=new jsts.noding.SegmentString;jsts.noding.BasicSegmentString.prototype.pts=null;jsts.noding.BasicSegmentString.prototype.data=null;jsts.noding.BasicSegmentString.prototype.getData=function(){return this.data};jsts.noding.BasicSegmentString.prototype.setData=function(t){this.data=t};jsts.noding.BasicSegmentString.prototype.size=function(){return this.pts.length};jsts.noding.BasicSegmentString.prototype.getCoordinate=function(t){return this.pts[t]};jsts.noding.BasicSegmentString.prototype.getCoordinates=function(){return this.pts};jsts.noding.BasicSegmentString.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])};jsts.noding.BasicSegmentString.prototype.getSegmentOctant=function(t){if(t==this.pts.length-1)return-1;return jsts.noding.Octant.octant(this.getCoordinate(t),this.getCoordinate(t+1))}})();(function(){var t=jsts.noding.FastNodingValidator;var e=jsts.noding.BasicSegmentString;var r=javascript.util.ArrayList;jsts.geomgraph.EdgeNodingValidator=function(e){this.nv=new t(jsts.geomgraph.EdgeNodingValidator.toSegmentStrings(e))};jsts.geomgraph.EdgeNodingValidator.checkValid=function(t){var e=new jsts.geomgraph.EdgeNodingValidator(t);e.checkValid()};jsts.geomgraph.EdgeNodingValidator.toSegmentStrings=function(t){var n=new r;for(var i=t.iterator();i.hasNext();){var o=i.next();n.add(new e(o.getCoordinates(),o))}return n};jsts.geomgraph.EdgeNodingValidator.prototype.nv=null;jsts.geomgraph.EdgeNodingValidator.prototype.checkValid=function(){this.nv.checkValid()}})();jsts.operation.GeometryGraphOperation=function(t,e,r){this.li=new jsts.algorithm.RobustLineIntersector;this.arg=[];if(t===undefined){return}if(e===undefined){this.setComputationPrecision(t.getPrecisionModel());this.arg[0]=new jsts.geomgraph.GeometryGraph(0,t);return}r=r||jsts.algorithm.BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE;if(t.getPrecisionModel().compareTo(e.getPrecisionModel())>=0)this.setComputationPrecision(t.getPrecisionModel());else this.setComputationPrecision(e.getPrecisionModel());this.arg[0]=new jsts.geomgraph.GeometryGraph(0,t,r);this.arg[1]=new jsts.geomgraph.GeometryGraph(1,e,r)};jsts.operation.GeometryGraphOperation.prototype.li=null;jsts.operation.GeometryGraphOperation.prototype.resultPrecisionModel=null;jsts.operation.GeometryGraphOperation.prototype.arg=null;jsts.operation.GeometryGraphOperation.prototype.getArgGeometry=function(t){return arg[t].getGeometry()};jsts.operation.GeometryGraphOperation.prototype.setComputationPrecision=function(t){this.resultPrecisionModel=t;this.li.setPrecisionModel(this.resultPrecisionModel)};jsts.operation.overlay.OverlayNodeFactory=function(){};jsts.operation.overlay.OverlayNodeFactory.prototype=new jsts.geomgraph.NodeFactory;jsts.operation.overlay.OverlayNodeFactory.constructor=jsts.operation.overlay.OverlayNodeFactory;jsts.operation.overlay.OverlayNodeFactory.prototype.createNode=function(t){return new jsts.geomgraph.Node(t,new jsts.geomgraph.DirectedEdgeStar)};jsts.operation.overlay.PolygonBuilder=function(t){this.shellList=[];this.geometryFactory=t};jsts.operation.overlay.PolygonBuilder.prototype.geometryFactory=null;jsts.operation.overlay.PolygonBuilder.prototype.shellList=null;jsts.operation.overlay.PolygonBuilder.prototype.add=function(t){if(arguments.length===2){this.add2.apply(this,arguments);return}this.add2(t.getEdgeEnds(),t.getNodes())};jsts.operation.overlay.PolygonBuilder.prototype.add2=function(t,e){jsts.geomgraph.PlanarGraph.linkResultDirectedEdges(e);var r=this.buildMaximalEdgeRings(t);var n=[];var i=this.buildMinimalEdgeRings(r,this.shellList,n);this.sortShellsAndHoles(i,this.shellList,n);this.placeFreeHoles(this.shellList,n)};jsts.operation.overlay.PolygonBuilder.prototype.getPolygons=function(){var t=this.computePolygons(this.shellList);return t};jsts.operation.overlay.PolygonBuilder.prototype.buildMaximalEdgeRings=function(t){var e=[];for(var r=t.iterator();r.hasNext();){var n=r.next();if(n.isInResult()&&n.getLabel().isArea()){if(n.getEdgeRing()==null){var i=new jsts.operation.overlay.MaximalEdgeRing(n,this.geometryFactory);e.push(i);i.setInResult()}}}return e};jsts.operation.overlay.PolygonBuilder.prototype.buildMinimalEdgeRings=function(t,e,r){var n=[];for(var i=0;i<t.length;i++){var o=t[i];if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings();var a=this.findShell(s);if(a!==null){this.placePolygonHoles(a,s);e.push(a)}else{r=r.concat(s)}}else{n.push(o)}}return n};jsts.operation.overlay.PolygonBuilder.prototype.findShell=function(t){var e=0;var r=null;for(var n=0;n<t.length;n++){var i=t[n];if(!i.isHole()){r=i;e++}}jsts.util.Assert.isTrue(e<=1,"found two shells in MinimalEdgeRing list");return r};jsts.operation.overlay.PolygonBuilder.prototype.placePolygonHoles=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(n.isHole()){n.setShell(t)}}};jsts.operation.overlay.PolygonBuilder.prototype.sortShellsAndHoles=function(t,e,r){for(var n=0;n<t.length;n++){var i=t[n];if(i.isHole()){r.push(i)}else{e.push(i)}}};jsts.operation.overlay.PolygonBuilder.prototype.placeFreeHoles=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(n.getShell()==null){var i=this.findEdgeRingContaining(n,t);if(i===null)throw new jsts.error.TopologyError("unable to assign hole to a shell",n.getCoordinate(0));n.setShell(i)}}};jsts.operation.overlay.PolygonBuilder.prototype.findEdgeRingContaining=function(t,e){var r=t.getLinearRing();var n=r.getEnvelopeInternal();var i=r.getCoordinateN(0);var o=null;var s=null;for(var a=0;a<e.length;a++){var u=e[a];var p=u.getLinearRing();var l=p.getEnvelopeInternal();if(o!==null)s=o.getLinearRing().getEnvelopeInternal();var g=false;if(l.contains(n)&&jsts.algorithm.CGAlgorithms.isPointInRing(i,p.getCoordinates()))g=true;if(g){if(o==null||s.contains(l)){o=u}}}return o};jsts.operation.overlay.PolygonBuilder.prototype.computePolygons=function(t){var e=new javascript.util.ArrayList;for(var r=0;r<t.length;r++){var n=t[r];var i=n.toPolygon(this.geometryFactory);e.add(i)}return e};jsts.operation.overlay.PolygonBuilder.prototype.containsPoint=function(t){for(var e=0;e<this.shellList.length;e++){var r=this.shellList[e];if(r.containsPoint(t))return true}return false};(function(){var t=jsts.util.Assert;var e=javascript.util.ArrayList;var r=function(t,r,n){this.lineEdgesList=new e;this.resultLineList=new e;this.op=t;this.geometryFactory=r;this.ptLocator=n};r.prototype.op=null;r.prototype.geometryFactory=null;r.prototype.ptLocator=null;r.prototype.lineEdgesList=null;r.prototype.resultLineList=null;r.prototype.build=function(t){this.findCoveredLineEdges();this.collectLines(t);this.buildLines(t);return this.resultLineList};r.prototype.findCoveredLineEdges=function(){for(var t=this.op.getGraph().getNodes().iterator();t.hasNext();){var e=t.next();e.getEdges().findCoveredLineEdges()}for(var r=this.op.getGraph().getEdgeEnds().iterator();r.hasNext();){var n=r.next();var i=n.getEdge();if(n.isLineEdge()&&!i.isCoveredSet()){var o=this.op.isCoveredByA(n.getCoordinate());i.setCovered(o)}}};r.prototype.collectLines=function(t){for(var e=this.op.getGraph().getEdgeEnds().iterator();e.hasNext();){var r=e.next();this.collectLineEdge(r,t,this.lineEdgesList);this.collectBoundaryTouchEdge(r,t,this.lineEdgesList)}};r.prototype.collectLineEdge=function(t,e,r){var n=t.getLabel();var i=t.getEdge();if(t.isLineEdge()){if(!t.isVisited()&&jsts.operation.overlay.OverlayOp.isResultOfOp(n,e)&&!i.isCovered()){r.add(i);t.setVisitedEdge(true)}}};r.prototype.collectBoundaryTouchEdge=function(e,r,n){var i=e.getLabel();if(e.isLineEdge())return;if(e.isVisited())return;if(e.isInteriorAreaEdge())return;if(e.getEdge().isInResult())return;t.isTrue(!(e.isInResult()||e.getSym().isInResult())||!e.getEdge().isInResult());if(jsts.operation.overlay.OverlayOp.isResultOfOp(i,r)&&r===jsts.operation.overlay.OverlayOp.INTERSECTION){n.add(e.getEdge());e.setVisitedEdge(true)}};r.prototype.buildLines=function(t){for(var e=this.lineEdgesList.iterator();e.hasNext();){var r=e.next();var n=r.getLabel();var i=this.geometryFactory.createLineString(r.getCoordinates());this.resultLineList.add(i);r.setInResult(true)}};r.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var r=e.next();var n=r.getLabel();if(r.isIsolated()){if(n.isNull(0))this.labelIsolatedLine(r,0);else this.labelIsolatedLine(r,1)}}};r.prototype.labelIsolatedLine=function(t,e){var r=ptLocator.locate(t.getCoordinate(),op.getArgGeometry(e));t.getLabel().setLocation(e,r)};jsts.operation.overlay.LineBuilder=r})();(function(){var t=javascript.util.ArrayList;var e=function(e,r,n){this.resultPointList=new t;this.op=e;this.geometryFactory=r};e.prototype.op=null;e.prototype.geometryFactory=null;e.prototype.resultPointList=null;e.prototype.build=function(t){this.extractNonCoveredResultNodes(t);return this.resultPointList};e.prototype.extractNonCoveredResultNodes=function(t){for(var e=this.op.getGraph().getNodes().iterator();e.hasNext();){var r=e.next();if(r.isInResult())continue;if(r.isIncidentEdgeInResult())continue;if(r.getEdges().getDegree()===0||t===jsts.operation.overlay.OverlayOp.INTERSECTION){var n=r.getLabel();if(jsts.operation.overlay.OverlayOp.isResultOfOp(n,t)){this.filterCoveredNodeToPoint(r)}}}};e.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this.op.isCoveredByLA(e)){var r=this.geometryFactory.createPoint(e);this.resultPointList.add(r)}};jsts.operation.overlay.PointBuilder=e})();(function(){var t=jsts.algorithm.PointLocator;var e=jsts.geom.Location;var r=jsts.geomgraph.EdgeList;var n=jsts.geomgraph.Label;var i=jsts.geomgraph.PlanarGraph;var o=jsts.geomgraph.Position;var s=jsts.geomgraph.EdgeNodingValidator;var a=jsts.operation.GeometryGraphOperation;var u=jsts.operation.overlay.OverlayNodeFactory;var p=jsts.operation.overlay.PolygonBuilder;var l=jsts.operation.overlay.LineBuilder;var g=jsts.operation.overlay.PointBuilder;var h=jsts.util.Assert;var f=javascript.util.ArrayList;jsts.operation.overlay.OverlayOp=function(e,n){this.ptLocator=new t;this.edgeList=new r;this.resultPolyList=new f;this.resultLineList=new f;this.resultPointList=new f;a.call(this,e,n);this.graph=new i(new u);this.geomFact=e.getFactory()};jsts.operation.overlay.OverlayOp.prototype=new a;jsts.operation.overlay.OverlayOp.constructor=jsts.operation.overlay.OverlayOp;jsts.operation.overlay.OverlayOp.INTERSECTION=1;jsts.operation.overlay.OverlayOp.UNION=2;jsts.operation.overlay.OverlayOp.DIFFERENCE=3;jsts.operation.overlay.OverlayOp.SYMDIFFERENCE=4;jsts.operation.overlay.OverlayOp.overlayOp=function(t,e,r){var n=new jsts.operation.overlay.OverlayOp(t,e);var i=n.getResultGeometry(r);return i};jsts.operation.overlay.OverlayOp.isResultOfOp=function(t,e){if(arguments.length===3){return jsts.operation.overlay.OverlayOp.isResultOfOp2.apply(this,arguments)}var r=t.getLocation(0);var n=t.getLocation(1);return jsts.operation.overlay.OverlayOp.isResultOfOp2(r,n,e)};jsts.operation.overlay.OverlayOp.isResultOfOp2=function(t,r,n){if(t==e.BOUNDARY)t=e.INTERIOR;if(r==e.BOUNDARY)r=e.INTERIOR;switch(n){case jsts.operation.overlay.OverlayOp.INTERSECTION:return t==e.INTERIOR&&r==e.INTERIOR;case jsts.operation.overlay.OverlayOp.UNION:return t==e.INTERIOR||r==e.INTERIOR;case jsts.operation.overlay.OverlayOp.DIFFERENCE:return t==e.INTERIOR&&r!=e.INTERIOR;case jsts.operation.overlay.OverlayOp.SYMDIFFERENCE:return t==e.INTERIOR&&r!=e.INTERIOR||t!=e.INTERIOR&&r==e.INTERIOR}return false};jsts.operation.overlay.OverlayOp.prototype.ptLocator=null;jsts.operation.overlay.OverlayOp.prototype.geomFact=null;jsts.operation.overlay.OverlayOp.prototype.resultGeom=null;jsts.operation.overlay.OverlayOp.prototype.graph=null;jsts.operation.overlay.OverlayOp.prototype.edgeList=null;jsts.operation.overlay.OverlayOp.prototype.resultPolyList=null;jsts.operation.overlay.OverlayOp.prototype.resultLineList=null;jsts.operation.overlay.OverlayOp.prototype.resultPointList=null;jsts.operation.overlay.OverlayOp.prototype.getResultGeometry=function(t){this.computeOverlay(t);return this.resultGeom};jsts.operation.overlay.OverlayOp.prototype.getGraph=function(){return this.graph};jsts.operation.overlay.OverlayOp.prototype.computeOverlay=function(t){this.copyPoints(0);this.copyPoints(1);this.arg[0].computeSelfNodes(this.li,false);this.arg[1].computeSelfNodes(this.li,false);this.arg[0].computeEdgeIntersections(this.arg[1],this.li,true);var e=new f;this.arg[0].computeSplitEdges(e);this.arg[1].computeSplitEdges(e);var r=e;this.insertUniqueEdges(e);this.computeLabelsFromDepths();this.replaceCollapsedEdges();s.checkValid(this.edgeList.getEdges());this.graph.addEdges(this.edgeList.getEdges());this.computeLabelling();this.labelIncompleteNodes();this.findResultAreaEdges(t);this.cancelDuplicateResultEdges();var n=new p(this.geomFact);n.add(this.graph);this.resultPolyList=n.getPolygons();var i=new l(this,this.geomFact,this.ptLocator);this.resultLineList=i.build(t);var o=new g(this,this.geomFact,this.ptLocator);this.resultPointList=o.build(t);this.resultGeom=this.computeGeometry(this.resultPointList,this.resultLineList,this.resultPolyList,t)};jsts.operation.overlay.OverlayOp.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var r=e.next();this.insertUniqueEdge(r)}};jsts.operation.overlay.OverlayOp.prototype.insertUniqueEdge=function(t){var e=this.edgeList.findEqualEdge(t);if(e!==null){var r=e.getLabel();var i=t.getLabel();if(!e.isPointwiseEqual(t)){i=new n(t.getLabel());i.flip()}var o=e.getDepth();if(o.isNull()){o.add(r)}o.add(i);r.merge(i)}else{this.edgeList.add(t)}};jsts.operation.overlay.OverlayOp.prototype.computeLabelsFromDepths=function(){for(var t=this.edgeList.iterator();t.hasNext();){var e=t.next();var r=e.getLabel();var n=e.getDepth();if(!n.isNull()){n.normalize();for(var i=0;i<2;i++){if(!r.isNull(i)&&r.isArea()&&!n.isNull(i)){if(n.getDelta(i)==0){r.toLine(i)}else{h.isTrue(!n.isNull(i,o.LEFT),"depth of LEFT side has not been initialized");r.setLocation(i,o.LEFT,n.getLocation(i,o.LEFT));h.isTrue(!n.isNull(i,o.RIGHT),"depth of RIGHT side has not been initialized");r.setLocation(i,o.RIGHT,n.getLocation(i,o.RIGHT))}}}}}};jsts.operation.overlay.OverlayOp.prototype.replaceCollapsedEdges=function(){var t=new f;for(var e=this.edgeList.iterator();e.hasNext();){var r=e.next();if(r.isCollapsed()){e.remove();t.add(r.getCollapsedEdge())}}this.edgeList.addAll(t)};jsts.operation.overlay.OverlayOp.prototype.copyPoints=function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var r=e.next();var n=this.graph.addNode(r.getCoordinate());n.setLabel(t,r.getLabel().getLocation(t))}};jsts.operation.overlay.OverlayOp.prototype.computeLabelling=function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();e.getEdges().computeLabelling(this.arg)}this.mergeSymLabels();this.updateNodeLabelling()};jsts.operation.overlay.OverlayOp.prototype.mergeSymLabels=function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();e.getEdges().mergeSymLabels()}};jsts.operation.overlay.OverlayOp.prototype.updateNodeLabelling=function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();var r=e.getEdges().getLabel();e.getLabel().merge(r)}};jsts.operation.overlay.OverlayOp.prototype.labelIncompleteNodes=function(){var t=0;for(var e=this.graph.getNodes().iterator();e.hasNext();){var r=e.next();var n=r.getLabel();if(r.isIsolated()){t++;if(n.isNull(0))this.labelIncompleteNode(r,0);else this.labelIncompleteNode(r,1)}r.getEdges().updateLabelling(n)}};jsts.operation.overlay.OverlayOp.prototype.labelIncompleteNode=function(t,e){var r=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setLocation(e,r)};jsts.operation.overlay.OverlayOp.prototype.findResultAreaEdges=function(t){for(var e=this.graph.getEdgeEnds().iterator();e.hasNext();){var r=e.next();var n=r.getLabel();if(n.isArea()&&!r.isInteriorAreaEdge()&&jsts.operation.overlay.OverlayOp.isResultOfOp(n.getLocation(0,o.RIGHT),n.getLocation(1,o.RIGHT),t)){r.setInResult(true)}}};jsts.operation.overlay.OverlayOp.prototype.cancelDuplicateResultEdges=function(){for(var t=this.graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next();var r=e.getSym();if(e.isInResult()&&r.isInResult()){
e.setInResult(false);r.setInResult(false)}}};jsts.operation.overlay.OverlayOp.prototype.isCoveredByLA=function(t){if(this.isCovered(t,this.resultLineList))return true;if(this.isCovered(t,this.resultPolyList))return true;return false};jsts.operation.overlay.OverlayOp.prototype.isCoveredByA=function(t){if(this.isCovered(t,this.resultPolyList))return true;return false};jsts.operation.overlay.OverlayOp.prototype.isCovered=function(t,r){for(var n=r.iterator();n.hasNext();){var i=n.next();var o=this.ptLocator.locate(t,i);if(o!=e.EXTERIOR)return true}return false};jsts.operation.overlay.OverlayOp.prototype.computeGeometry=function(t,e,r,n){var i=new f;i.addAll(t);i.addAll(e);i.addAll(r);return this.geomFact.buildGeometry(i)};jsts.operation.overlay.OverlayOp.prototype.createEmptyResult=function(t){var e=null;switch(resultDimension(t,this.arg[0].getGeometry(),this.arg[1].getGeometry())){case-1:e=geomFact.createGeometryCollection();break;case 0:e=geomFact.createPoint(null);break;case 1:e=geomFact.createLineString(null);break;case 2:e=geomFact.createPolygon(null,null);break}return e};jsts.operation.overlay.OverlayOp.prototype.resultDimension=function(t,e,r){var n=e.getDimension();var i=r.getDimension();var o=-1;switch(t){case jsts.operation.overlay.OverlayOp.INTERSECTION:o=Math.min(n,i);break;case jsts.operation.overlay.OverlayOp.UNION:o=Math.max(n,i);break;case jsts.operation.overlay.OverlayOp.DIFFERENCE:o=n;break;case jsts.operation.overlay.OverlayOp.SYMDIFFERENCE:o=Math.max(n,i);break}return o}})();(function(){var t=jsts.operation.overlay.OverlayOp;var e=jsts.operation.overlay.snap.GeometrySnapper;var r=function(t,e){this.geom=[];this.geom[0]=t;this.geom[1]=e;this.computeSnapTolerance()};r.overlayOp=function(t,e,n){var i=new r(t,e);return i.getResultGeometry(n)};r.intersection=function(e,r){return this.overlayOp(e,r,t.INTERSECTION)};r.union=function(e,r){return this.overlayOp(e,r,t.UNION)};r.difference=function(e,r){return overlayOp(e,r,t.DIFFERENCE)};r.symDifference=function(e,r){return overlayOp(e,r,t.SYMDIFFERENCE)};r.prototype.geom=null;r.prototype.snapTolerance=null;r.prototype.computeSnapTolerance=function(){this.snapTolerance=e.computeOverlaySnapTolerance(this.geom[0],this.geom[1])};r.prototype.getResultGeometry=function(e){var r=this.snap(this.geom);var n=t.overlayOp(r[0],r[1],e);return this.prepareResult(n)};r.prototype.selfSnap=function(t){var r=new e(t);var n=r.snapTo(t,this.snapTolerance);return n};r.prototype.snap=function(t){var r=t;var n=e.snap(r[0],r[1],this.snapTolerance);return n};r.prototype.prepareResult=function(t){return t};r.prototype.cbr=null;r.prototype.removeCommonBits=function(t){this.cbr=new jsts.precision.CommonBitsRemover;this.cbr.add(this.geom[0]);this.cbr.add(this.geom[1]);var e=[];e[0]=cbr.removeCommonBits(this.geom[0].clone());e[1]=cbr.removeCommonBits(this.geom[1].clone());return e};jsts.operation.overlay.snap.SnapOverlayOp=r})();jsts.geomgraph.index.EdgeSetIntersector=function(){};jsts.geomgraph.index.EdgeSetIntersector.prototype.computeIntersections=function(t,e,r){throw new jsts.error.AbstractMethodInvocationError};jsts.geomgraph.index.EdgeSetIntersector.prototype.computeIntersections2=function(t,e,r){throw new jsts.error.AbstractMethodInvocationError};jsts.geomgraph.index.SimpleMCSweepLineIntersector=function(){this.events=[]};jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype=new jsts.geomgraph.index.EdgeSetIntersector;jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype.events=null;jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype.nOverlaps=0;jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype.computeIntersections=function(t,e,r){if(e instanceof javascript.util.List){this.computeIntersections2.apply(this,arguments);return}if(r){this.addList2(t,null)}else{this.addList(t)}this.computeIntersections3(e)};jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype.computeIntersections2=function(t,e,r){this.addList2(t,t);this.addList2(e,e);this.computeIntersections3(r)};jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype.add=function(t,e){if(t instanceof javascript.util.List){this.addList.apply(this,arguments);return}var r=t.getMonotoneChainEdge();var n=r.getStartIndexes();for(var i=0;i<n.length-1;i++){var o=new jsts.geomgraph.index.MonotoneChain(r,i);var s=new jsts.geomgraph.index.SweepLineEvent(r.getMinX(i),o,e);this.events.push(s);this.events.push(new jsts.geomgraph.index.SweepLineEvent(r.getMaxX(i),s))}};jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype.addList=function(t){for(var e=t.iterator();e.hasNext();){var r=e.next();this.add(r,r)}};jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype.addList2=function(t,e){for(var r=t.iterator();r.hasNext();){var n=r.next();this.add(n,e)}};jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype.prepareEvents=function(){this.events.sort(function(t,e){return t.compareTo(e)});for(var t=0;t<this.events.length;t++){var e=this.events[t];if(e.isDelete()){e.getInsertEvent().setDeleteEventIndex(t)}}};jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype.computeIntersections3=function(t){this.nOverlaps=0;this.prepareEvents();for(var e=0;e<this.events.length;e++){var r=this.events[e];if(r.isInsert()){this.processOverlaps(e,r.getDeleteEventIndex(),r,t)}}};jsts.geomgraph.index.SimpleMCSweepLineIntersector.prototype.processOverlaps=function(t,e,r,n){var i=r.getObject();for(var o=t;o<e;o++){var s=this.events[o];if(s.isInsert()){var a=s.getObject();if(!r.isSameLabel(s)){i.computeIntersections(a,n);this.nOverlaps++}}}};jsts.algorithm.locate.SimplePointInAreaLocator=function(t){this.geom=t};jsts.algorithm.locate.SimplePointInAreaLocator.locate=function(t,e){if(e.isEmpty())return jsts.geom.Location.EXTERIOR;if(jsts.algorithm.locate.SimplePointInAreaLocator.containsPoint(t,e))return jsts.geom.Location.INTERIOR;return jsts.geom.Location.EXTERIOR};jsts.algorithm.locate.SimplePointInAreaLocator.containsPoint=function(t,e){if(e instanceof jsts.geom.Polygon){return jsts.algorithm.locate.SimplePointInAreaLocator.containsPointInPolygon(t,e)}else if(e instanceof jsts.geom.GeometryCollection||e instanceof jsts.geom.MultiPoint||e instanceof jsts.geom.MultiLineString||e instanceof jsts.geom.MultiPolygon){for(var r=0;r<e.geometries.length;r++){var n=e.geometries[r];if(n!==e)if(jsts.algorithm.locate.SimplePointInAreaLocator.containsPoint(t,n))return true}}return false};jsts.algorithm.locate.SimplePointInAreaLocator.containsPointInPolygon=function(t,e){if(e.isEmpty())return false;var r=e.getExteriorRing();if(!jsts.algorithm.locate.SimplePointInAreaLocator.isPointInRing(t,r))return false;for(var n=0;n<e.getNumInteriorRing();n++){var i=e.getInteriorRingN(n);if(jsts.algorithm.locate.SimplePointInAreaLocator.isPointInRing(t,i))return false}return true};jsts.algorithm.locate.SimplePointInAreaLocator.isPointInRing=function(t,e){if(!e.getEnvelopeInternal().intersects(t))return false;return jsts.algorithm.CGAlgorithms.isPointInRing(t,e.getCoordinates())};jsts.algorithm.locate.SimplePointInAreaLocator.prototype.geom=null;jsts.algorithm.locate.SimplePointInAreaLocator.prototype.locate=function(t){return jsts.algorithm.locate.SimplePointInAreaLocator.locate(t,geom)};(function(){var t=jsts.geom.Location;var e=jsts.geomgraph.Position;var r=jsts.geomgraph.EdgeEndStar;var n=jsts.util.Assert;jsts.geomgraph.DirectedEdgeStar=function(){jsts.geomgraph.EdgeEndStar.call(this)};jsts.geomgraph.DirectedEdgeStar.prototype=new r;jsts.geomgraph.DirectedEdgeStar.constructor=jsts.geomgraph.DirectedEdgeStar;jsts.geomgraph.DirectedEdgeStar.prototype.resultAreaEdgeList=null;jsts.geomgraph.DirectedEdgeStar.prototype.label=null;jsts.geomgraph.DirectedEdgeStar.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)};jsts.geomgraph.DirectedEdgeStar.prototype.getLabel=function(){return this.label};jsts.geomgraph.DirectedEdgeStar.prototype.getOutgoingDegree=function(){var t=0;for(var e=this.iterator();e.hasNext();){var r=e.next();if(r.isInResult())t++}return t};jsts.geomgraph.DirectedEdgeStar.prototype.getOutgoingDegree=function(t){var e=0;for(var r=this.iterator();r.hasNext();){var n=r.next();if(n.getEdgeRing()===t)e++}return e};jsts.geomgraph.DirectedEdgeStar.prototype.getRightmostEdge=function(){var t=this.getEdges();var e=t.size();if(e<1)return null;var r=t.get(0);if(e==1)return r;var i=t.get(e-1);var o=r.getQuadrant();var s=i.getQuadrant();if(jsts.geomgraph.Quadrant.isNorthern(o)&&jsts.geomgraph.Quadrant.isNorthern(s))return r;else if(!jsts.geomgraph.Quadrant.isNorthern(o)&&!jsts.geomgraph.Quadrant.isNorthern(s))return i;else{var a=null;if(r.getDy()!=0)return r;else if(i.getDy()!=0)return i}n.shouldNeverReachHere("found two horizontal edges incident on node");return null};jsts.geomgraph.DirectedEdgeStar.prototype.computeLabelling=function(e){r.prototype.computeLabelling.call(this,e);this.label=new jsts.geomgraph.Label(t.NONE);for(var n=this.iterator();n.hasNext();){var i=n.next();var o=i.getEdge();var s=o.getLabel();for(var a=0;a<2;a++){var u=s.getLocation(a);if(u===t.INTERIOR||u===t.BOUNDARY)this.label.setLocation(a,t.INTERIOR)}}};jsts.geomgraph.DirectedEdgeStar.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();var r=e.getLabel();r.merge(e.getSym().getLabel())}};jsts.geomgraph.DirectedEdgeStar.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var r=e.next();var n=r.getLabel();n.setAllLocationsIfNull(0,t.getLocation(0));n.setAllLocationsIfNull(1,t.getLocation(1))}};jsts.geomgraph.DirectedEdgeStar.prototype.getResultAreaEdges=function(){if(this.resultAreaEdgeList!==null)return this.resultAreaEdgeList;this.resultAreaEdgeList=new javascript.util.ArrayList;for(var t=this.iterator();t.hasNext();){var e=t.next();if(e.isInResult()||e.getSym().isInResult())this.resultAreaEdgeList.add(e)}return this.resultAreaEdgeList};jsts.geomgraph.DirectedEdgeStar.prototype.SCANNING_FOR_INCOMING=1;jsts.geomgraph.DirectedEdgeStar.prototype.LINKING_TO_OUTGOING=2;jsts.geomgraph.DirectedEdgeStar.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();var t=null;var e=null;var r=this.SCANNING_FOR_INCOMING;for(var i=0;i<this.resultAreaEdgeList.size();i++){var o=this.resultAreaEdgeList.get(i);var s=o.getSym();if(!o.getLabel().isArea())continue;if(t===null&&o.isInResult())t=o;switch(r){case this.SCANNING_FOR_INCOMING:if(!s.isInResult())continue;e=s;r=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(!o.isInResult())continue;e.setNext(o);r=this.SCANNING_FOR_INCOMING;break}}if(r===this.LINKING_TO_OUTGOING){if(t===null)throw new jsts.error.TopologyError("no outgoing dirEdge found",this.getCoordinate());n.isTrue(t.isInResult(),"unable to link last incoming dirEdge");e.setNext(t)}};jsts.geomgraph.DirectedEdgeStar.prototype.linkMinimalDirectedEdges=function(t){var e=null;var r=null;var i=this.SCANNING_FOR_INCOMING;for(var o=this.resultAreaEdgeList.size()-1;o>=0;o--){var s=this.resultAreaEdgeList.get(o);var a=s.getSym();if(e===null&&s.getEdgeRing()===t)e=s;switch(i){case this.SCANNING_FOR_INCOMING:if(a.getEdgeRing()!=t)continue;r=a;i=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(s.getEdgeRing()!==t)continue;r.setNextMin(s);i=this.SCANNING_FOR_INCOMING;break}}if(i===this.LINKING_TO_OUTGOING){n.isTrue(e!==null,"found null for first outgoing dirEdge");n.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge");r.setNextMin(e)}};jsts.geomgraph.DirectedEdgeStar.prototype.linkAllDirectedEdges=function(){this.getEdges();var t=null;var e=null;for(var r=this.edgeList.size()-1;r>=0;r--){var n=this.edgeList.get(r);var i=n.getSym();if(e===null)e=i;if(t!==null)i.setNext(t);t=n}e.setNext(t)};jsts.geomgraph.DirectedEdgeStar.prototype.findCoveredLineEdges=function(){var e=t.NONE;for(var r=this.iterator();r.hasNext();){var n=r.next();var i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){e=t.INTERIOR;break}if(i.isInResult()){e=t.EXTERIOR;break}}}if(e===t.NONE)return;var o=e;for(var r=this.iterator();r.hasNext();){var n=r.next();var i=n.getSym();if(n.isLineEdge()){n.getEdge().setCovered(o===t.INTERIOR)}else{if(n.isInResult())o=t.EXTERIOR;if(i.isInResult())o=t.INTERIOR}}};jsts.geomgraph.DirectedEdgeStar.prototype.computeDepths=function(t){if(arguments.length===2){this.computeDepths2.apply(this,arguments);return}var r=this.findIndex(t);var n=t.getLabel();var i=t.getDepth(e.LEFT);var o=t.getDepth(e.RIGHT);var s=this.computeDepths2(r+1,this.edgeList.size(),i);var a=this.computeDepths2(0,r,s);if(a!=o)throw new jsts.error.TopologyError("depth mismatch at "+t.getCoordinate())};jsts.geomgraph.DirectedEdgeStar.prototype.computeDepths2=function(t,r,n){var i=n;for(var o=t;o<r;o++){var s=this.edgeList.get(o);var a=s.getLabel();s.setEdgeDepths(e.RIGHT,i);i=s.getDepth(e.LEFT)}return i}})();jsts.algorithm.CentroidLine=function(){this.centSum=new jsts.geom.Coordinate};jsts.algorithm.CentroidLine.prototype.centSum=null;jsts.algorithm.CentroidLine.prototype.totalLength=0;jsts.algorithm.CentroidLine.prototype.add=function(t){if(t instanceof Array){this.add2.apply(this,arguments);return}if(t instanceof jsts.geom.LineString){this.add(t.getCoordinates())}else if(t instanceof jsts.geom.Polygon){var e=t;this.add(e.getExteriorRing().getCoordinates());for(var r=0;r<e.getNumInteriorRing();r++){this.add(e.getInteriorRingN(r).getCoordinates())}}else if(t instanceof jsts.geom.GeometryCollection||t instanceof jsts.geom.MultiPoint||t instanceof jsts.geom.MultiLineString||t instanceof jsts.geom.MultiPolygon){var n=t;for(var r=0;r<n.getNumGeometries();r++){this.add(n.getGeometryN(r))}}};jsts.algorithm.CentroidLine.prototype.getCentroid=function(){var t=new jsts.geom.Coordinate;t.x=this.centSum.x/this.totalLength;t.y=this.centSum.y/this.totalLength;return t};jsts.algorithm.CentroidLine.prototype.add2=function(t){for(var e=0;e<t.length-1;e++){var r=t[e].distance(t[e+1]);this.totalLength+=r;var n=(t[e].x+t[e+1].x)/2;this.centSum.x+=r*n;var i=(t[e].y+t[e+1].y)/2;this.centSum.y+=r*i}};jsts.index.IntervalSize=function(){};jsts.index.IntervalSize.MIN_BINARY_EXPONENT=-50;jsts.index.IntervalSize.isZeroWidth=function(t,e){var r=e-t;if(r===0){return true}var n,i,o;n=Math.max(Math.abs(t),Math.abs(e));i=r/n;o=jsts.index.DoubleBits.exponent(i);return o<=jsts.index.IntervalSize.MIN_BINARY_EXPONENT};jsts.geomgraph.index.SimpleEdgeSetIntersector=function(){};jsts.geomgraph.index.SimpleEdgeSetIntersector.prototype=new jsts.geomgraph.index.EdgeSetIntersector;jsts.geomgraph.index.SimpleEdgeSetIntersector.prototype.nOverlaps=0;jsts.geomgraph.index.SimpleEdgeSetIntersector.prototype.computeIntersections=function(t,e,r){if(e instanceof javascript.util.List){this.computeIntersections2.apply(this,arguments);return}this.nOverlaps=0;for(var n=t.iterator();n.hasNext();){var i=n.next();for(var o=t.iterator();o.hasNext();){var s=o.next();if(r||i!=s)this.computeIntersects(i,s,e)}}};jsts.geomgraph.index.SimpleEdgeSetIntersector.prototype.computeIntersections2=function(t,e,r){this.nOverlaps=0;for(var n=t.iterator();n.hasNext();){var i=n.next();for(var o=e.iterator();o.hasNext();){var s=o.next();this.computeIntersects(i,s,r)}}};jsts.geomgraph.index.SimpleEdgeSetIntersector.prototype.computeIntersects=function(t,e,r){var n=t.getCoordinates();var i=e.getCoordinates();var o,s;for(o=0;o<n.length-1;o++){for(s=0;s<i.length-1;s++){r.addIntersections(t,o,e,s)}}};jsts.geomgraph.Edge=function(t,e){this.pts=t;this.label=e;this.eiList=new jsts.geomgraph.EdgeIntersectionList(this);this.depth=new jsts.geomgraph.Depth};jsts.geomgraph.Edge.prototype=new jsts.geomgraph.GraphComponent;jsts.geomgraph.Edge.constructor=jsts.geomgraph.Edge;jsts.geomgraph.Edge.updateIM=function(t,e){e.setAtLeastIfValid(t.getLocation(0,jsts.geomgraph.Position.ON),t.getLocation(1,jsts.geomgraph.Position.ON),1);if(t.isArea()){e.setAtLeastIfValid(t.getLocation(0,jsts.geomgraph.Position.LEFT),t.getLocation(1,jsts.geomgraph.Position.LEFT),2);e.setAtLeastIfValid(t.getLocation(0,jsts.geomgraph.Position.RIGHT),t.getLocation(1,jsts.geomgraph.Position.RIGHT),2)}};jsts.geomgraph.Edge.prototype.pts=null;jsts.geomgraph.Edge.prototype.env=null;jsts.geomgraph.Edge.prototype.name=null;jsts.geomgraph.Edge.prototype.mce=null;jsts.geomgraph.Edge.prototype._isIsolated=true;jsts.geomgraph.Edge.prototype.depth=null;jsts.geomgraph.Edge.prototype.depthDelta=0;jsts.geomgraph.Edge.prototype.eiList=null;jsts.geomgraph.Edge.prototype.getNumPoints=function(){return this.pts.length};jsts.geomgraph.Edge.prototype.getEnvelope=function(){if(this.env===null){this.env=new jsts.geom.Envelope;for(var t=0;t<this.pts.length;t++){this.env.expandToInclude(pts[t])}}return env};jsts.geomgraph.Edge.prototype.getDepth=function(){return this.depth};jsts.geomgraph.Edge.prototype.getDepthDelta=function(){return this.depthDelta};jsts.geomgraph.Edge.prototype.setDepthDelta=function(t){this.depthDelta=t};jsts.geomgraph.Edge.prototype.getCoordinates=function(){return this.pts};jsts.geomgraph.Edge.prototype.getCoordinate=function(t){if(t===undefined){if(this.pts.length>0){return this.pts[0]}else{return null}}return this.pts[t]};jsts.geomgraph.Edge.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])};jsts.geomgraph.Edge.prototype.setIsolated=function(t){this._isIsolated=t};jsts.geomgraph.Edge.prototype.isIsolated=function(){return this._isIsolated};jsts.geomgraph.Edge.prototype.addIntersections=function(t,e,r){for(var n=0;n<t.getIntersectionNum();n++){this.addIntersection(t,e,r,n)}};jsts.geomgraph.Edge.prototype.addIntersection=function(t,e,r,n){var i=new jsts.geom.Coordinate(t.getIntersection(n));var o=e;var s=t.getEdgeDistance(r,n);var a=o+1;if(a<this.pts.length){var u=this.pts[a];if(i.equals2D(u)){o=a;s=0}}var p=this.eiList.add(i,o,s)};jsts.geomgraph.Edge.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1};jsts.geomgraph.Edge.prototype.getEdgeIntersectionList=function(){return this.eiList};jsts.geomgraph.Edge.prototype.getMonotoneChainEdge=function(){if(this.mce==null){this.mce=new jsts.geomgraph.index.MonotoneChainEdge(this)}return this.mce};jsts.geomgraph.Edge.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])};jsts.geomgraph.Edge.prototype.isCollapsed=function(){if(!this.label.isArea())return false;if(this.pts.length!=3)return false;if(this.pts[0].equals(this.pts[2]))return true;return false};jsts.geomgraph.Edge.prototype.getCollapsedEdge=function(){var t=[];t[0]=this.pts[0];t[1]=this.pts[1];var e=new jsts.geomgraph.Edge(t,jsts.geomgraph.Label.toLineLabel(this.label));return e};jsts.geomgraph.Edge.prototype.computeIM=function(t){jsts.geomgraph.Edge.updateIM(this.label,t)};jsts.geomgraph.Edge.prototype.isPointwiseEqual=function(t){if(this.pts.length!=t.pts.length)return false;for(var e=0;e<this.pts.length;e++){if(!this.pts[e].equals2D(t.pts[e])){return false}}return true};jsts.noding.Octant=function(){throw jsts.error.AbstractMethodInvocationError()};jsts.noding.Octant.octant=function(t,e){if(t instanceof jsts.geom.Coordinate){return jsts.noding.Octant.octant2.apply(this,arguments)}if(t===0&&e===0)throw new jsts.error.IllegalArgumentError("Cannot compute the octant for point ( "+t+", "+e+" )");var r=Math.abs(t);var n=Math.abs(e);if(t>=0){if(e>=0){if(r>=n)return 0;else return 1}else{if(r>=n)return 7;else return 6}}else{if(e>=0){if(r>=n)return 3;else return 2}else{if(r>=n)return 4;else return 5}}};jsts.noding.Octant.octant2=function(t,e){var r=e.x-t.x;var n=e.y-t.y;if(r===0&&n===0)throw new jsts.error.IllegalArgumentError("Cannot compute the octant for two identical points "+t);return jsts.noding.Octant.octant(r,n)};jsts.operation.union.UnionInteracting=function(t,e){this.g0=t;this.g1=e;this.geomFactory=t.getFactory();this.interacts0=[];this.interacts1=[]};jsts.operation.union.UnionInteracting.union=function(t,e){var r=new jsts.operation.union.UnionInteracting(t,e);return r.union()};jsts.operation.union.UnionInteracting.prototype.geomFactory=null;jsts.operation.union.UnionInteracting.prototype.g0=null;jsts.operation.union.UnionInteracting.prototype.g1=null;jsts.operation.union.UnionInteracting.prototype.interacts0=null;jsts.operation.union.UnionInteracting.prototype.interacts1=null;jsts.operation.union.UnionInteracting.prototype.union=function(){this.computeInteracting();var t=this.extractElements(this.g0,this.interacts0,true);var e=this.extractElements(this.g1,this.interacts1,true);if(t.isEmpty()||e.isEmpty()){}var r=in0.union(e);var n=this.extractElements(this.g0,this.interacts0,false);var i=this.extractElements(this.g1,this.interacts1,false);var o=jsts.geom.util.GeometryCombiner.combine(r,n,i);return o};jsts.operation.union.UnionInteracting.prototype.bufferUnion=function(t,e){var r=t.getFactory();var n=r.createGeometryCollection([t,e]);var i=n.buffer(0);return i};jsts.operation.union.UnionInteracting.prototype.computeInteracting=function(t){if(!t){for(var e=0,r=this.g0.getNumGeometries();e<r;e++){var n=this.g0.getGeometryN(e);this.interacts0[e]=this.computeInteracting(n)}}else{var i=false;for(var e=0,r=g1.getNumGeometries();e<r;e++){var o=this.g1.getGeometryN(e);var s=o.getEnvelopeInternal().intersects(t.getEnvelopeInternal());if(s){this.interacts1[e]=true;i=true}}return i}};jsts.operation.union.UnionInteracting.prototype.extractElements=function(t,e,r){var n=[];for(var i=0,o=t.getNumGeometries();i<o;i++){var s=t.getGeometryN(i);if(e[i]===r){n.push(s)}}return this.geomFactory.buildGeometry(n)};jsts.triangulate.quadedge.TrianglePredicate=function(){};jsts.triangulate.quadedge.TrianglePredicate.isInCircleNonRobust=function(t,e,r,n){var i=(t.x*t.x+t.y*t.y)*jsts.triangulate.quadedge.TrianglePredicate.triArea(e,r,n)-(e.x*e.x+e.y*e.y)*jsts.triangulate.quadedge.TrianglePredicate.triArea(t,r,n)+(r.x*r.x+r.y*r.y)*jsts.triangulate.quadedge.TrianglePredicate.triArea(t,e,n)-(n.x*n.x+n.y*n.y)*jsts.triangulate.quadedge.TrianglePredicate.triArea(t,e,r)>0;return i};jsts.triangulate.quadedge.TrianglePredicate.isInCircleNormalized=function(t,e,r,n){var i,o,s,a,u,p,l,g,h,f,c,d,m;i=t.x-n.x;o=t.y-n.y;s=e.x-n.x;a=e.y-n.y;u=r.x-n.x;p=r.y-n.y;l=i*a-s*o;g=s*p-u*a;h=u*o-i*p;f=i*i+o*o;c=s*s+a*a;d=u*u+p*p;m=f*g+c*h+d*l;return m>0};jsts.triangulate.quadedge.TrianglePredicate.triArea=function(t,e,r){return(e.x-t.x)*(r.y-t.y)-(e.y-t.y)*(r.x-t.x)};jsts.triangulate.quadedge.TrianglePredicate.isInCircleRobust=function(t,e,r,n){return jsts.triangulate.quadedge.TrianglePredicate.isInCircleNormalized(t,e,r,n)};jsts.triangulate.quadedge.TrianglePredicate.isInCircleDDSlow=function(t,e,r,n){var i,o,s,a,u,p,l,g,h,f,c,d,m,y;i=jsts.math.DD.valueOf(n.x);o=jsts.math.DD.valueOf(n.y);s=jsts.math.DD.valueOf(t.x);a=jsts.math.DD.valueOf(t.y);u=jsts.math.DD.valueOf(e.x);p=jsts.math.DD.valueOf(e.y);l=jsts.math.DD.valueOf(r.x);g=jsts.math.DD.valueOf(r.y);h=s.multiply(s).add(a.multiply(a)).multiply(jsts.triangulate.quadedge.TrianglePredicate.triAreaDDSlow(u,p,l,g,i,o));f=u.multiply(u).add(p.multiply(p)).multiply(jsts.triangulate.quadedge.TrianglePredicate.triAreaDDSlow(s,a,l,g,i,o));c=l.multiply(l).add(g.multiply(g)).multiply(jsts.triangulate.quadedge.TrianglePredicate.triAreaDDSlow(s,a,u,p,i,o));d=i.multiply(i).add(o.multiply(o)).multiply(jsts.triangulate.quadedge.TrianglePredicate.triAreaDDSlow(s,a,u,p,l,g));m=h.subtract(f).add(c).subtract(d);y=m.doubleValue()>0;return y};jsts.triangulate.quadedge.TrianglePredicate.triAreaDDSlow=function(t,e,r,n,i,o){return r.subtract(t).multiply(o.subtract(e)).subtract(n.subtract(e).multiply(i.subtract(t)))};jsts.triangulate.quadedge.TrianglePredicate.isInCircleDDFast=function(t,e,r,n){var i,o,s,a,u,p;i=jsts.math.DD.sqr(t.x).selfAdd(jsts.math.DD.sqr(t.y)).selfMultiply(jsts.triangulate.quadedge.TrianglePredicate.triAreaDDFast(e,r,n));o=jsts.math.DD.sqr(e.x).selfAdd(jsts.math.DD.sqr(e.y)).selfMultiply(jsts.triangulate.quadedge.TrianglePredicate.triAreaDDFast(t,r,n));s=jsts.math.DD.sqr(r.x).selfAdd(jsts.math.DD.sqr(r.y)).selfMultiply(jsts.triangulate.quadedge.TrianglePredicate.triAreaDDFast(t,e,n));a=jsts.math.DD.sqr(n.x).selfAdd(jsts.math.DD.sqr(n.y)).selfMultiply(jsts.triangulate.quadedge.TrianglePredicate.triAreaDDFast(t,e,r));u=i.selfSubtract(o).selfAdd(s).selfSubtract(a);p=u.doubleValue()>0;return p};jsts.triangulate.quadedge.TrianglePredicate.triAreaDDFast=function(t,e,r){var n,i;n=jsts.math.DD.valueOf(e.x).selfSubtract(t.x).selfMultiply(jsts.math.DD.valueOf(r.y).selfSubtract(t.y));i=jsts.math.DD.valueOf(e.y).selSubtract(t.y).selfMultiply(jsts.math.DD.valueOf(r.x).selfSubtract(t.x));return n.selfSubtract(i)};jsts.triangulate.quadedge.TrianglePredicate.isInCircleDDNormalized=function(t,e,r,n){var i,o,s,a,u,p,l,g,h,f,c,d,m,y;i=jsts.math.DD.valueOf(t.x).selfSubtract(n.x);o=jsts.math.DD.valueOf(t.y).selfSubtract(n.y);s=jsts.math.DD.valueOf(e.x).selfSubtract(n.x);s=jsts.math.DD.valueOf(e.y).selfSubtract(n.y);u=jsts.math.DD.valueOf(r.x).selfSubtract(n.x);u=jsts.math.DD.valueOf(r.y).selfSubtract(n.y);l=i.multiply(a).selfSubtract(s.multiply(o));g=s.multiply(p).selfSubtract(u.multiply(a));h=u.multiply(o).selfSubtract(i.multiply(p));f=i.multiply(i).selfAdd(o.multiply(o));c=s.multiply(s).selfAdd(a.multiply(a));d=u.multiply(u).selfAdd(p.multiply(p));m=f.selfMultiply(g).selfAdd(c.selfMultiply(h)).selfAdd(d.selfMultiply(l));y=m.doubleValue()>0;return y};jsts.triangulate.quadedge.TrianglePredicate.isInCircleCC=function(t,e,r,n){var i,o,s;i=jsts.geom.Triangle.circumcentre(t,e,r);o=t.distance(i);s=n.distance(i)-o;return s<=0};jsts.operation.union.PointGeometryUnion=function(t,e){this.pointGeom=t;this.otherGeom=e;this.geomFact=e.getFactory()};jsts.operation.union.PointGeometryUnion.union=function(t,e){var r=new jsts.operation.union.PointGeometryUnion(t,e);return r.union()};jsts.operation.union.PointGeometryUnion.prototype.pointGeom=null;jsts.operation.union.PointGeometryUnion.prototype.otherGeom=null;jsts.operation.union.PointGeometryUnion.prototype.geomFact=null;jsts.operation.union.PointGeometryUnion.prototype.union=function(){var t=new jsts.algorithm.PointLocator;var e=[];for(var r=0,n=this.pointGeom.getNumGeometries();r<n;r++){var i=this.pointGeom.getGeometryN(r);var o=i.getCoordinate();var s=t.locate(o,this.otherGeom);if(s===jsts.geom.Location.EXTERIOR){var a=true;for(var u=e.length;r--;){if(e[u].equals(o)){a=false;break}}if(a){e.push(o)}}}e.sort(function(t,e){return t.compareTo(e)});if(e.length===0){return this.otherGeom}var p=null;var l=jsts.geom.CoordinateArrays.toCoordinateArray(e);if(l.length===1){p=this.geomFact.createPoint(l[0])}else{p=this.geomFact.createMultiPoint(l)}return jsts.geom.util.GeometryCombiner.combine(p,this.otherGeom)};jsts.noding.IntersectionFinderAdder=function(t){this.li=t;this.interiorIntersections=new javascript.util.ArrayList};jsts.noding.IntersectionFinderAdder.prototype=new jsts.noding.SegmentIntersector;jsts.noding.IntersectionFinderAdder.constructor=jsts.noding.IntersectionFinderAdder;jsts.noding.IntersectionFinderAdder.prototype.li=null;jsts.noding.IntersectionFinderAdder.prototype.interiorIntersections=null;jsts.noding.IntersectionFinderAdder.prototype.getInteriorIntersections=function(){return this.interiorIntersections};jsts.noding.IntersectionFinderAdder.prototype.processIntersections=function(t,e,r,n){if(t===r&&e===n)return;var i=t.getCoordinates()[e];var o=t.getCoordinates()[e+1];var s=r.getCoordinates()[n];var a=r.getCoordinates()[n+1];this.li.computeIntersection(i,o,s,a);if(this.li.hasIntersection()){if(this.li.isInteriorIntersection()){for(var u=0;u<this.li.getIntersectionNum();u++){this.interiorIntersections.add(this.li.getIntersection(u))}t.addIntersections(this.li,e,0);r.addIntersections(this.li,n,1)}}};jsts.noding.IntersectionFinderAdder.prototype.isDone=function(){return false};jsts.noding.snapround.MCIndexSnapRounder=function(t){this.pm=t;this.li=new jsts.algorithm.RobustLineIntersector;this.li.setPrecisionModel(t);this.scaleFactor=t.getScale()};jsts.noding.snapround.MCIndexSnapRounder.prototype=new jsts.noding.Noder;jsts.noding.snapround.MCIndexSnapRounder.constructor=jsts.noding.snapround.MCIndexSnapRounder;jsts.noding.snapround.MCIndexSnapRounder.prototype.pm=null;jsts.noding.snapround.MCIndexSnapRounder.prototype.li=null;jsts.noding.snapround.MCIndexSnapRounder.prototype.scaleFactor=null;jsts.noding.snapround.MCIndexSnapRounder.prototype.noder=null;jsts.noding.snapround.MCIndexSnapRounder.prototype.pointSnapper=null;jsts.noding.snapround.MCIndexSnapRounder.prototype.nodedSegStrings=null;jsts.noding.snapround.MCIndexSnapRounder.prototype.getNodedSubstrings=function(){return jsts.noding.NodedSegmentString.getNodedSubstrings(this.nodedSegStrings)};jsts.noding.snapround.MCIndexSnapRounder.prototype.computeNodes=function(t){this.nodedSegStrings=t;this.noder=new jsts.noding.MCIndexNoder;this.pointSnapper=new jsts.noding.snapround.MCIndexPointSnapper(this.noder.getIndex());this.snapRound(t,this.li)};jsts.noding.snapround.MCIndexSnapRounder.prototype.snapRound=function(t,e){var r=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(r);this.computeVertexSnaps(t)};jsts.noding.snapround.MCIndexSnapRounder.prototype.findInteriorIntersections=function(t,e){var r=new jsts.noding.IntersectionFinderAdder(e);this.noder.setSegmentIntersector(r);this.noder.computeNodes(t);return r.getInteriorIntersections()};jsts.noding.snapround.MCIndexSnapRounder.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var r=e.next();var n=new jsts.noding.snapround.HotPixel(r,this.scaleFactor,this.li);this.pointSnapper.snap(n)}};jsts.noding.snapround.MCIndexSnapRounder.prototype.computeVertexSnaps=function(t){if(t instanceof jsts.noding.NodedSegmentString){this.computeVertexSnaps2.apply(this,arguments);return}for(var e=t.iterator();e.hasNext();){var r=e.next();this.computeVertexSnaps(r)}};jsts.noding.snapround.MCIndexSnapRounder.prototype.computeVertexSnaps2=function(t){var e=t.getCoordinates();for(var r=0;r<e.length-1;r++){var n=new jsts.noding.snapround.HotPixel(e[r],this.scaleFactor,this.li);var i=this.pointSnapper.snap(n,t,r);if(i){t.addIntersection(e[r],r)}}};jsts.operation.valid.ConnectedInteriorTester=function(t){this.geomGraph=t;this.geometryFactory=new jsts.geom.GeometryFactory;this.disconnectedRingcoord=null};jsts.operation.valid.ConnectedInteriorTester.findDifferentPoint=function(t,e){var r=0,n=t.length;for(r;r<n;r++){if(!t[r].equals(e))return t[r]}return null};jsts.operation.valid.ConnectedInteriorTester.prototype.getCoordinate=function(){return this.disconnectedRingcoord};jsts.operation.valid.ConnectedInteriorTester.prototype.isInteriorsConnected=function(){var t=new javascript.util.ArrayList;this.geomGraph.computeSplitEdges(t);var e=new jsts.geomgraph.PlanarGraph(new jsts.operation.overlay.OverlayNodeFactory);e.addEdges(t);this.setInteriorEdgesInResult(e);e.linkResultDirectedEdges();var r=this.buildEdgeRings(e.getEdgeEnds());this.visitShellInteriors(this.geomGraph.getGeometry(),e);return!this.hasUnvisitedShellEdge(r)};jsts.operation.valid.ConnectedInteriorTester.prototype.setInteriorEdgesInResult=function(t){var e=t.getEdgeEnds().iterator(),r;while(e.hasNext()){r=e.next();if(r.getLabel().getLocation(0,jsts.geomgraph.Position.RIGHT)==jsts.geom.Location.INTERIOR){r.setInResult(true)}}};jsts.operation.valid.ConnectedInteriorTester.prototype.buildEdgeRings=function(t){var e=new javascript.util.ArrayList;for(var r=t.iterator();r.hasNext();){var n=r.next();if(n.isInResult()&&n.getEdgeRing()==null){var i=new jsts.operation.overlay.MaximalEdgeRing(n,this.geometryFactory);i.linkDirectedEdgesForMinimalEdgeRings();var o=i.buildMinimalRings();var s=0,a=o.length;for(s;s<a;s++){e.add(o[s])}}}return e};jsts.operation.valid.ConnectedInteriorTester.prototype.visitShellInteriors=function(t,e){if(t instanceof jsts.geom.Polygon){var r=t;this.visitInteriorRing(r.getExteriorRing(),e)}if(t instanceof jsts.geom.MultiPolygon){var n=t;for(var i=0;i<n.getNumGeometries();i++){var r=n.getGeometryN(i);this.visitInteriorRing(r.getExteriorRing(),e)}}};jsts.operation.valid.ConnectedInteriorTester.prototype.visitInteriorRing=function(t,e){var r=t.getCoordinates();var n=r[0];var i=jsts.operation.valid.ConnectedInteriorTester.findDifferentPoint(r,n);

var o=e.findEdgeInSameDirection(n,i);var s=e.findEdgeEnd(o);var a=null;if(s.getLabel().getLocation(0,jsts.geomgraph.Position.RIGHT)==jsts.geom.Location.INTERIOR){a=s}else if(s.getSym().getLabel().getLocation(0,jsts.geomgraph.Position.RIGHT)==jsts.geom.Location.INTERIOR){a=s.getSym()}this.visitLinkedDirectedEdges(a)};jsts.operation.valid.ConnectedInteriorTester.prototype.visitLinkedDirectedEdges=function(t){var e=t;var r=t;do{r.setVisited(true);r=r.getNext()}while(r!=e)};jsts.operation.valid.ConnectedInteriorTester.prototype.hasUnvisitedShellEdge=function(t){for(var e=0;e<t.size();e++){var r=t.get(e);if(r.isHole()){continue}var n=r.getEdges();var i=n[0];if(i.getLabel().getLocation(0,jsts.geomgraph.Position.RIGHT)!=jsts.geom.Location.INTERIOR){continue}for(var o=0;o<n.length;o++){i=n[o];if(!i.isVisited()){disconnectedRingcoord=i.getCoordinate();return true}}}return false};jsts.algorithm.InteriorPointLine=function(t){this.centroid;this.minDistance=Number.MAX_VALUE;this.interiorPoint=null;this.centroid=t.getCentroid().getCoordinate();this.addInterior(t);if(this.interiorPoint==null){this.addEndpoints(t)}};jsts.algorithm.InteriorPointLine.prototype.getInteriorPoint=function(){return this.interiorPoint};jsts.algorithm.InteriorPointLine.prototype.addInterior=function(t){if(t instanceof jsts.geom.LineString){this.addInteriorCoord(t.getCoordinates())}else if(t instanceof jsts.geom.GeometryCollection){for(var e=0;e<t.getNumGeometries();e++){this.addInterior(t.getGeometryN(e))}}};jsts.algorithm.InteriorPointLine.prototype.addInteriorCoord=function(t){for(var e=1;e<t.length-1;e++){this.add(t[e])}};jsts.algorithm.InteriorPointLine.prototype.addEndpoints=function(t){if(t instanceof jsts.geom.LineString){this.addEndpointsCoord(t.getCoordinates())}else if(t instanceof jsts.geom.GeometryCollection){for(var e=0;e<t.getNumGeometries();e++){this.addEndpoints(t.getGeometryN(e))}}};jsts.algorithm.InteriorPointLine.prototype.addEndpointsCoord=function(t){this.add(t[0]);this.add(t[t.length-1])};jsts.algorithm.InteriorPointLine.prototype.add=function(t){var e=t.distance(this.centroid);if(e<this.minDistance){this.interiorPoint=new jsts.geom.Coordinate(t);this.minDistance=e}};jsts.index.chain.MonotoneChainSelectAction=function(){this.tempEnv1=new jsts.geom.Envelope;this.selectedSegment=new jsts.geom.LineSegment};jsts.index.chain.MonotoneChainSelectAction.prototype.tempEnv1=null;jsts.index.chain.MonotoneChainSelectAction.prototype.selectedSegment=null;jsts.index.chain.MonotoneChainSelectAction.prototype.select=function(t,e){t.getLineSegment(e,this.selectedSegment);this.select2(this.selectedSegment)};jsts.index.chain.MonotoneChainSelectAction.prototype.select2=function(t){};jsts.algorithm.MCPointInRing=function(t){this.ring=t;this.tree=null;this.crossings=0;this.interval=new jsts.index.bintree.Interval;this.buildIndex()};jsts.algorithm.MCPointInRing.MCSelecter=function(t,e){this.parent=e;this.p=t};jsts.algorithm.MCPointInRing.MCSelecter.prototype=new jsts.index.chain.MonotoneChainSelectAction;jsts.algorithm.MCPointInRing.MCSelecter.prototype.constructor=jsts.algorithm.MCPointInRing.MCSelecter;jsts.algorithm.MCPointInRing.MCSelecter.prototype.select2=function(t){this.parent.testLineSegment.apply(this.parent,[this.p,t])};jsts.algorithm.MCPointInRing.prototype.buildIndex=function(){this.tree=new jsts.index.bintree.Bintree;var t=jsts.geom.CoordinateArrays.removeRepeatedPoints(this.ring.getCoordinates());var e=jsts.index.chain.MonotoneChainBuilder.getChains(t);for(var r=0;r<e.length;r++){var n=e[r];var i=n.getEnvelope();this.interval.min=i.getMinY();this.interval.max=i.getMaxY();this.tree.insert(this.interval,n)}};jsts.algorithm.MCPointInRing.prototype.isInside=function(t){this.crossings=0;var e=new jsts.geom.Envelope(-Number.MAX_VALUE,Number.MAX_VALUE,t.y,t.y);this.interval.min=t.y;this.interval.max=t.y;var r=this.tree.query(this.interval);var n=new jsts.algorithm.MCPointInRing.MCSelecter(t,this);for(var i=r.iterator();i.hasNext();){var o=i.next();this.testMonotoneChain(e,n,o)}if(this.crossings%2==1){return true}return false};jsts.algorithm.MCPointInRing.prototype.testMonotoneChain=function(t,e,r){r.select(t,e)};jsts.algorithm.MCPointInRing.prototype.testLineSegment=function(t,e){var r,n,i,o,s,a,u;a=e.p0;u=e.p1;n=a.x-t.x;i=a.y-t.y;o=u.x-t.x;s=u.y-t.y;if(i>0&&s<=0||s>0&&i<=0){r=jsts.algorithm.RobustDeterminant.signOfDet2x2(n,i,o,s)/(s-i);if(0<r){this.crossings++}}};jsts.operation.valid.TopologyValidationError=function(t,e){this.errorType=t;this.pt=null;if(e!=null){this.pt=e.clone()}};jsts.operation.valid.TopologyValidationError.HOLE_OUTSIDE_SHELL=2;jsts.operation.valid.TopologyValidationError.NESTED_HOLES=3;jsts.operation.valid.TopologyValidationError.DISCONNECTED_INTERIOR=4;jsts.operation.valid.TopologyValidationError.SELF_INTERSECTION=5;jsts.operation.valid.TopologyValidationError.RING_SELF_INTERSECTION=6;jsts.operation.valid.TopologyValidationError.NESTED_SHELLS=7;jsts.operation.valid.TopologyValidationError.DUPLICATE_RINGS=8;jsts.operation.valid.TopologyValidationError.TOO_FEW_POINTS=9;jsts.operation.valid.TopologyValidationError.INVALID_COORDINATE=10;jsts.operation.valid.TopologyValidationError.RING_NOT_CLOSED=11;jsts.operation.valid.TopologyValidationError.prototype.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"];jsts.operation.valid.TopologyValidationError.prototype.getCoordinate=function(){return this.pt};jsts.operation.valid.TopologyValidationError.prototype.getErrorType=function(){return this.errorType};jsts.operation.valid.TopologyValidationError.prototype.getMessage=function(){return this.errMsg[this.errorType]};jsts.operation.valid.TopologyValidationError.prototype.toString=function(){var t="";if(this.pt!=null){t=" at or near point "+this.pt;return this.getMessage()+t}return t};(function(){jsts.geom.MultiPolygon=function(t,e){this.geometries=t||[];this.factory=e};jsts.geom.MultiPolygon.prototype=new jsts.geom.GeometryCollection;jsts.geom.MultiPolygon.constructor=jsts.geom.MultiPolygon;jsts.geom.MultiPolygon.prototype.getBoundary=function(){if(this.isEmpty()){return this.getFactory().createMultiLineString(null)}var t=[];for(var e=0;e<this.geometries.length;e++){var r=this.geometries[e];var n=r.getBoundary();for(var i=0;i<n.getNumGeometries();i++){t.push(n.getGeometryN(i))}}return this.getFactory().createMultiLineString(t)};jsts.geom.MultiPolygon.prototype.equalsExact=function(t,e){if(!this.isEquivalentClass(t)){return false}return jsts.geom.GeometryCollection.prototype.equalsExact.call(this,t,e)};jsts.geom.MultiPolygon.prototype.CLASS_NAME="jsts.geom.MultiPolygon"})();jsts.geom.CoordinateSequenceFilter=function(){};jsts.geom.CoordinateSequenceFilter.prototype.filter=jsts.abstractFunc;jsts.geom.CoordinateSequenceFilter.prototype.isDone=jsts.abstractFunc;jsts.geom.CoordinateSequenceFilter.prototype.isGeometryChanged=jsts.abstractFunc;(function(){var t=function(){this.min=0;this.max=0;if(arguments.length===1){var t=arguments[0];this.init(t.min,t.max)}else if(arguments.length===2){this.init(arguments[0],arguments[1])}};t.prototype.init=function(t,e){this.min=t;this.max=e;if(t>e){this.min=e;this.max=t}};t.prototype.getMin=function(){return this.min};t.prototype.getMax=function(){return this.max};t.prototype.getWidth=function(){return this.max-this.min};t.prototype.expandToInclude=function(t){if(t.max>this.max){this.max=t.max}if(t.min<this.min){this.min=t.min}};t.prototype.overlaps=function(){if(arguments.length===1){return this.overlapsInterval.apply(this,arguments)}else{return this.overlapsMinMax.apply(this,arguments)}};t.prototype.overlapsInterval=function(t){return this.overlaps(t.min,t.max)};t.prototype.overlapsMinMax=function(t,e){if(this.min>e||this.max<t){return false}return true};t.prototype.contains=function(){var t;if(arguments[0]instanceof jsts.index.bintree.Interval){t=arguments[0];return this.containsMinMax(t.min,t.max)}else if(arguments.length===1){return this.containsPoint(arguments[0])}else{return this.containsMinMax(arguments[0],arguments[1])}};t.prototype.containsMinMax=function(t,e){return t>=this.min&&e<=this.max};t.prototype.containsPoint=function(t){return t>=this.min&&t<=this.max};jsts.index.bintree.Interval=t})();jsts.index.DoubleBits=function(){};jsts.index.DoubleBits.powerOf2=function(t){return Math.pow(2,t)};jsts.index.DoubleBits.exponent=function(t){return jsts.index.DoubleBits.CVTFWD(64,t)-1023};jsts.index.DoubleBits.CVTFWD=function(t,e){var r,n,i,o,s="";var a={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}};var u={32:8,64:11}[t],p=t-u-1;if(!o){r=e<0||1/e<0;if(!isFinite(e)){o=a[t];if(r){o.d+=1<<t/4-1}n=Math.pow(2,u)-1;i=0}}if(!o){n={32:127,64:1023}[t];i=Math.abs(e);while(i>=2){n++;i/=2}while(i<1&&n>0){n--;i*=2}if(n<=0){i/=2;s="Zero or Denormal"}if(t===32&&n>254){s="Too big for Single";o={d:r?255:127,c:128,b:0,a:0};n=Math.pow(2,u)-1;i=0}}return n};(function(){var t=jsts.index.DoubleBits;var e=jsts.index.bintree.Interval;var r=function(t){this.pt=0;this.level=0;this.computeKey(t)};r.computeLevel=function(e){var r=e.getWidth(),n;n=t.exponent(r)+1;return n};r.prototype.getPoint=function(){return this.pt};r.prototype.getLevel=function(){return this.level};r.prototype.getInterval=function(){return this.interval};r.prototype.computeKey=function(t){this.level=r.computeLevel(t);this.interval=new e;this.computeInterval(this.level,t);while(!this.interval.contains(t)){this.level+=1;this.computeInterval(this.level,t)}};r.prototype.computeInterval=function(e,r){var n=t.powerOf2(e);this.pt=Math.floor(r.getMin()/n)*n;this.interval.init(this.pt,this.pt+n)};jsts.index.bintree.Key=r})();jsts.operation.buffer.SubgraphDepthLocater=function(t){this.subgraphs=[];this.seg=new jsts.geom.LineSegment;this.subgraphs=t};jsts.operation.buffer.SubgraphDepthLocater.prototype.subgraphs=null;jsts.operation.buffer.SubgraphDepthLocater.prototype.seg=null;jsts.operation.buffer.SubgraphDepthLocater.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);if(e.length===0)return 0;e.sort();var r=e[0];return r.leftDepth};jsts.operation.buffer.SubgraphDepthLocater.prototype.findStabbedSegments=function(t){if(arguments.length===3){this.findStabbedSegments2.apply(this,arguments);return}var e=[];for(var r=0;r<this.subgraphs.length;r++){var n=this.subgraphs[r];var i=n.getEnvelope();if(t.y<i.getMinY()||t.y>i.getMaxY())continue;this.findStabbedSegments2(t,n.getDirectedEdges(),e)}return e};jsts.operation.buffer.SubgraphDepthLocater.prototype.findStabbedSegments2=function(t,e,r){if(arguments[1]instanceof jsts.geomgraph.DirectedEdge){this.findStabbedSegments3(t,e,r);return}for(var n=e.iterator();n.hasNext();){var i=n.next();if(!i.isForward())continue;this.findStabbedSegments3(t,i,r)}};jsts.operation.buffer.SubgraphDepthLocater.prototype.findStabbedSegments3=function(t,e,r){var n=e.getEdge().getCoordinates();for(var i=0;i<n.length-1;i++){this.seg.p0=n[i];this.seg.p1=n[i+1];if(this.seg.p0.y>this.seg.p1.y)this.seg.reverse();var o=Math.max(this.seg.p0.x,this.seg.p1.x);if(o<t.x)continue;if(this.seg.isHorizontal())continue;if(t.y<this.seg.p0.y||t.y>this.seg.p1.y)continue;if(jsts.algorithm.CGAlgorithms.computeOrientation(this.seg.p0,this.seg.p1,t)===jsts.algorithm.CGAlgorithms.RIGHT)continue;var s=e.getDepth(jsts.geomgraph.Position.LEFT);if(!this.seg.p0.equals(n[i]))s=e.getDepth(jsts.geomgraph.Position.RIGHT);var a=new jsts.operation.buffer.SubgraphDepthLocater.DepthSegment(this.seg,s);r.push(a)}};jsts.operation.buffer.SubgraphDepthLocater.DepthSegment=function(t,e){this.upwardSeg=new jsts.geom.LineSegment(t);this.leftDepth=e};jsts.operation.buffer.SubgraphDepthLocater.DepthSegment.prototype.upwardSeg=null;jsts.operation.buffer.SubgraphDepthLocater.DepthSegment.prototype.leftDepth=null;jsts.operation.buffer.SubgraphDepthLocater.DepthSegment.prototype.compareTo=function(t){var e=t;var r=this.upwardSeg.orientationIndex(e.upwardSeg);if(r===0)r=-1*e.upwardSeg.orientationIndex(upwardSeg);if(r!==0)return r;return this.compareX(this.upwardSeg,e.upwardSeg)};jsts.operation.buffer.SubgraphDepthLocater.DepthSegment.prototype.compareX=function(t,e){var r=t.p0.compareTo(e.p0);if(r!==0)return r;return t.p1.compareTo(e.p1)};jsts.noding.snapround.HotPixel=function(t,e,r){this.corner=[];this.originalPt=t;this.pt=t;this.scaleFactor=e;this.li=r;if(this.scaleFactor!==1){this.pt=new jsts.geom.Coordinate(this.scale(t.x),this.scale(t.y));this.p0Scaled=new jsts.geom.Coordinate;this.p1Scaled=new jsts.geom.Coordinate}this.initCorners(this.pt)};jsts.noding.snapround.HotPixel.prototype.li=null;jsts.noding.snapround.HotPixel.prototype.pt=null;jsts.noding.snapround.HotPixel.prototype.originalPt=null;jsts.noding.snapround.HotPixel.prototype.ptScaled=null;jsts.noding.snapround.HotPixel.prototype.p0Scaled=null;jsts.noding.snapround.HotPixel.prototype.p1Scaled=null;jsts.noding.snapround.HotPixel.prototype.scaleFactor=undefined;jsts.noding.snapround.HotPixel.prototype.minx=undefined;jsts.noding.snapround.HotPixel.prototype.maxx=undefined;jsts.noding.snapround.HotPixel.prototype.miny=undefined;jsts.noding.snapround.HotPixel.prototype.maxy=undefined;jsts.noding.snapround.HotPixel.prototype.corner=null;jsts.noding.snapround.HotPixel.prototype.safeEnv=null;jsts.noding.snapround.HotPixel.prototype.getCoordinate=function(){return this.originalPt};jsts.noding.snapround.HotPixel.SAFE_ENV_EXPANSION_FACTOR=.75;jsts.noding.snapround.HotPixel.prototype.getSafeEnvelope=function(){if(this.safeEnv===null){var t=jsts.noding.snapround.HotPixel.SAFE_ENV_EXPANSION_FACTOR/this.scaleFactor;this.safeEnv=new jsts.geom.Envelope(this.originalPt.x-t,this.originalPt.x+t,this.originalPt.y-t,this.originalPt.y+t)}return this.safeEnv};jsts.noding.snapround.HotPixel.prototype.initCorners=function(t){var e=.5;this.minx=t.x-e;this.maxx=t.x+e;this.miny=t.y-e;this.maxy=t.y+e;this.corner[0]=new jsts.geom.Coordinate(this.maxx,this.maxy);this.corner[1]=new jsts.geom.Coordinate(this.minx,this.maxy);this.corner[2]=new jsts.geom.Coordinate(this.minx,this.miny);this.corner[3]=new jsts.geom.Coordinate(this.maxx,this.miny)};jsts.noding.snapround.HotPixel.prototype.scale=function(t){return Math.round(t*this.scaleFactor)};jsts.noding.snapround.HotPixel.prototype.intersects=function(t,e){if(this.scaleFactor===1)return this.intersectsScaled(t,e);this.copyScaled(t,this.p0Scaled);this.copyScaled(e,this.p1Scaled);return this.intersectsScaled(this.p0Scaled,this.p1Scaled)};jsts.noding.snapround.HotPixel.prototype.copyScaled=function(t,e){e.x=this.scale(t.x);e.y=this.scale(t.y)};jsts.noding.snapround.HotPixel.prototype.intersectsScaled=function(t,e){var r=Math.min(t.x,e.x);var n=Math.max(t.x,e.x);var i=Math.min(t.y,e.y);var o=Math.max(t.y,e.y);var s=this.maxx<r||this.minx>n||this.maxy<i||this.miny>o;if(s)return false;var a=this.intersectsToleranceSquare(t,e);jsts.util.Assert.isTrue(!(s&&a),"Found bad envelope test");return a};jsts.noding.snapround.HotPixel.prototype.intersectsToleranceSquare=function(t,e){var r=false;var n=false;this.li.computeIntersection(t,e,this.corner[0],this.corner[1]);if(this.li.isProper())return true;this.li.computeIntersection(t,e,this.corner[1],this.corner[2]);if(this.li.isProper())return true;if(this.li.hasIntersection())r=true;this.li.computeIntersection(t,e,this.corner[2],this.corner[3]);if(this.li.isProper())return true;if(this.li.hasIntersection())n=true;this.li.computeIntersection(t,e,this.corner[3],this.corner[0]);if(this.li.isProper())return true;if(r&&n)return true;if(t.equals(this.pt))return true;if(e.equals(this.pt))return true;return false};jsts.noding.snapround.HotPixel.prototype.intersectsPixelClosure=function(t,e){this.li.computeIntersection(t,e,this.corner[0],this.corner[1]);if(this.li.hasIntersection())return true;this.li.computeIntersection(t,e,this.corner[1],this.corner[2]);if(this.li.hasIntersection())return true;this.li.computeIntersection(t,e,this.corner[2],this.corner[3]);if(this.li.hasIntersection())return true;this.li.computeIntersection(t,e,this.corner[3],this.corner[0]);if(this.li.hasIntersection())return true;return false};jsts.noding.snapround.HotPixel.prototype.addSnappedNode=function(t,e){var r=t.getCoordinate(e);var n=t.getCoordinate(e+1);if(this.intersects(r,n)){t.addIntersection(this.getCoordinate(),e);return true}return false};jsts.operation.buffer.BufferInputLineSimplifier=function(t){this.inputLine=t};jsts.operation.buffer.BufferInputLineSimplifier.simplify=function(t,e){var r=new jsts.operation.buffer.BufferInputLineSimplifier(t);return r.simplify(e)};jsts.operation.buffer.BufferInputLineSimplifier.INIT=0;jsts.operation.buffer.BufferInputLineSimplifier.DELETE=1;jsts.operation.buffer.BufferInputLineSimplifier.KEEP=1;jsts.operation.buffer.BufferInputLineSimplifier.prototype.inputLine=null;jsts.operation.buffer.BufferInputLineSimplifier.prototype.distanceTol=null;jsts.operation.buffer.BufferInputLineSimplifier.prototype.isDeleted=null;jsts.operation.buffer.BufferInputLineSimplifier.prototype.angleOrientation=jsts.algorithm.CGAlgorithms.COUNTERCLOCKWISE;jsts.operation.buffer.BufferInputLineSimplifier.prototype.simplify=function(t){this.distanceTol=Math.abs(t);if(t<0)this.angleOrientation=jsts.algorithm.CGAlgorithms.CLOCKWISE;this.isDeleted=[];this.isDeleted.length=this.inputLine.length;var e=false;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()};jsts.operation.buffer.BufferInputLineSimplifier.prototype.deleteShallowConcavities=function(){var t=1;var e=this.inputLine.length-1;var r=this.findNextNonDeletedIndex(t);var n=this.findNextNonDeletedIndex(r);var i=false;while(n<this.inputLine.length){var o=false;if(this.isDeletable(t,r,n,this.distanceTol)){this.isDeleted[r]=jsts.operation.buffer.BufferInputLineSimplifier.DELETE;o=true;i=true}if(o)t=n;else t=r;r=this.findNextNonDeletedIndex(t);n=this.findNextNonDeletedIndex(r)}return i};jsts.operation.buffer.BufferInputLineSimplifier.prototype.findNextNonDeletedIndex=function(t){var e=t+1;while(e<this.inputLine.length&&this.isDeleted[e]===jsts.operation.buffer.BufferInputLineSimplifier.DELETE)e++;return e};jsts.operation.buffer.BufferInputLineSimplifier.prototype.collapseLine=function(){var t=[];for(var e=0;e<this.inputLine.length;e++){if(this.isDeleted[e]!==jsts.operation.buffer.BufferInputLineSimplifier.DELETE)t.push(this.inputLine[e])}return t};jsts.operation.buffer.BufferInputLineSimplifier.prototype.isDeletable=function(t,e,r,n){var i=this.inputLine[t];var o=this.inputLine[e];var s=this.inputLine[r];if(!this.isConcave(i,o,s))return false;if(!this.isShallow(i,o,s,n))return false;return this.isShallowSampled(i,o,t,r,n)};jsts.operation.buffer.BufferInputLineSimplifier.prototype.isShallowConcavity=function(t,e,r,n){var i=jsts.algorithm.CGAlgorithms.computeOrientation(t,e,r);var o=i===this.angleOrientation;if(!o)return false;var s=jsts.algorithm.CGAlgorithms.distancePointLine(e,t,r);return s<n};jsts.operation.buffer.BufferInputLineSimplifier.NUM_PTS_TO_CHECK=10;jsts.operation.buffer.BufferInputLineSimplifier.prototype.isShallowSampled=function(t,e,r,n,i){var o=parseInt((n-r)/jsts.operation.buffer.BufferInputLineSimplifier.NUM_PTS_TO_CHECK);if(o<=0)o=1;for(var s=r;s<n;s+=o){if(!this.isShallow(t,e,this.inputLine[s],i))return false}return true};jsts.operation.buffer.BufferInputLineSimplifier.prototype.isShallow=function(t,e,r,n){var i=jsts.algorithm.CGAlgorithms.distancePointLine(e,t,r);return i<n};jsts.operation.buffer.BufferInputLineSimplifier.prototype.isConcave=function(t,e,r){var n=jsts.algorithm.CGAlgorithms.computeOrientation(t,e,r);var i=n===this.angleOrientation;return i};jsts.geomgraph.index.SweepLineEvent=function(t,e,r){if(!(e instanceof jsts.geomgraph.index.SweepLineEvent)){this.eventType=jsts.geomgraph.index.SweepLineEvent.INSERT;this.label=r;this.xValue=t;this.obj=e;return}this.eventType=jsts.geomgraph.index.SweepLineEvent.DELETE;this.xValue=t;this.insertEvent=e};jsts.geomgraph.index.SweepLineEvent.INSERT=1;jsts.geomgraph.index.SweepLineEvent.DELETE=2;jsts.geomgraph.index.SweepLineEvent.prototype.label=null;jsts.geomgraph.index.SweepLineEvent.prototype.xValue=null;jsts.geomgraph.index.SweepLineEvent.prototype.eventType=null;jsts.geomgraph.index.SweepLineEvent.prototype.insertEvent=null;jsts.geomgraph.index.SweepLineEvent.prototype.deleteEventIndex=null;jsts.geomgraph.index.SweepLineEvent.prototype.obj=null;jsts.geomgraph.index.SweepLineEvent.prototype.isInsert=function(){return this.eventType==jsts.geomgraph.index.SweepLineEvent.INSERT};jsts.geomgraph.index.SweepLineEvent.prototype.isDelete=function(){return this.eventType==jsts.geomgraph.index.SweepLineEvent.DELETE};jsts.geomgraph.index.SweepLineEvent.prototype.getInsertEvent=function(){return this.insertEvent};jsts.geomgraph.index.SweepLineEvent.prototype.getDeleteEventIndex=function(){return this.deleteEventIndex};jsts.geomgraph.index.SweepLineEvent.prototype.setDeleteEventIndex=function(t){this.deleteEventIndex=t};jsts.geomgraph.index.SweepLineEvent.prototype.getObject=function(){return this.obj};jsts.geomgraph.index.SweepLineEvent.prototype.isSameLabel=function(t){if(this.label==null){return false}return this.label==t.label};jsts.geomgraph.index.SweepLineEvent.prototype.compareTo=function(t){if(this.xValue<t.xValue){return-1}if(this.xValue>t.xValue){return 1}if(this.eventType<t.eventType){return-1}if(this.eventType>t.eventType){return 1}return 0};jsts.geom.CoordinateList=function(t,e){this.array=[];e=e===undefined?true:e;if(t!==undefined){this.add(t,e)}};jsts.geom.CoordinateList.prototype=new javascript.util.ArrayList;jsts.geom.CoordinateList.prototype.iterator=null;jsts.geom.CoordinateList.prototype.remove=null;jsts.geom.CoordinateList.prototype.get=function(t){return this.array[t]};jsts.geom.CoordinateList.prototype.set=function(t,e){var r=this.array[t];this.array[t]=e;return r};jsts.geom.CoordinateList.prototype.size=function(){return this.array.length};jsts.geom.CoordinateList.prototype.add=function(){if(arguments.length>1){return this.addCoordinates.apply(this,arguments)}else{return this.array.push(arguments[0])}};jsts.geom.CoordinateList.prototype.addCoordinates=function(t,e,r){if(t instanceof jsts.geom.Coordinate){return this.addCoordinate.apply(this,arguments)}else if(typeof t==="number"){return this.insertCoordinate.apply(this,arguments)}r=r||true;if(r){for(var n=0;n<t.length;n++){this.addCoordinate(t[n],e)}}else{for(var n=t.length-1;n>=0;n--){this.addCoordinate(t[n],e)}}return true};jsts.geom.CoordinateList.prototype.addCoordinate=function(t,e){if(!e){if(this.size()>=1){var r=this.get(this.size()-1);if(r.equals2D(t))return}}this.add(t)};jsts.geom.CoordinateList.prototype.insertCoordinate=function(t,e,r){if(!r){var n=t>0?t-1:-1;if(n!==-1&&this.get(n).equals2D(e)){return}var i=t<this.size()-1?t+1:-1;if(i!==-1&&this.get(i).equals2D(e)){return}}this.array.splice(t,0,e)};jsts.geom.CoordinateList.prototype.closeRing=function(){if(this.size()>0){this.addCoordinate(new jsts.geom.Coordinate(this.get(0)),false)}};jsts.geom.CoordinateList.prototype.toArray=function(){return this.array};jsts.geom.CoordinateList.prototype.toCoordinateArray=function(){return this.array};jsts.operation.buffer.OffsetSegmentGenerator=function(t,e,r){this.seg0=new jsts.geom.LineSegment;this.seg1=new jsts.geom.LineSegment;this.offset0=new jsts.geom.LineSegment;this.offset1=new jsts.geom.LineSegment;this.precisionModel=t;this.bufParams=e;this.li=new jsts.algorithm.RobustLineIntersector;this.filletAngleQuantum=Math.PI/2/e.getQuadrantSegments();if(this.bufParams.getQuadrantSegments()>=8&&this.bufParams.getJoinStyle()===jsts.operation.buffer.BufferParameters.JOIN_ROUND){this.closingSegLengthFactor=jsts.operation.buffer.OffsetSegmentGenerator.MAX_CLOSING_SEG_LEN_FACTOR}this.init(r)};jsts.operation.buffer.OffsetSegmentGenerator.OFFSET_SEGMENT_SEPARATION_FACTOR=.001;jsts.operation.buffer.OffsetSegmentGenerator.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001;jsts.operation.buffer.OffsetSegmentGenerator.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6;jsts.operation.buffer.OffsetSegmentGenerator.MAX_CLOSING_SEG_LEN_FACTOR=80;jsts.operation.buffer.OffsetSegmentGenerator.prototype.maxCurveSegmentError=0;jsts.operation.buffer.OffsetSegmentGenerator.prototype.filletAngleQuantum=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.closingSegLengthFactor=1;jsts.operation.buffer.OffsetSegmentGenerator.prototype.segList=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.distance=0;jsts.operation.buffer.OffsetSegmentGenerator.prototype.precisionModel=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.bufParams=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.li=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.s0=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.s1=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.s2=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.seg0=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.seg1=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.offset0=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.offset1=null;jsts.operation.buffer.OffsetSegmentGenerator.prototype.side=0;jsts.operation.buffer.OffsetSegmentGenerator.prototype.hasNarrowConcaveAngle=false;jsts.operation.buffer.OffsetSegmentGenerator.prototype.hasNarrowConcaveAngle=function(){return this.hasNarrowConcaveAngle};jsts.operation.buffer.OffsetSegmentGenerator.prototype.init=function(t){this.distance=t;this.maxCurveSegmentError=this.distance*(1-Math.cos(this.filletAngleQuantum/2));this.segList=new jsts.operation.buffer.OffsetSegmentString;this.segList.setPrecisionModel(this.precisionModel);this.segList.setMinimumVertexDistance(this.distance*jsts.operation.buffer.OffsetSegmentGenerator.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)};jsts.operation.buffer.OffsetSegmentGenerator.prototype.initSideSegments=function(t,e,r){this.s1=t;this.s2=e;this.side=r;this.seg1.setCoordinates(this.s1,this.s2);this.computeOffsetSegment(this.seg1,this.side,this.distance,this.offset1)};jsts.operation.buffer.OffsetSegmentGenerator.prototype.getCoordinates=function(){return this.segList.getCoordinates()};jsts.operation.buffer.OffsetSegmentGenerator.prototype.closeRing=function(){this.segList.closeRing()};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addSegments=function(t,e){this.segList.addPts(t,e)};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addFirstSegment=function(){this.segList.addPt(this.offset1.p0)};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addLastSegment=function(){this.segList.addPt(this.offset1.p1)};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addNextSegment=function(t,e){this.s0=this.s1;this.s1=this.s2;this.s2=t;this.seg0.setCoordinates(this.s0,this.s1);this.computeOffsetSegment(this.seg0,this.side,this.distance,this.offset0);this.seg1.setCoordinates(this.s1,this.s2);this.computeOffsetSegment(this.seg1,this.side,this.distance,this.offset1);if(this.s1.equals(this.s2))return;var r=jsts.algorithm.CGAlgorithms.computeOrientation(this.s0,this.s1,this.s2);var n=r===jsts.algorithm.CGAlgorithms.CLOCKWISE&&this.side===jsts.geomgraph.Position.LEFT||r===jsts.algorithm.CGAlgorithms.COUNTERCLOCKWISE&&this.side===jsts.geomgraph.Position.RIGHT;if(r==0){this.addCollinear(e)}else if(n){this.addOutsideTurn(r,e)}else{this.addInsideTurn(r,e)}};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addCollinear=function(t){this.li.computeIntersection(this.s0,this.s1,this.s1,this.s2);var e=this.li.getIntersectionNum();if(e>=2){if(this.bufParams.getJoinStyle()===jsts.operation.buffer.BufferParameters.JOIN_BEVEL||this.bufParams.getJoinStyle()===jsts.operation.buffer.BufferParameters.JOIN_MITRE){if(t)this.segList.addPt(this.offset0.p1);this.segList.addPt(this.offset1.p0)}else{this.addFillet(this.s1,this.offset0.p1,this.offset1.p0,jsts.algorithm.CGAlgorithms.CLOCKWISE,this.distance)}}};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addOutsideTurn=function(t,e){if(this.offset0.p1.distance(this.offset1.p0)<this.distance*jsts.operation.buffer.OffsetSegmentGenerator.OFFSET_SEGMENT_SEPARATION_FACTOR){this.segList.addPt(this.offset0.p1);return}if(this.bufParams.getJoinStyle()===jsts.operation.buffer.BufferParameters.JOIN_MITRE){this.addMitreJoin(this.s1,this.offset0,this.offset1,this.distance)}else if(this.bufParams.getJoinStyle()===jsts.operation.buffer.BufferParameters.JOIN_BEVEL){this.addBevelJoin(this.offset0,this.offset1)}else{if(e)this.segList.addPt(this.offset0.p1);this.addFillet(this.s1,this.offset0.p1,this.offset1.p0,t,this.distance);this.segList.addPt(this.offset1.p0)}};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addInsideTurn=function(t,e){this.li.computeIntersection(this.offset0.p0,this.offset0.p1,this.offset1.p0,this.offset1.p1);if(this.li.hasIntersection()){this.segList.addPt(this.li.getIntersection(0))}else{this.hasNarrowConcaveAngle=true;if(this.offset0.p1.distance(this.offset1.p0)<this.distance*jsts.operation.buffer.OffsetSegmentGenerator.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR){this.segList.addPt(this.offset0.p1)}else{this.segList.addPt(this.offset0.p1);if(this.closingSegLengthFactor>0){var r=new jsts.geom.Coordinate((this.closingSegLengthFactor*this.offset0.p1.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset0.p1.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(r);var n=new jsts.geom.Coordinate((this.closingSegLengthFactor*this.offset1.p0.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset1.p0.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(n)}else{this.segList.addPt(this.s1)}this.segList.addPt(this.offset1.p0)}}};jsts.operation.buffer.OffsetSegmentGenerator.prototype.computeOffsetSegment=function(t,e,r,n){var i=e===jsts.geomgraph.Position.LEFT?1:-1;var o=t.p1.x-t.p0.x;var s=t.p1.y-t.p0.y;var a=Math.sqrt(o*o+s*s);var u=i*r*o/a;var p=i*r*s/a;n.p0.x=t.p0.x-p;n.p0.y=t.p0.y+u;n.p1.x=t.p1.x-p;n.p1.y=t.p1.y+u};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addLineEndCap=function(t,e){var r=new jsts.geom.LineSegment(t,e);var n=new jsts.geom.LineSegment;this.computeOffsetSegment(r,jsts.geomgraph.Position.LEFT,this.distance,n);var i=new jsts.geom.LineSegment;this.computeOffsetSegment(r,jsts.geomgraph.Position.RIGHT,this.distance,i);var o=e.x-t.x;var s=e.y-t.y;var a=Math.atan2(s,o);switch(this.bufParams.getEndCapStyle()){case jsts.operation.buffer.BufferParameters.CAP_ROUND:this.segList.addPt(n.p1);this.addFillet(e,a+Math.PI/2,a-Math.PI/2,jsts.algorithm.CGAlgorithms.CLOCKWISE,this.distance);this.segList.addPt(i.p1);break;case jsts.operation.buffer.BufferParameters.CAP_FLAT:this.segList.addPt(n.p1);this.segList.addPt(i.p1);break;case jsts.operation.buffer.BufferParameters.CAP_SQUARE:var u=new jsts.geom.Coordinate;u.x=Math.abs(this.distance)*Math.cos(a);u.y=Math.abs(this.distance)*Math.sin(a);var p=new jsts.geom.Coordinate(n.p1.x+u.x,n.p1.y+u.y);var l=new jsts.geom.Coordinate(i.p1.x+u.x,i.p1.y+u.y);this.segList.addPt(p);this.segList.addPt(l);break}};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addMitreJoin=function(t,e,r,n){var i=true;var o=null;try{o=jsts.algorithm.HCoordinate.intersection(e.p0,e.p1,r.p0,r.p1);var s=n<=0?1:o.distance(t)/Math.abs(n);if(s>this.bufParams.getMitreLimit())this.isMitreWithinLimit=false}catch(a){if(a instanceof jsts.error.NotRepresentableError){o=new jsts.geom.Coordinate(0,0);this.isMitreWithinLimit=false}}if(i){this.segList.addPt(o)}else{this.addLimitedMitreJoin(e,r,n,bufParams.getMitreLimit())}};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addLimitedMitreJoin=function(t,e,r,n){var i=this.seg0.p1;var o=jsts.algorithm.Angle.angle(i,this.seg0.p0);var s=jsts.algorithm.Angle.angle(i,this.seg1.p1);var a=jsts.algorithm.Angle.angleBetweenOriented(this.seg0.p0,i,this.seg1.p1);var u=a/2;var p=jsts.algorithm.Angle.normalize(o+u);var l=jsts.algorithm.Angle.normalize(p+Math.PI);var g=n*r;

var h=g*Math.abs(Math.sin(u));var f=r-h;var c=i.x+g*Math.cos(l);var d=i.y+g*Math.sin(l);var m=new jsts.geom.Coordinate(c,d);var y=new jsts.geom.LineSegment(i,m);var v=y.pointAlongOffset(1,f);var j=y.pointAlongOffset(1,-f);if(this.side==jsts.geomgraph.Position.LEFT){this.segList.addPt(v);this.segList.addPt(j)}else{this.segList.addPt(j);this.segList.addPt(v)}};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addBevelJoin=function(t,e){this.segList.addPt(t.p1);this.segList.addPt(e.p0)};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addFillet=function(t,e,r,n,i){if(!(r instanceof jsts.geom.Coordinate)){this.addFillet2.apply(this,arguments);return}var o=e.x-t.x;var s=e.y-t.y;var a=Math.atan2(s,o);var u=r.x-t.x;var p=r.y-t.y;var l=Math.atan2(p,u);if(n===jsts.algorithm.CGAlgorithms.CLOCKWISE){if(a<=l)a+=2*Math.PI}else{if(a>=l)a-=2*Math.PI}this.segList.addPt(e);this.addFillet(t,a,l,n,i);this.segList.addPt(r)};jsts.operation.buffer.OffsetSegmentGenerator.prototype.addFillet2=function(t,e,r,n,i){var o=n===jsts.algorithm.CGAlgorithms.CLOCKWISE?-1:1;var s=Math.abs(e-r);var a=parseInt(s/this.filletAngleQuantum+.5);if(a<1)return;var u,p;u=0;p=s/a;var l=u;var g=new jsts.geom.Coordinate;while(l<s){var h=e+o*l;g.x=t.x+i*Math.cos(h);g.y=t.y+i*Math.sin(h);this.segList.addPt(g);l+=p}};jsts.operation.buffer.OffsetSegmentGenerator.prototype.createCircle=function(t){var e=new jsts.geom.Coordinate(t.x+this.distance,t.y);this.segList.addPt(e);this.addFillet(t,0,2*Math.PI,-1,this.distance);this.segList.closeRing()};jsts.operation.buffer.OffsetSegmentGenerator.prototype.createSquare=function(t){this.segList.addPt(new jsts.geom.Coordinate(t.x+distance,t.y+distance));this.segList.addPt(new jsts.geom.Coordinate(t.x+distance,t.y-distance));this.segList.addPt(new jsts.geom.Coordinate(t.x-distance,t.y-distance));this.segList.addPt(new jsts.geom.Coordinate(t.x-distance,t.y+distance));this.segList.closeRing()};jsts.operation.overlay.MaximalEdgeRing=function(t,e){jsts.geomgraph.EdgeRing.call(this,t,e)};jsts.operation.overlay.MaximalEdgeRing.prototype=new jsts.geomgraph.EdgeRing;jsts.operation.overlay.MaximalEdgeRing.constructor=jsts.operation.overlay.MaximalEdgeRing;jsts.operation.overlay.MaximalEdgeRing.prototype.getNext=function(t){return t.getNext()};jsts.operation.overlay.MaximalEdgeRing.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)};jsts.operation.overlay.MaximalEdgeRing.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this.startDe;do{var e=t.getNode();e.getEdges().linkMinimalDirectedEdges(this);t=t.getNext()}while(t!=this.startDe)};jsts.operation.overlay.MaximalEdgeRing.prototype.buildMinimalRings=function(){var t=[];var e=this.startDe;do{if(e.getMinEdgeRing()===null){var r=new jsts.operation.overlay.MinimalEdgeRing(e,this.geometryFactory);t.push(r)}e=e.getNext()}while(e!=this.startDe);return t};jsts.algorithm.CentroidPoint=function(){this.centSum=new jsts.geom.Coordinate};jsts.algorithm.CentroidPoint.prototype.ptCount=0;jsts.algorithm.CentroidPoint.prototype.centSum=null;jsts.algorithm.CentroidPoint.prototype.add=function(t){if(t instanceof jsts.geom.Point){this.add2(t.getCoordinate())}else if(t instanceof jsts.geom.GeometryCollection||t instanceof jsts.geom.MultiPoint||t instanceof jsts.geom.MultiLineString||t instanceof jsts.geom.MultiPolygon){var e=t;for(var r=0;r<e.getNumGeometries();r++){this.add(e.getGeometryN(r))}}};jsts.algorithm.CentroidPoint.prototype.add2=function(t){this.ptCount+=1;this.centSum.x+=t.x;this.centSum.y+=t.y};jsts.algorithm.CentroidPoint.prototype.getCentroid=function(){var t=new jsts.geom.Coordinate;t.x=this.centSum.x/this.ptCount;t.y=this.centSum.y/this.ptCount;return t};jsts.operation.distance.ConnectedElementLocationFilter=function(t){this.locations=t};jsts.operation.distance.ConnectedElementLocationFilter.prototype=new jsts.geom.GeometryFilter;jsts.operation.distance.ConnectedElementLocationFilter.prototype.locations=null;jsts.operation.distance.ConnectedElementLocationFilter.getLocations=function(t){var e=[];t.apply(new jsts.operation.distance.ConnectedElementLocationFilter(e));return e};jsts.operation.distance.ConnectedElementLocationFilter.prototype.filter=function(t){if(t instanceof jsts.geom.Point||t instanceof jsts.geom.LineString||t instanceof jsts.geom.Polygon)this.locations.push(new jsts.operation.distance.GeometryLocation(t,0,t.getCoordinate()))};jsts.geomgraph.index.MonotoneChainEdge=function(t){this.e=t;this.pts=t.getCoordinates();var e=new jsts.geomgraph.index.MonotoneChainIndexer;this.startIndex=e.getChainStartIndices(this.pts)};jsts.geomgraph.index.MonotoneChainEdge.prototype.e=null;jsts.geomgraph.index.MonotoneChainEdge.prototype.pts=null;jsts.geomgraph.index.MonotoneChainEdge.prototype.startIndex=null;jsts.geomgraph.index.MonotoneChainEdge.prototype.env1=new jsts.geom.Envelope;jsts.geomgraph.index.MonotoneChainEdge.prototype.env2=new jsts.geom.Envelope;jsts.geomgraph.index.MonotoneChainEdge.prototype.getCoordinates=function(){return this.pts};jsts.geomgraph.index.MonotoneChainEdge.prototype.getStartIndexes=function(){return this.startIndex};jsts.geomgraph.index.MonotoneChainEdge.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x;var r=this.pts[this.startIndex[t+1]].x;if(e<r){return e}return r};jsts.geomgraph.index.MonotoneChainEdge.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x;var r=this.pts[this.startIndex[t+1]].x;if(e>r){return e}return r};jsts.geomgraph.index.MonotoneChainEdge.prototype.computeIntersects=function(t,e){for(var r=0;r<this.startIndex.length-1;r++){for(var n=0;n<t.startIndex.length-1;n++){this.computeIntersectsForChain(r,t,n,e)}}};jsts.geomgraph.index.MonotoneChainEdge.prototype.computeIntersectsForChain=function(t,e,r,n){this.computeIntersectsForChain2(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[r],e.startIndex[r+1],n)};jsts.geomgraph.index.MonotoneChainEdge.prototype.computeIntersectsForChain2=function(t,e,r,n,i,o){var s=this.pts[t];var a=this.pts[e];var u=r.pts[n];var p=r.pts[i];if(e-t==1&&i-n==1){o.addIntersections(this.e,t,r.e,n);return}this.env1.init(s,a);this.env2.init(u,p);if(!this.env1.intersects(this.env2)){return}var l=Math.floor((t+e)/2);var g=Math.floor((n+i)/2);if(t<l){if(n<g){this.computeIntersectsForChain2(t,l,r,n,g,o)}if(g<i){this.computeIntersectsForChain2(t,l,r,g,i,o)}}if(l<e){if(n<g){this.computeIntersectsForChain2(l,e,r,n,g,o)}if(g<i){this.computeIntersectsForChain2(l,e,r,g,i,o)}}};(function(){var t=javascript.util.ArrayList;jsts.operation.relate.EdgeEndBuilder=function(){};jsts.operation.relate.EdgeEndBuilder.prototype.computeEdgeEnds=function(e){if(arguments.length==2){this.computeEdgeEnds2.apply(this,arguments);return}var r=new t;for(var n=e;n.hasNext();){var i=n.next();this.computeEdgeEnds2(i,r)}return r};jsts.operation.relate.EdgeEndBuilder.prototype.computeEdgeEnds2=function(t,e){var r=t.getEdgeIntersectionList();r.addEndpoints();var n=r.iterator();var i=null;var o=null;if(!n.hasNext())return;var s=n.next();do{i=o;o=s;s=null;if(n.hasNext())s=n.next();if(o!==null){this.createEdgeEndForPrev(t,e,o,i);this.createEdgeEndForNext(t,e,o,s)}}while(o!==null)};jsts.operation.relate.EdgeEndBuilder.prototype.createEdgeEndForPrev=function(t,e,r,n){var i=r.segmentIndex;if(r.dist===0){if(i===0)return;i--}var o=t.getCoordinate(i);if(n!==null&&n.segmentIndex>=i)o=n.coord;var s=new jsts.geomgraph.Label(t.getLabel());s.flip();var a=new jsts.geomgraph.EdgeEnd(t,r.coord,o,s);e.add(a)};jsts.operation.relate.EdgeEndBuilder.prototype.createEdgeEndForNext=function(t,e,r,n){var i=r.segmentIndex+1;if(i>=t.getNumPoints()&&n===null)return;var o=t.getCoordinate(i);if(n!==null&&n.segmentIndex===r.segmentIndex)o=n.coord;var s=new jsts.geomgraph.EdgeEnd(t,r.coord,o,new jsts.geomgraph.Label(t.getLabel()));e.add(s)}})();(function(){var t=javascript.util.ArrayList;var e=javascript.util.TreeSet;var r=jsts.geom.CoordinateFilter;jsts.util.UniqueCoordinateArrayFilter=function(){this.treeSet=new e;this.list=new t};jsts.util.UniqueCoordinateArrayFilter.prototype=new r;jsts.util.UniqueCoordinateArrayFilter.prototype.treeSet=null;jsts.util.UniqueCoordinateArrayFilter.prototype.list=null;jsts.util.UniqueCoordinateArrayFilter.prototype.getCoordinates=function(){return this.list.toArray()};jsts.util.UniqueCoordinateArrayFilter.prototype.filter=function(t){if(!this.treeSet.contains(t)){this.list.add(t);this.treeSet.add(t)}}})();(function(){var t=jsts.algorithm.CGAlgorithms;var e=jsts.util.UniqueCoordinateArrayFilter;var r=jsts.util.Assert;var n=javascript.util.Stack;var i=javascript.util.ArrayList;var o=javascript.util.Arrays;var s=function(t){this.origin=t};s.prototype.origin=null;s.prototype.compare=function(t,e){var r=t;var n=e;return s.polarCompare(this.origin,r,n)};s.polarCompare=function(e,r,n){var i=r.x-e.x;var o=r.y-e.y;var s=n.x-e.x;var a=n.y-e.y;var u=t.computeOrientation(e,r,n);if(u==t.COUNTERCLOCKWISE)return 1;if(u==t.CLOCKWISE)return-1;var p=i*i+o*o;var l=s*s+a*a;if(p<l){return-1}if(p>l){return 1}return 0};jsts.algorithm.ConvexHull=function(){if(arguments.length===1){var t=arguments[0];this.inputPts=jsts.algorithm.ConvexHull.extractCoordinates(t);this.geomFactory=t.getFactory()}else{this.pts=arguments[0];this.geomFactory=arguments[1]}};jsts.algorithm.ConvexHull.prototype.geomFactory=null;jsts.algorithm.ConvexHull.prototype.inputPts=null;jsts.algorithm.ConvexHull.extractCoordinates=function(t){var r=new e;t.apply(r);return r.getCoordinates()};jsts.algorithm.ConvexHull.prototype.getConvexHull=function(){if(this.inputPts.length==0){return this.geomFactory.createGeometryCollection(null)}if(this.inputPts.length==1){return this.geomFactory.createPoint(this.inputPts[0])}if(this.inputPts.length==2){return this.geomFactory.createLineString(this.inputPts)}var t=this.inputPts;if(this.inputPts.length>50){t=this.reduce(this.inputPts)}var e=this.preSort(t);var r=this.grahamScan(e);var n=r.toArray();return this.lineOrPolygon(n)};jsts.algorithm.ConvexHull.prototype.reduce=function(e){var r=this.computeOctRing(e);if(r==null)return this.inputPts;var n=new javascript.util.TreeSet;for(var i=0;i<r.length;i++){n.add(r[i])}for(var i=0;i<e.length;i++){if(!t.isPointInRing(e[i],r)){n.add(e[i])}}var o=n.toArray();if(o.length<3)return this.padArray3(o);return o};jsts.algorithm.ConvexHull.prototype.padArray3=function(t){var e=[];for(var r=0;r<e.length;r++){if(r<t.length){e[r]=t[r]}else e[r]=t[0]}return e};jsts.algorithm.ConvexHull.prototype.preSort=function(t){var e;for(var r=1;r<t.length;r++){if(t[r].y<t[0].y||t[r].y==t[0].y&&t[r].x<t[0].x){e=t[0];t[0]=t[r];t[r]=e}}o.sort(t,1,t.length,new s(t[0]));return t};jsts.algorithm.ConvexHull.prototype.grahamScan=function(e){var r;var i=new n;r=i.push(e[0]);r=i.push(e[1]);r=i.push(e[2]);for(var o=3;o<e.length;o++){r=i.pop();while(!i.empty()&&t.computeOrientation(i.peek(),r,e[o])>0){r=i.pop()}r=i.push(r);r=i.push(e[o])}r=i.push(e[0]);return i};jsts.algorithm.ConvexHull.prototype.isBetween=function(e,r,n){if(t.computeOrientation(e,r,n)!==0){return false}if(e.x!=n.x){if(e.x<=r.x&&r.x<=n.x){return true}if(n.x<=r.x&&r.x<=e.x){return true}}if(e.y!=n.y){if(e.y<=r.y&&r.y<=n.y){return true}if(n.y<=r.y&&r.y<=e.y){return true}}return false};jsts.algorithm.ConvexHull.prototype.computeOctRing=function(t){var e=this.computeOctPts(t);var r=new jsts.geom.CoordinateList;r.add(e,false);if(r.size()<3){return null}r.closeRing();return r.toCoordinateArray()};jsts.algorithm.ConvexHull.prototype.computeOctPts=function(t){var e=[];for(var r=0;r<8;r++){e[r]=t[0]}for(var n=1;n<t.length;n++){if(t[n].x<e[0].x){e[0]=t[n]}if(t[n].x-t[n].y<e[1].x-e[1].y){e[1]=t[n]}if(t[n].y>e[2].y){e[2]=t[n]}if(t[n].x+t[n].y>e[3].x+e[3].y){e[3]=t[n]}if(t[n].x>e[4].x){e[4]=t[n]}if(t[n].x-t[n].y>e[5].x-e[5].y){e[5]=t[n]}if(t[n].y<e[6].y){e[6]=t[n]}if(t[n].x+t[n].y<e[7].x+e[7].y){e[7]=t[n]}}return e};jsts.algorithm.ConvexHull.prototype.lineOrPolygon=function(t){t=this.cleanRing(t);if(t.length==3){return this.geomFactory.createLineString([t[0],t[1]])}var e=this.geomFactory.createLinearRing(t);return this.geomFactory.createPolygon(e,null)};jsts.algorithm.ConvexHull.prototype.cleanRing=function(t){r.equals(t[0],t[t.length-1]);var e=new i;var n=null;for(var o=0;o<=t.length-2;o++){var s=t[o];var a=t[o+1];if(s.equals(a)){continue}if(n!=null&&this.isBetween(n,s,a)){continue}e.add(s);n=s}e.add(t[t.length-1]);var u=[];return e.toArray(u)}})();jsts.algorithm.MinimumDiameter=function(t,e){this.convexHullPts=null;this.minBaseSeg=new jsts.geom.LineSegment;this.minWidthPt=null;this.minPtIndex=0;this.minWidth=0;jsts.algorithm.MinimumDiameter.inputGeom=t;jsts.algorithm.MinimumDiameter.isConvex=e||false};jsts.algorithm.MinimumDiameter.inputGeom=null;jsts.algorithm.MinimumDiameter.isConvex=false;jsts.algorithm.MinimumDiameter.nextIndex=function(t,e){e++;if(e>=t.length){e=0}return e};jsts.algorithm.MinimumDiameter.computeC=function(t,e,r){return t*r.y-e*r.x};jsts.algorithm.MinimumDiameter.computeSegmentForLine=function(t,e,r){var n;var i;if(Math.abs(e)>Math.abs(t)){n=new jsts.geom.Coordinate(0,r/e);i=new jsts.geom.Coordinate(1,r/e-t/e)}else{n=new jsts.geom.Coordinate(r/t,0);i=new jsts.geom.Coordinate(r/t-e/t,1)}return new jsts.geom.LineSegment(n,i)};jsts.algorithm.MinimumDiameter.prototype.getLength=function(){this.computeMinimumDiameter();return this.minWidth};jsts.algorithm.MinimumDiameter.prototype.getWidthCoordinate=function(){this.computeMinimumDiameter();return this.minWidthPt};jsts.algorithm.MinimumDiameter.prototype.getSupportingSegment=function(){this.computeMinimumDiameter();var t=[this.minBaseSeg.p0,this.minBaseSeg.p1];return jsts.algorithm.MinimumDiameter.inputGeom.getFactory().createLineString(t)};jsts.algorithm.MinimumDiameter.prototype.getDiameter=function(){this.computeMinimumDiameter();if(this.minWidthPt===null){return jsts.algorithm.MinimumDiameter.inputGeom.getFactory().createLineString(null)}var t=this.minBaseSeg.project(this.minWidthPt);return jsts.algorithm.MinimumDiameter.inputGeom.getFactory().createLineString([t,this.minWidthPt])};jsts.algorithm.MinimumDiameter.prototype.computeMinimumDiameter=function(){if(this.minWidthPt!==null){return}if(jsts.algorithm.MinimumDiameter.isConvex)this.computeWidthConvex(jsts.algorithm.MinimumDiameter.inputGeom);else{var t=new jsts.algorithm.ConvexHull(jsts.algorithm.MinimumDiameter.inputGeom).getConvexHull();this.computeWidthConvex(t)}};jsts.algorithm.MinimumDiameter.prototype.computeWidthConvex=function(t){if(t instanceof jsts.geom.Polygon){this.convexHullPts=t.getExteriorRing().getCoordinates()}else{this.convexHullPts=t.getCoordinates()}if(this.convexHullPts.length===0){this.minWidth=0;this.minWidthPt=null;this.minBaseSeg=null}else if(this.convexHullPts.length===1){this.minWidth=0;this.minWidthPt=this.convexHullPts[0];this.minBaseSeg.p0=this.convexHullPts[0];this.minBaseSeg.p1=this.convexHullPts[0]}else if(this.convexHullPts.length===2||this.convexHullPts.length===3){this.minWidth=0;this.minWidthPt=this.convexHullPts[0];this.minBaseSeg.p0=this.convexHullPts[0];this.minBaseSeg.p1=this.convexHullPts[1]}else{this.computeConvexRingMinDiameter(this.convexHullPts)}};jsts.algorithm.MinimumDiameter.prototype.computeConvexRingMinDiameter=function(t){this.minWidth=Number.MAX_VALUE;var e=1;var r=new jsts.geom.LineSegment;for(var n=0;n<t.length-1;n++){r.p0=t[n];r.p1=t[n+1];e=this.findMaxPerpDistance(t,r,e)}};jsts.algorithm.MinimumDiameter.prototype.findMaxPerpDistance=function(t,e,r){var n=e.distancePerpendicular(t[r]);var i=n;var o=r;var s=o;while(i>=n){n=i;o=s;s=jsts.algorithm.MinimumDiameter.nextIndex(t,o);i=e.distancePerpendicular(t[s])}if(n<this.minWidth){this.minPtIndex=o;this.minWidth=n;this.minWidthPt=t[this.minPtIndex];this.minBaseSeg=new jsts.geom.LineSegment(e)}return o};jsts.algorithm.MinimumDiameter.prototype.getMinimumRectangle=function(){this.computeMinimumDiameter();if(this.minWidth===0){if(this.minBaseSeg.p0.equals2D(this.minBaseSeg.p1)){return jsts.algorithm.MinimumDiameter.inputGeom.getFactory().createPoint(this.minBaseSeg.p0)}return this.minBaseSeg.toGeometry(jsts.algorithm.MinimumDiameter.inputGeom.getFactory())}var t=this.minBaseSeg.p1.x-this.minBaseSeg.p0.x;var e=this.minBaseSeg.p1.y-this.minBaseSeg.p0.y;var r=Number.MAX_VALUE;var n=-Number.MAX_VALUE;var i=Number.MAX_VALUE;var o=-Number.MAX_VALUE;for(var s=0;s<this.convexHullPts.length;s++){var a=jsts.algorithm.MinimumDiameter.computeC(t,e,this.convexHullPts[s]);if(a>n)n=a;if(a<r)r=a;var u=jsts.algorithm.MinimumDiameter.computeC(-e,t,this.convexHullPts[s]);if(u>o)o=u;if(u<i)i=u}var p=jsts.algorithm.MinimumDiameter.computeSegmentForLine(-t,-e,o);var l=jsts.algorithm.MinimumDiameter.computeSegmentForLine(-t,-e,i);var g=jsts.algorithm.MinimumDiameter.computeSegmentForLine(-e,t,n);var h=jsts.algorithm.MinimumDiameter.computeSegmentForLine(-e,t,r);var f=g.lineIntersection(p);var c=h.lineIntersection(p);var d=h.lineIntersection(l);var m=g.lineIntersection(l);var y=jsts.algorithm.MinimumDiameter.inputGeom.getFactory().createLinearRing([f,c,d,m,f]);return jsts.algorithm.MinimumDiameter.inputGeom.getFactory().createPolygon(y,null)};(function(){jsts.io.GeoJSONParser=function(t){this.geometryFactory=t||new jsts.geom.GeometryFactory;this.geometryTypes=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"]};jsts.io.GeoJSONParser.prototype.read=function(t){var e;if(typeof t==="string"){e=JSON.parse(t)}else{e=t}var r=e.type;if(!this.parse[r]){throw new Error("Unknown GeoJSON type: "+e.type)}if(this.geometryTypes.indexOf(r)!=-1){return this.parse[r].apply(this,[e.coordinates])}else if(r==="GeometryCollection"){return this.parse[r].apply(this,[e.geometries])}return this.parse[r].apply(this,[e])};jsts.io.GeoJSONParser.prototype.parse={Feature:function(t){var e={};for(var r in t){e[r]=t[r]}if(t.geometry){var n=t.geometry.type;if(!this.parse[n]){throw new Error("Unknown GeoJSON type: "+t.type)}e.geometry=this.read(t.geometry)}if(t.bbox){e.bbox=this.parse.bbox.apply(this,[t.bbox])}return e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var r=0;r<t.features.length;++r){e.features.push(this.read(t.features[r]))}}if(t.bbox){e.bbox=this.parse.bbox.apply(this,[t.bbox])}return e},coordinates:function(t){var e=[];for(var r=0;r<t.length;++r){var n=t[r];e.push(new jsts.geom.Coordinate(n[0],n[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new jsts.geom.Coordinate(t[0],t[1]),new jsts.geom.Coordinate(t[2],t[1]),new jsts.geom.Coordinate(t[2],t[3]),new jsts.geom.Coordinate(t[0],t[3]),new jsts.geom.Coordinate(t[0],t[1])])},Point:function(t){var e=new jsts.geom.Coordinate(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){var e=[];for(var r=0;r<t.length;++r){e.push(this.parse.Point.apply(this,[t[r]]))}return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=this.parse.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){var e=[];for(var r=0;r<t.length;++r){e.push(this.parse.LineString.apply(this,[t[r]]))}return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){var e=this.parse.coordinates.apply(this,[t[0]]);var r=this.geometryFactory.createLinearRing(e);var n=[];for(var i=1;i<t.length;++i){var o=t[i];var s=this.parse.coordinates.apply(this,[o]);var a=this.geometryFactory.createLinearRing(s);n.push(a)}return this.geometryFactory.createPolygon(r,n)},MultiPolygon:function(t){var e=[];for(var r=0;r<t.length;++r){var n=t[r];e.push(this.parse.Polygon.apply(this,[n]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){var e=[];for(var r=0;r<t.length;++r){var n=t[r];e.push(this.read(n))}return this.geometryFactory.createGeometryCollection(e)}};jsts.io.GeoJSONParser.prototype.write=function(t){var e=t.CLASS_NAME.slice(10);if(!this.extract[e]){throw new Error("Geometry is not supported")}return this.extract[e].apply(this,[t])};jsts.io.GeoJSONParser.prototype.extract={coordinate:function(t){return[t.x,t.y]},Point:function(t){var e=this.extract.coordinate.apply(this,[t.coordinate]);return{type:"Point",coordinates:e}},MultiPoint:function(t){var e=[];for(var r=0;r<t.geometries.length;++r){var n=t.geometries[r];var i=this.extract.Point.apply(this,[n]);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){var e=[];for(var r=0;r<t.points.length;++r){var n=t.points[r];e.push(this.extract.coordinate.apply(this,[n]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){var e=[];for(var r=0;r<t.geometries.length;++r){var n=t.geometries[r];var i=this.extract.LineString.apply(this,[n]);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[];var r=this.extract.LineString.apply(this,[t.shell]);e.push(r.coordinates);for(var n=0;n<t.holes.length;++n){var i=t.holes[n];var o=this.extract.LineString.apply(this,[i]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){var e=[];for(var r=0;r<t.geometries.length;++r){var n=t.geometries[r];var i=this.extract.Polygon.apply(this,[n]);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){var e=[];for(var r=0;r<t.geometries.length;++r){var n=t.geometries[r];var i=n.CLASS_NAME.slice(10);e.push(this.extract[i].apply(this,[n]))}return{type:"GeometryCollection",geometries:e}}}})();jsts.triangulate.quadedge.Vertex=function(){if(arguments.length===1){this.initFromCoordinate(arguments[0])}else{this.initFromXY(arguments[0],arguments[1])}};jsts.triangulate.quadedge.Vertex.LEFT=0;jsts.triangulate.quadedge.Vertex.RIGHT=1;jsts.triangulate.quadedge.Vertex.BEYOND=2;jsts.triangulate.quadedge.Vertex.BEHIND=3;jsts.triangulate.quadedge.Vertex.BETWEEN=4;jsts.triangulate.quadedge.Vertex.ORIGIN=5;jsts.triangulate.quadedge.Vertex.DESTINATION=6;jsts.triangulate.quadedge.Vertex.prototype.initFromXY=function(t,e){this.p=new jsts.geom.Coordinate(t,e)};jsts.triangulate.quadedge.Vertex.prototype.initFromCoordinate=function(t){this.p=new jsts.geom.Coordinate(t)};jsts.triangulate.quadedge.Vertex.prototype.getX=function(){return this.p.x};jsts.triangulate.quadedge.Vertex.prototype.getY=function(){return this.p.y};jsts.triangulate.quadedge.Vertex.prototype.getZ=function(){return this.p.z};jsts.triangulate.quadedge.Vertex.prototype.setZ=function(t){this.p.z=t};jsts.triangulate.quadedge.Vertex.prototype.getCoordinate=function(){return this.p};jsts.triangulate.quadedge.Vertex.prototype.toString=function(){return"POINT ("+this.p.x+" "+this.p.y+")"};jsts.triangulate.quadedge.Vertex.prototype.equals=function(){if(arguments.length===1){return this.equalsExact(arguments[0])}else{return this.equalsWithTolerance(arguments[0],arguments[1])}};jsts.triangulate.quadedge.Vertex.prototype.equalsExact=function(t){return this.p.x===t.getX()&&this.p.y===t.getY()};jsts.triangulate.quadedge.Vertex.prototype.equalsWithTolerance=function(t,e){return this.p.distance(t.getCoordinate())<e};jsts.triangulate.quadedge.Vertex.prototype.classify=function(t,e){var r,n,i,o;r=this;n=e.sub(t);i=r.sub(t);o=n.crossProduct(i);if(o>0){return jsts.triangulate.quadedge.Vertex.LEFT}if(o<0){return jsts.triangulate.quadedge.Vertex.RIGHT}if(n.getX()*i.getX()<0||n.getY()*i.getY()<0){return jsts.triangulate.quadedge.Vertex.BEHIND}if(n.magn()<i.magn()){return jsts.triangulate.quadedge.Vertex.BEYOND}if(t.equals(r)){return jsts.triangulate.quadedge.Vertex.ORIGIN}if(e.equals(r)){return jsts.triangulate.quadedge.Vertex.DESTINATION}return jsts.triangulate.quadedge.Vertex.BETWEEN};jsts.triangulate.quadedge.Vertex.prototype.crossProduct=function(t){return this.p.x*t.getY()-this.p.y*t.getX()};jsts.triangulate.quadedge.Vertex.prototype.dot=function(t){return this.p.x*t.getX()+this.p.y*t.getY()};jsts.triangulate.quadedge.Vertex.prototype.times=function(t){return new jsts.triangulate.quadedge.Vertex(t*this.p.x,t*this.p.y)};jsts.triangulate.quadedge.Vertex.prototype.sum=function(t){return new jsts.triangulate.quadedge.Vertex(this.p.x+t.getX(),this.p.y+t.getY())};jsts.triangulate.quadedge.Vertex.prototype.sub=function(t){return new jsts.triangulate.quadedge.Vertex(this.p.x-t.getX(),this.p.y-t.getY())};jsts.triangulate.quadedge.Vertex.prototype.magn=function(){return Math.sqrt(this.p.x*this.p.x+this.p.y*this.p.y)};jsts.triangulate.quadedge.Vertex.prototype.cross=function(){return new Vertex(this.p.y,-this.p.x)};jsts.triangulate.quadedge.Vertex.prototype.isInCircle=function(t,e,r){return jsts.triangulate.quadedge.TrianglePredicate.isInCircleRobust(t.p,e.p,r.p,this.p)};jsts.triangulate.quadedge.Vertex.prototype.isCCW=function(t,e){return(t.p.x-this.p.x)*(e.p.y-this.p.y)-(t.p.y-this.p.y)*(e.p.x-this.p.x)>0};jsts.triangulate.quadedge.Vertex.prototype.rightOf=function(t){return this.isCCW(t.dest(),t.orig())};jsts.triangulate.quadedge.Vertex.prototype.leftOf=function(t){return this.isCCW(t.orig(),t.dest())};jsts.triangulate.quadedge.Vertex.prototype.bisector=function(t,e){var r,n,i,o;r=e.getX()-t.getX();n=e.getY()-t.getY();i=new jsts.algorithm.HCoordinate(t.getX()+r/2,t.getY()+n/2,1);o=new jsts.algorithm.HCoordinate(t.getX()-n+r/2,t.getY()+r+n/2,1);return new jsts.algorithm.HCoordinate(i,o)};jsts.triangulate.quadedge.Vertex.prototype.distance=function(t,e){return t.p.distance(e.p)};jsts.triangulate.quadedge.Vertex.prototype.circumRadiusRatio=function(t,e){var r,n,i,o;r=this.circleCenter(t,e);n=this.distance(r,t);i=this.distance(this,t);o=this.distance(t,e);if(o<i){i=o}o=this.distance(e,this);if(o<i){i=o}return n/i};jsts.triangulate.quadedge.Vertex.prototype.midPoint=function(t){var e,r;e=(this.p.x+t.getX())/2;r=(this.p.y+t.getY())/2;return new jsts.triangulate.quadedge.Vertex(e,r)};jsts.triangulate.quadedge.Vertex.prototype.circleCenter=function(t,e){var r,n,i,o,s;r=new jsts.triangulate.quadedge.Vertex(this.getX(),this.getY());n=this.bisector(r,t);i=this.bisector(t,e);o=new jsts.algorithm.HCoordinate(n,i);s=null;try{s=new jsts.triangulate.quadedge.Vertex(o.getX(),o.getY())}catch(a){}return s};jsts.operation.valid.IsValidOp=function(t){this.parentGeometry=t;this.isSelfTouchingRingFormingHoleValid=false;this.validErr=null};jsts.operation.valid.IsValidOp.isValid=function(t){if(arguments[0]instanceof jsts.geom.Coordinate){if(isNaN(t.x)){return false}if(!isFinite(t.x)&&!isNaN(t.x)){return false}if(isNaN(t.y)){return false}if(!isFinite(t.y)&&!isNaN(t.y)){return false}return true}else{var e=new jsts.operation.valid.IsValidOp(t);return e.isValid()}};jsts.operation.valid.IsValidOp.findPtNotNode=function(t,e,r){var n=r.findEdge(e);var i=n.getEdgeIntersectionList();for(var o=0;o<t.length;o++){var s=t[o];if(!i.isIntersection(s)){return s}}return null};jsts.operation.valid.IsValidOp.prototype.setSelfTouchingRingFormingHoleValid=function(t){this.isSelfTouchingRingFormingHoleValid=t};jsts.operation.valid.IsValidOp.prototype.isValid=function(){this.checkValid(this.parentGeometry);return this.validErr==null};jsts.operation.valid.IsValidOp.prototype.getValidationError=function(){this.checkValid(this.parentGeometry);return this.validErr};jsts.operation.valid.IsValidOp.prototype.checkValid=function(t){this.validErr=null;if(t.isEmpty()){return}if(t instanceof jsts.geom.Point){this.checkValidPoint(t)}else if(t instanceof jsts.geom.MultiPoint){this.checkValidMultiPoint(t)}else if(t instanceof jsts.geom.LinearRing){this.checkValidLinearRing(t)}else if(t instanceof jsts.geom.LineString){this.checkValidLineString(t)}else if(t instanceof jsts.geom.Polygon){this.checkValidPolygon(t)}else if(t instanceof jsts.geom.MultiPolygon){this.checkValidMultiPolygon(t)}else if(t instanceof jsts.geom.GeometryCollection){this.checkValidGeometryCollection(t)}else{throw t.constructor}};jsts.operation.valid.IsValidOp.prototype.checkValidPoint=function(t){this.checkInvalidCoordinates(t.getCoordinates())};jsts.operation.valid.IsValidOp.prototype.checkValidMultiPoint=function(t){this.checkInvalidCoordinates(t.getCoordinates())};jsts.operation.valid.IsValidOp.prototype.checkValidLineString=function(t){this.checkInvalidCoordinates(t.getCoordinates());if(this.validErr!=null){return}var e=new jsts.geomgraph.GeometryGraph(0,t);this.checkTooFewPoints(e)};jsts.operation.valid.IsValidOp.prototype.checkValidLinearRing=function(t){this.checkInvalidCoordinates(t.getCoordinates());if(this.validErr!=null){return}this.checkClosedRing(t);if(this.validErr!=null){return}var e=new jsts.geomgraph.GeometryGraph(0,t);this.checkTooFewPoints(e);if(this.validErr!=null){return}var r=new jsts.algorithm.RobustLineIntersector;e.computeSelfNodes(r,true);this.checkNoSelfIntersectingRings(e)};jsts.operation.valid.IsValidOp.prototype.checkValidPolygon=function(t){this.checkInvalidCoordinates(t);if(this.validErr!=null){return}this.checkClosedRings(t);if(this.validErr!=null){return}var e=new jsts.geomgraph.GeometryGraph(0,t);this.checkTooFewPoints(e);if(this.validErr!=null){return}this.checkConsistentArea(e);if(this.validErr!=null){return}if(!this.isSelfTouchingRingFormingHoleValid){this.checkNoSelfIntersectingRings(e);if(this.validErr!=null){return}}this.checkHolesInShell(t,e);if(this.validErr!=null){return}this.checkHolesNotNested(t,e);if(this.validErr!=null){return}this.checkConnectedInteriors(e)};jsts.operation.valid.IsValidOp.prototype.checkValidMultiPolygon=function(t){var e=t.getNumGeometries();for(var r=0;r<e;r++){var n=t.getGeometryN(r);this.checkInvalidCoordinates(n);if(this.validErr!=null){return}this.checkClosedRings(n);if(this.validErr!=null){return}}var i=new jsts.geomgraph.GeometryGraph(0,t);this.checkTooFewPoints(i);if(this.validErr!=null){return}this.checkConsistentArea(i);if(this.validErr!=null){return}if(!this.isSelfTouchingRingFormingHoleValid){this.checkNoSelfIntersectingRings(i);if(this.validErr!=null){return}}for(var r=0;r<t.getNumGeometries();r++){var n=t.getGeometryN(r);this.checkHolesInShell(n,i);if(this.validErr!=null){return}}for(var r=0;r<t.getNumGeometries();r++){var n=t.getGeometryN(r);this.checkHolesNotNested(n,i);if(this.validErr!=null){return}}this.checkShellsNotNested(t,i);if(this.validErr!=null){return}this.checkConnectedInteriors(i)};jsts.operation.valid.IsValidOp.prototype.checkValidGeometryCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var r=t.getGeometryN(e);this.checkValid(r);if(this.validErr!=null){return}}};jsts.operation.valid.IsValidOp.prototype.checkInvalidCoordinates=function(t){if(t instanceof jsts.geom.Polygon){var e=t;this.checkInvalidCoordinates(e.getExteriorRing().getCoordinates());if(this.validErr!=null){return}for(var r=0;r<e.getNumInteriorRing();r++){this.checkInvalidCoordinates(e.getInteriorRingN(r).getCoordinates());if(this.validErr!=null){return}}}else{var n=t;for(var r=0;r<n.length;r++){if(!jsts.operation.valid.IsValidOp.isValid(n[r])){this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.INVALID_COORDINATE,n[r]);return}}}};jsts.operation.valid.IsValidOp.prototype.checkClosedRings=function(t){this.checkClosedRing(t.getExteriorRing());if(this.validErr!=null){return}for(var e=0;e<t.getNumInteriorRing();e++){this.checkClosedRing(t.getInteriorRingN(e));if(this.validErr!=null){return}}};jsts.operation.valid.IsValidOp.prototype.checkClosedRing=function(t){if(!t.isClosed()){var e=null;if(t.getNumPoints()>=1){e=t.getCoordinateN(0)}this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.RING_NOT_CLOSED,e)}};jsts.operation.valid.IsValidOp.prototype.checkTooFewPoints=function(t){if(t.hasTooFewPoints){this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.TOO_FEW_POINTS,t.getInvalidPoint());return}};jsts.operation.valid.IsValidOp.prototype.checkConsistentArea=function(t){var e=new jsts.operation.valid.ConsistentAreaTester(t);var r=e.isNodeConsistentArea();if(!r){this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.SELF_INTERSECTION,e.getInvalidPoint());return}if(e.hasDuplicateRings()){this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.DUPLICATE_RINGS,e.getInvalidPoint());

}};jsts.operation.valid.IsValidOp.prototype.checkNoSelfIntersectingRings=function(t){for(var e=t.getEdgeIterator();e.hasNext();){var r=e.next();this.checkNoSelfIntersectingRing(r.getEdgeIntersectionList());if(this.validErr!=null){return}}};jsts.operation.valid.IsValidOp.prototype.checkNoSelfIntersectingRing=function(t){var e=[];var r=true;for(var n=t.iterator();n.hasNext();){var i=n.next();if(r){r=false;continue}if(e.indexOf(i.coord)>=0){this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.RING_SELF_INTERSECTION,i.coord);return}else{e.push(i.coord)}}};jsts.operation.valid.IsValidOp.prototype.checkHolesInShell=function(t,e){var r=t.getExteriorRing();var n=new jsts.algorithm.MCPointInRing(r);for(var i=0;i<t.getNumInteriorRing();i++){var o=t.getInteriorRingN(i);var s=jsts.operation.valid.IsValidOp.findPtNotNode(o.getCoordinates(),r,e);if(s==null){return}var a=!n.isInside(s);if(a){this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.HOLE_OUTSIDE_SHELL,s);return}}};jsts.operation.valid.IsValidOp.prototype.checkHolesNotNested=function(t,e){var r=new jsts.operation.valid.IndexedNestedRingTester(e);for(var n=0;n<t.getNumInteriorRing();n++){var i=t.getInteriorRingN(n);r.add(i)}var o=r.isNonNested();if(!o){this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.NESTED_HOLES,r.getNestedPoint())}};jsts.operation.valid.IsValidOp.prototype.checkShellsNotNested=function(t,e){for(var r=0;r<t.getNumGeometries();r++){var n=t.getGeometryN(r);var i=n.getExteriorRing();for(var o=0;o<t.getNumGeometries();o++){if(r==o){continue}var s=t.getGeometryN(o);this.checkShellNotNested(i,s,e);if(this.validErr!=null){return}}}};jsts.operation.valid.IsValidOp.prototype.checkShellNotNested=function(t,e,r){var n=t.getCoordinates();var i=e.getExteriorRing();var o=i.getCoordinates();var s=jsts.operation.valid.IsValidOp.findPtNotNode(n,i,r);if(s==null){return}var a=jsts.algorithm.CGAlgorithms.isPointInRing(s,o);if(!a){return}if(e.getNumInteriorRing()<=0){this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.NESTED_SHELLS,s);return}var u=null;for(var p=0;p<e.getNumInteriorRing();p++){var l=e.getInteriorRingN(p);u=this.checkShellInsideHole(t,l,r);if(u==null){return}}this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.NESTED_SHELLS,u)};jsts.operation.valid.IsValidOp.prototype.checkShellInsideHole=function(t,e,r){var n=t.getCoordinates();var i=e.getCoordinates();var o=jsts.operation.valid.IsValidOp.findPtNotNode(n,e,r);if(o!=null){var s=jsts.algorithm.CGAlgorithms.isPointInRing(o,i);if(!s){return o}}var a=jsts.operation.valid.IsValidOp.findPtNotNode(i,t,r);if(a!=null){var u=jsts.algorithm.CGAlgorithms.isPointInRing(a,n);if(u){return a}return null}jsts.util.Assert.shouldNeverReachHere("points in shell and hole appear to be equal");return null};jsts.operation.valid.IsValidOp.prototype.checkConnectedInteriors=function(t){var e=new jsts.operation.valid.ConnectedInteriorTester(t);if(!e.isInteriorsConnected()){this.validErr=new jsts.operation.valid.TopologyValidationError(jsts.operation.valid.TopologyValidationError.DISCONNECTED_INTERIOR,e.getCoordinate())}};jsts.algorithm.RobustDeterminant=function(){};jsts.algorithm.RobustDeterminant.signOfDet2x2=function(t,e,r,n){var i,o,s,a;a=0;i=1;if(t===0||n===0){if(e===0||r===0){return 0}else if(e>0){if(r>0){return-i}else{return i}}else{if(r>0){return i}else{return-i}}}if(e===0||r===0){if(n>0){if(t>0){return i}else{return-i}}else{if(t>0){return-i}else{return i}}}if(0<e){if(0<n){if(e>n){i=-i;o=t;t=r;r=o;o=e;e=n;n=o}}else{if(e<=-n){i=-i;r=-r;n=-n}else{o=t;t=-r;r=o;o=e;e=-n;n=o}}}else{if(0<n){if(-e<=n){i=-i;t=-t;e=-e}else{o=-t;t=r;r=o;o=-e;e=n;n=o}}else{if(e>=n){t=-t;e=-e;r=-r;n=-n}else{i=-i;o=-t;t=-r;r=o;o=-e;e=-n;n=o}}}if(0<t){if(0<r){if(t>r){return i}}else{return i}}else{if(0<r){return-i}else{if(t>=r){i=-i;t=-t;r=-r}else{return-i}}}while(true){a=a+1;s=Math.floor(r/t);r=r-s*t;n=n-s*e;if(n<0){return-i}if(n>e){return i}if(t>r+r){if(e<n+n){return i}}else{if(e>n+n){return-i}else{r=t-r;n=e-n;i=-i}}if(n===0){if(r===0){return 0}else{return-i}}if(r===0){return i}s=Math.floor(t/r);t=t-s*r;e=e-s*n;if(e<0){return i}if(e>n){return-i}if(r>t+t){if(n<e+e){return-i}}else{if(n>e+e){return i}else{t=r-t;e=n-e;i=-i}}if(e===0){if(t===0){return 0}else{return i}}if(t===0){return-i}}};jsts.algorithm.RobustDeterminant.orientationIndex=function(t,e,r){var n=e.x-t.x;var i=e.y-t.y;var o=r.x-e.x;var s=r.y-e.y;return jsts.algorithm.RobustDeterminant.signOfDet2x2(n,i,o,s)};jsts.index.quadtree.NodeBase=function(){this.subnode=new Array(4);this.subnode[0]=null;this.subnode[1]=null;this.subnode[2]=null;this.subnode[3]=null;this.items=[]};jsts.index.quadtree.NodeBase.prototype.getSubnodeIndex=function(t,e){var r=-1;if(t.getMinX()>=e.x){if(t.getMinY()>=e.y){r=3}if(t.getMaxY()<=e.y){r=1}}if(t.getMaxX()<=e.x){if(t.getMinY()>=e.y){r=2}if(t.getMaxY()<=e.y){r=0}}return r};jsts.index.quadtree.NodeBase.prototype.getItems=function(){return this.items};jsts.index.quadtree.NodeBase.prototype.hasItems=function(){return this.items.length>0};jsts.index.quadtree.NodeBase.prototype.add=function(t){this.items.push(t)};jsts.index.quadtree.NodeBase.prototype.remove=function(t,e){if(!this.isSearchMatch(t)){return false}var r=false,n=0;for(n;n<4;n++){if(this.subnode[n]!==null){r=this.subnode[n].remove(t,e);if(r){if(this.subnode[n].isPrunable()){this.subnode[n]=null}break}}}if(r){return r}if(this.items.indexOf(e)!==-1){for(var n=this.items.length-1;n>=0;n--){if(this.items[n]===e){this.items.splice(n,1)}}r=true}return r};jsts.index.quadtree.NodeBase.prototype.isPrunable=function(){return!(this.hasChildren()||this.hasItems())};jsts.index.quadtree.NodeBase.prototype.hasChildren=function(){var t=0;for(t;t<4;t++){if(this.subnode[t]!==null){return true}}return false};jsts.index.quadtree.NodeBase.prototype.isEmpty=function(){var t=true;if(this.items.length>0){t=false}var e=0;for(e;e<4;e++){if(this.subnode[e]!==null){if(!this.subnode[e].isEmpty()){t=false}}}return t};jsts.index.quadtree.NodeBase.prototype.addAllItems=function(t){t=t.concat(this.items);var e=0;for(e;e<4;e++){if(this.subnode[e]!==null){t=this.subnode[e].addAllItems(t)}}return t};jsts.index.quadtree.NodeBase.prototype.addAllItemsFromOverlapping=function(t,e){if(!this.isSearchMatch(t)){return}e=e.concat(this.items);var r=0;for(r;r<4;r++){if(this.subnode[r]!==null){e=this.subnode[r].addAllItemsFromOverlapping(t,e)}}};jsts.index.quadtree.NodeBase.prototype.visit=function(t,e){if(!this.isSearchMatch(t)){return}this.visitItems(t,e);var r=0;for(r;r<4;r++){if(this.subnode[r]!==null){this.subnode[r].visit(t,e)}}};jsts.index.quadtree.NodeBase.prototype.visitItems=function(t,e){var r=0,n=this.items.length;for(r;r<n;r++){e.visitItem(this.items[r])}};jsts.index.quadtree.NodeBase.prototype.depth=function(){var t=0,e=0,r;for(e;e<4;e++){if(this.subnode[e]!==null){r=this.subnode[e].depth();if(r>t){t=r}}}return t+1};jsts.index.quadtree.NodeBase.prototype.size=function(){var t=0,e=0;for(e;e<4;e++){if(this.subnode[e]!==null){t+=this.subnode[e].size()}}return t+this.items.length};jsts.index.quadtree.NodeBase.prototype.getNodeCount=function(){var t=0,e=0;for(e;e<4;e++){if(this.subnode[e]!==null){t+=this.subnode[e].size()}}return t+1};jsts.index.quadtree.Node=function(t,e){jsts.index.quadtree.NodeBase.prototype.constructor.apply(this,arguments);this.env=t;this.level=e;this.centre=new jsts.geom.Coordinate;this.centre.x=(t.getMinX()+t.getMaxX())/2;this.centre.y=(t.getMinY()+t.getMaxY())/2};jsts.index.quadtree.Node.prototype=new jsts.index.quadtree.NodeBase;jsts.index.quadtree.Node.createNode=function(t){var e,r;e=new jsts.index.quadtree.Key(t);r=new jsts.index.quadtree.Node(e.getEnvelope(),e.getLevel());return r};jsts.index.quadtree.Node.createExpanded=function(t,e){var r=new jsts.geom.Envelope(e),n;if(t!==null){r.expandToInclude(t.env)}n=jsts.index.quadtree.Node.createNode(r);if(t!==null){n.insertNode(t)}return n};jsts.index.quadtree.Node.prototype.getEnvelope=function(){return this.env};jsts.index.quadtree.Node.prototype.isSearchMatch=function(t){return this.env.intersects(t)};jsts.index.quadtree.Node.prototype.getNode=function(t){var e=this.getSubnodeIndex(t,this.centre),r;if(e!==-1){r=this.getSubnode(e);return r.getNode(t)}else{return this}};jsts.index.quadtree.Node.prototype.find=function(t){var e=this.getSubnodeIndex(t,this.centre),r;if(e===-1){return this}if(this.subnode[e]!==null){r=this.subnode[e];return r.find(t)}return this};jsts.index.quadtree.Node.prototype.insertNode=function(t){var e=this.getSubnodeIndex(t.env,this.centre),r;if(t.level===this.level-1){this.subnode[e]=t}else{r=this.createSubnode(e);r.insertNode(t);this.subnode[e]=r}};jsts.index.quadtree.Node.prototype.getSubnode=function(t){if(this.subnode[t]===null){this.subnode[t]=this.createSubnode(t)}return this.subnode[t]};jsts.index.quadtree.Node.prototype.createSubnode=function(t){var e=0,r=0,n=0,i=0,o,s;switch(t){case 0:e=this.env.getMinX();r=this.centre.x;n=this.env.getMinY();i=this.centre.y;break;case 1:e=this.centre.x;r=this.env.getMaxX();n=this.env.getMinY();i=this.centre.y;break;case 2:e=this.env.getMinX();r=this.centre.x;n=this.centre.y;i=this.env.getMaxY();break;case 3:e=this.centre.x;r=this.env.getMaxX();n=this.centre.y;i=this.env.getMaxY();break}o=new jsts.geom.Envelope(e,r,n,i);s=new jsts.index.quadtree.Node(o,this.level-1);return s};(function(){jsts.triangulate.quadedge.QuadEdge=function(){this.rot=null;this.vertex=null;this.next=null;this.data=null};var t=jsts.triangulate.quadedge.QuadEdge;jsts.triangulate.quadedge.QuadEdge.makeEdge=function(e,r){var n,i,o,s,a;n=new t;i=new t;o=new t;s=new t;n.rot=i;i.rot=o;o.rot=s;s.rot=n;n.setNext(n);i.setNext(s);o.setNext(o);s.setNext(i);a=n;a.setOrig(e);a.setDest(r);return a};jsts.triangulate.quadedge.QuadEdge.connect=function(e,r){var n=t.makeEdge(e.dest(),r.orig());t.splice(n,e.lNext());t.splice(n.sym(),r);return n};jsts.triangulate.quadedge.QuadEdge.splice=function(t,e){var r,n,i,o,s,a;r=t.oNext().rot;n=e.oNext().rot;i=e.oNext();o=t.oNext();s=n.oNext();a=r.oNext();t.setNext(i);e.setNext(o);r.setNext(s);n.setNext(a)};jsts.triangulate.quadedge.QuadEdge.swap=function(e){var r,n;r=e.oPrev();n=e.sym().oPrev();t.splice(e,r);t.splice(e.sym(),n);t.splice(e,r.lNext());t.splice(e.sym(),n.lNext());e.setOrig(r.dest());e.setDest(n.dest())};jsts.triangulate.quadedge.QuadEdge.prototype.getPrimary=function(){if(this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0){return this}else{return this.sym()}};jsts.triangulate.quadedge.QuadEdge.prototype.setData=function(t){this.data=t};jsts.triangulate.quadedge.QuadEdge.prototype.getData=function(){return this.data};jsts.triangulate.quadedge.QuadEdge.prototype.delete_jsts=function(){this.rot=null};jsts.triangulate.quadedge.QuadEdge.prototype.isLive=function(){return this.rot!==null};jsts.triangulate.quadedge.QuadEdge.prototype.setNext=function(t){this.next=t};jsts.triangulate.quadedge.QuadEdge.prototype.invRot=function(){return this.rot.sym()};jsts.triangulate.quadedge.QuadEdge.prototype.sym=function(){return this.rot.rot};jsts.triangulate.quadedge.QuadEdge.prototype.oNext=function(){return this.next};jsts.triangulate.quadedge.QuadEdge.prototype.oPrev=function(){return this.rot.next.rot};jsts.triangulate.quadedge.QuadEdge.prototype.dNext=function(){return this.sym().oNext().sym()};jsts.triangulate.quadedge.QuadEdge.prototype.dPrev=function(){return this.invRot().oNext().invRot()};jsts.triangulate.quadedge.QuadEdge.prototype.lNext=function(){return this.invRot().oNext().rot};jsts.triangulate.quadedge.QuadEdge.prototype.lPrev=function(){return this.next.sym()};jsts.triangulate.quadedge.QuadEdge.prototype.rNext=function(){return this.rot.next.invRot()};jsts.triangulate.quadedge.QuadEdge.prototype.rPrev=function(){return this.sym().oNext()};jsts.triangulate.quadedge.QuadEdge.prototype.setOrig=function(t){this.vertex=t};jsts.triangulate.quadedge.QuadEdge.prototype.setDest=function(t){this.sym().setOrig(t)};jsts.triangulate.quadedge.QuadEdge.prototype.orig=function(){return this.vertex};jsts.triangulate.quadedge.QuadEdge.prototype.dest=function(){return this.sym().orig()};jsts.triangulate.quadedge.QuadEdge.prototype.getLength=function(){return this.orig().getCoordinate().distance(dest().getCoordinate())};jsts.triangulate.quadedge.QuadEdge.prototype.equalsNonOriented=function(t){if(this.equalsOriented(t)){return true}if(this.equalsOriented(t.sym())){return true}return false};jsts.triangulate.quadedge.QuadEdge.prototype.equalsOriented=function(t){if(this.orig().getCoordinate().equals2D(t.orig().getCoordinate())&&this.dest().getCoordinate().equals2D(t.dest().getCoordinate())){return true}return false};jsts.triangulate.quadedge.QuadEdge.prototype.toLineSegment=function(){return new jsts.geom.LineSegment(this.vertex.getCoordinate(),this.dest().getCoordinate())};jsts.triangulate.quadedge.QuadEdge.prototype.toString=function(){var t,e;t=this.vertex.getCoordinate();e=this.dest().getCoordinate();return jsts.io.WKTWriter.toLineString(t,e)}})();(function(){var t=jsts.util.Assert;jsts.geomgraph.EdgeEnd=function(t,e,r,n){this.edge=t;if(e&&r){this.init(e,r)}if(n){this.label=n||null}};jsts.geomgraph.EdgeEnd.prototype.edge=null;jsts.geomgraph.EdgeEnd.prototype.label=null;jsts.geomgraph.EdgeEnd.prototype.node=null;jsts.geomgraph.EdgeEnd.prototype.p0=null;jsts.geomgraph.EdgeEnd.prototype.p1=null;jsts.geomgraph.EdgeEnd.prototype.dx=null;jsts.geomgraph.EdgeEnd.prototype.dy=null;jsts.geomgraph.EdgeEnd.prototype.quadrant=null;jsts.geomgraph.EdgeEnd.prototype.init=function(e,r){this.p0=e;this.p1=r;this.dx=r.x-e.x;this.dy=r.y-e.y;this.quadrant=jsts.geomgraph.Quadrant.quadrant(this.dx,this.dy);t.isTrue(!(this.dx===0&&this.dy===0),"EdgeEnd with identical endpoints found")};jsts.geomgraph.EdgeEnd.prototype.getEdge=function(){return this.edge};jsts.geomgraph.EdgeEnd.prototype.getLabel=function(){return this.label};jsts.geomgraph.EdgeEnd.prototype.getCoordinate=function(){return this.p0};jsts.geomgraph.EdgeEnd.prototype.getDirectedCoordinate=function(){return this.p1};jsts.geomgraph.EdgeEnd.prototype.getQuadrant=function(){return this.quadrant};jsts.geomgraph.EdgeEnd.prototype.getDx=function(){return this.dx};jsts.geomgraph.EdgeEnd.prototype.getDy=function(){return this.dy};jsts.geomgraph.EdgeEnd.prototype.setNode=function(t){this.node=t};jsts.geomgraph.EdgeEnd.prototype.getNode=function(){return this.node};jsts.geomgraph.EdgeEnd.prototype.compareTo=function(t){return this.compareDirection(t)};jsts.geomgraph.EdgeEnd.prototype.compareDirection=function(t){if(this.dx===t.dx&&this.dy===t.dy)return 0;if(this.quadrant>t.quadrant)return 1;if(this.quadrant<t.quadrant)return-1;return jsts.algorithm.CGAlgorithms.computeOrientation(t.p0,t.p1,this.p1)};jsts.geomgraph.EdgeEnd.prototype.computeLabel=function(t){}})();jsts.operation.buffer.RightmostEdgeFinder=function(){};jsts.operation.buffer.RightmostEdgeFinder.prototype.minIndex=-1;jsts.operation.buffer.RightmostEdgeFinder.prototype.minCoord=null;jsts.operation.buffer.RightmostEdgeFinder.prototype.minDe=null;jsts.operation.buffer.RightmostEdgeFinder.prototype.orientedDe=null;jsts.operation.buffer.RightmostEdgeFinder.prototype.getEdge=function(){return this.orientedDe};jsts.operation.buffer.RightmostEdgeFinder.prototype.getCoordinate=function(){return this.minCoord};jsts.operation.buffer.RightmostEdgeFinder.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var r=e.next();if(!r.isForward())continue;this.checkForRightmostCoordinate(r)}jsts.util.Assert.isTrue(this.minIndex!==0||this.minCoord.equals(this.minDe.getCoordinate()),"inconsistency in rightmost processing");if(this.minIndex===0){this.findRightmostEdgeAtNode()}else{this.findRightmostEdgeAtVertex()}this.orientedDe=this.minDe;var n=this.getRightmostSide(this.minDe,this.minIndex);if(n==jsts.geomgraph.Position.LEFT){this.orientedDe=this.minDe.getSym()}};jsts.operation.buffer.RightmostEdgeFinder.prototype.findRightmostEdgeAtNode=function(){var t=this.minDe.getNode();var e=t.getEdges();this.minDe=e.getRightmostEdge();if(!this.minDe.isForward()){this.minDe=this.minDe.getSym();this.minIndex=this.minDe.getEdge().getCoordinates().length-1}};jsts.operation.buffer.RightmostEdgeFinder.prototype.findRightmostEdgeAtVertex=function(){var t=this.minDe.getEdge().getCoordinates();jsts.util.Assert.isTrue(this.minIndex>0&&this.minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this.minIndex-1];var r=t[this.minIndex+1];var n=jsts.algorithm.CGAlgorithms.computeOrientation(this.minCoord,r,e);var i=false;if(e.y<this.minCoord.y&&r.y<this.minCoord.y&&n===jsts.algorithm.CGAlgorithms.COUNTERCLOCKWISE){i=true}else if(e.y>this.minCoord.y&&r.y>this.minCoord.y&&n===jsts.algorithm.CGAlgorithms.CLOCKWISE){i=true}if(i){this.minIndex=this.minIndex-1}};jsts.operation.buffer.RightmostEdgeFinder.prototype.checkForRightmostCoordinate=function(t){var e=t.getEdge().getCoordinates();for(var r=0;r<e.length-1;r++){if(this.minCoord===null||e[r].x>this.minCoord.x){this.minDe=t;this.minIndex=r;this.minCoord=e[r]}}};jsts.operation.buffer.RightmostEdgeFinder.prototype.getRightmostSide=function(t,e){var r=this.getRightmostSideOfSegment(t,e);if(r<0)r=this.getRightmostSideOfSegment(t,e-1);if(r<0){this.minCoord=null;this.checkForRightmostCoordinate(t)}return r};jsts.operation.buffer.RightmostEdgeFinder.prototype.getRightmostSideOfSegment=function(t,e){var r=t.getEdge();var n=r.getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y==n[e+1].y)return-1;var i=jsts.geomgraph.Position.LEFT;if(n[e].y<n[e+1].y)i=jsts.geomgraph.Position.RIGHT;return i};(function(){jsts.triangulate.IncrementalDelaunayTriangulator=function(t){this.subdiv=t;this.isUsingTolerance=t.getTolerance()>0};jsts.triangulate.IncrementalDelaunayTriangulator.prototype.insertSites=function(t){var e=0,r=t.length,n;for(e;e<r;e++){n=t[e];this.insertSite(n)}};jsts.triangulate.IncrementalDelaunayTriangulator.prototype.insertSite=function(t){var e,r,n,i;e=this.subdiv.locate(t);if(this.subdiv.isVertexOfEdge(e,t)){return e}else if(this.subdiv.isOnEdge(e,t.getCoordinate())){e=e.oPrev();this.subdiv.delete_jsts(e.oNext())}r=this.subdiv.makeEdge(e.orig(),t);jsts.triangulate.quadedge.QuadEdge.splice(r,e);n=r;do{r=this.subdiv.connect(e,r.sym());e=r.oPrev()}while(e.lNext()!=n);do{i=e.oPrev();if(i.dest().rightOf(e)&&t.isInCircle(e.orig(),i.dest(),e.dest())){jsts.triangulate.quadedge.QuadEdge.swap(e);e=e.oPrev()}else if(e.oNext()==n){return r}else{e=e.oNext().lPrev()}}while(true)}})();jsts.algorithm.CentroidArea=function(){this.basePt=null;this.triangleCent3=new jsts.geom.Coordinate;this.centSum=new jsts.geom.Coordinate;this.cg3=new jsts.geom.Coordinate};jsts.algorithm.CentroidArea.prototype.basePt=null;jsts.algorithm.CentroidArea.prototype.triangleCent3=null;jsts.algorithm.CentroidArea.prototype.areasum2=0;jsts.algorithm.CentroidArea.prototype.cg3=null;jsts.algorithm.CentroidArea.prototype.centSum=null;jsts.algorithm.CentroidArea.prototype.totalLength=0;jsts.algorithm.CentroidArea.prototype.add=function(t){if(t instanceof jsts.geom.Polygon){var e=t;this.setBasePoint(e.getExteriorRing().getCoordinateN(0));this.add3(e)}else if(t instanceof jsts.geom.GeometryCollection||t instanceof jsts.geom.MultiPolygon){var r=t;for(var n=0;n<r.getNumGeometries();n++){this.add(r.getGeometryN(n))}}else if(t instanceof Array){this.add2(t)}};jsts.algorithm.CentroidArea.prototype.add2=function(t){this.setBasePoint(t[0]);this.addShell(t)};jsts.algorithm.CentroidArea.prototype.getCentroid=function(){var t=new jsts.geom.Coordinate;if(Math.abs(this.areasum2)>0){t.x=this.cg3.x/3/this.areasum2;t.y=this.cg3.y/3/this.areasum2}else{t.x=this.centSum.x/this.totalLength;t.y=this.centSum.y/this.totalLength}return t};jsts.algorithm.CentroidArea.prototype.setBasePoint=function(t){if(this.basePt==null)this.basePt=t};jsts.algorithm.CentroidArea.prototype.add3=function(t){this.addShell(t.getExteriorRing().getCoordinates());for(var e=0;e<t.getNumInteriorRing();e++){this.addHole(t.getInteriorRingN(e).getCoordinates())}};jsts.algorithm.CentroidArea.prototype.addShell=function(t){var e=!jsts.algorithm.CGAlgorithms.isCCW(t);for(var r=0;r<t.length-1;r++){this.addTriangle(this.basePt,t[r],t[r+1],e)}this.addLinearSegments(t)};jsts.algorithm.CentroidArea.prototype.addHole=function(t){var e=jsts.algorithm.CGAlgorithms.isCCW(t);for(var r=0;r<t.length-1;r++){this.addTriangle(this.basePt,t[r],t[r+1],e)}this.addLinearSegments(t)};jsts.algorithm.CentroidArea.prototype.addTriangle=function(t,e,r,n){var i=n?1:-1;jsts.algorithm.CentroidArea.centroid3(t,e,r,this.triangleCent3);var o=jsts.algorithm.CentroidArea.area2(t,e,r);this.cg3.x+=i*o*this.triangleCent3.x;this.cg3.y+=i*o*this.triangleCent3.y;this.areasum2+=i*o};jsts.algorithm.CentroidArea.centroid3=function(t,e,r,n){n.x=t.x+e.x+r.x;n.y=t.y+e.y+r.y;return};jsts.algorithm.CentroidArea.area2=function(t,e,r){return(e.x-t.x)*(r.y-t.y)-(r.x-t.x)*(e.y-t.y)};jsts.algorithm.CentroidArea.prototype.addLinearSegments=function(t){for(var e=0;e<t.length-1;e++){var r=t[e].distance(t[e+1]);this.totalLength+=r;var n=(t[e].x+t[e+1].x)/2;this.centSum.x+=r*n;var i=(t[e].y+t[e+1].y)/2;this.centSum.y+=r*i}};jsts.geomgraph.index.SweepLineSegment=function(t,e){this.edge=t;this.ptIndex=e;this.pts=t.getCoordinates()};jsts.geomgraph.index.SweepLineSegment.prototype.edge=null;jsts.geomgraph.index.SweepLineSegment.prototype.pts=null;jsts.geomgraph.index.SweepLineSegment.prototype.ptIndex=null;jsts.geomgraph.index.SweepLineSegment.prototype.getMinX=function(){var t=this.pts[this.ptIndex].x;var e=this.pts[this.ptIndex+1].x;if(t<e){return t}return e};jsts.geomgraph.index.SweepLineSegment.prototype.getMaxX=function(){var t=this.pts[this.ptIndex].x;var e=this.pts[this.ptIndex+1].x;if(t>e){return t}return e};jsts.geomgraph.index.SweepLineSegment.prototype.computeIntersections=function(t,e){e.addIntersections(this.edge,this.ptIndex,t.edge,t.ptIndex)};jsts.index.quadtree.Root=function(){jsts.index.quadtree.NodeBase.prototype.constructor.apply(this,arguments);this.origin=new jsts.geom.Coordinate(0,0)};jsts.index.quadtree.Root.prototype=new jsts.index.quadtree.NodeBase;jsts.index.quadtree.Root.prototype.insert=function(t,e){var r=this.getSubnodeIndex(t,this.origin);if(r===-1){this.add(e);return}var n=this.subnode[r];if(n===null||!n.getEnvelope().contains(t)){var i=jsts.index.quadtree.Node.createExpanded(n,t);this.subnode[r]=i}this.insertContained(this.subnode[r],t,e)};jsts.index.quadtree.Root.prototype.insertContained=function(t,e,r){var n,i,o;n=jsts.index.IntervalSize.isZeroWidth(e.getMinX(),e.getMaxX());i=jsts.index.IntervalSize.isZeroWidth(e.getMinY(),e.getMaxY());if(n||i){o=t.find(e)}else{o=t.getNode(e)}o.add(r)};jsts.index.quadtree.Root.prototype.isSearchMatch=function(t){return true};jsts.geomgraph.index.MonotoneChainIndexer=function(){};jsts.geomgraph.index.MonotoneChainIndexer.toIntArray=function(t){var e=[];for(var r=t.iterator();r.hasNext();){var n=r.next();e.push(n)}return e};jsts.geomgraph.index.MonotoneChainIndexer.prototype.getChainStartIndices=function(t){var e=0;var r=new javascript.util.ArrayList;r.add(e);do{var n=this.findChainEnd(t,e);r.add(n);e=n}while(e<t.length-1);var i=jsts.geomgraph.index.MonotoneChainIndexer.toIntArray(r);return i};jsts.geomgraph.index.MonotoneChainIndexer.prototype.findChainEnd=function(t,e){var r=jsts.geomgraph.Quadrant.quadrant(t[e],t[e+1]);var n=e+1;while(n<t.length){var i=jsts.geomgraph.Quadrant.quadrant(t[n-1],t[n]);if(i!=r){break}n++}return n-1};jsts.noding.IntersectionAdder=function(t){this.li=t};jsts.noding.IntersectionAdder.prototype=new jsts.noding.SegmentIntersector;jsts.noding.IntersectionAdder.constructor=jsts.noding.IntersectionAdder;jsts.noding.IntersectionAdder.isAdjacentSegments=function(t,e){return Math.abs(t-e)===1};jsts.noding.IntersectionAdder.prototype._hasIntersection=false;jsts.noding.IntersectionAdder.prototype.hasProper=false;jsts.noding.IntersectionAdder.prototype.hasProperInterior=false;jsts.noding.IntersectionAdder.prototype.hasInterior=false;jsts.noding.IntersectionAdder.prototype.properIntersectionPoint=null;jsts.noding.IntersectionAdder.prototype.li=null;jsts.noding.IntersectionAdder.prototype.isSelfIntersection=null;jsts.noding.IntersectionAdder.prototype.numIntersections=0;jsts.noding.IntersectionAdder.prototype.numInteriorIntersections=0;jsts.noding.IntersectionAdder.prototype.numProperIntersections=0;jsts.noding.IntersectionAdder.prototype.numTests=0;jsts.noding.IntersectionAdder.prototype.getLineIntersector=function(){return this.li};jsts.noding.IntersectionAdder.prototype.getProperIntersectionPoint=function(){return this.properIntersectionPoint};jsts.noding.IntersectionAdder.prototype.hasIntersection=function(){return this._hasIntersection};jsts.noding.IntersectionAdder.prototype.hasProperIntersection=function(){return this.hasProper};jsts.noding.IntersectionAdder.prototype.hasProperInteriorIntersection=function(){return this.hasProperInterior};jsts.noding.IntersectionAdder.prototype.hasInteriorIntersection=function(){return this.hasInterior};jsts.noding.IntersectionAdder.prototype.isTrivialIntersection=function(t,e,r,n){if(t==r){if(this.li.getIntersectionNum()==1){if(jsts.noding.IntersectionAdder.isAdjacentSegments(e,n))return true;if(t.isClosed()){var i=t.size()-1;if(e===0&&n===i||n===0&&e===i){return true}}}}return false};jsts.noding.IntersectionAdder.prototype.processIntersections=function(t,e,r,n){if(t===r&&e===n)return;this.numTests++;var i=t.getCoordinates()[e];var o=t.getCoordinates()[e+1];var s=r.getCoordinates()[n];var a=r.getCoordinates()[n+1];this.li.computeIntersection(i,o,s,a);if(this.li.hasIntersection()){this.numIntersections++;if(this.li.isInteriorIntersection()){this.numInteriorIntersections++;this.hasInterior=true}if(!this.isTrivialIntersection(t,e,r,n)){this._hasIntersection=true;t.addIntersections(this.li,e,0);r.addIntersections(this.li,n,1);if(this.li.isProper()){this.numProperIntersections++;this.hasProper=true;this.hasProperInterior=true}}}};jsts.noding.IntersectionAdder.prototype.isDone=function(){return false};jsts.operation.union.CascadedPolygonUnion=function(t){this.inputPolys=t};jsts.operation.union.CascadedPolygonUnion.union=function(t){var e=new jsts.operation.union.CascadedPolygonUnion(t);return e.union()};jsts.operation.union.CascadedPolygonUnion.prototype.inputPolys;jsts.operation.union.CascadedPolygonUnion.prototype.geomFactory=null;jsts.operation.union.CascadedPolygonUnion.prototype.STRTREE_NODE_CAPACITY=4;jsts.operation.union.CascadedPolygonUnion.prototype.union=function(){if(this.inputPolys.length===0){return null}this.geomFactory=this.inputPolys[0].getFactory();var t=new jsts.index.strtree.STRtree(this.STRTREE_NODE_CAPACITY);for(var e=0,r=this.inputPolys.length;e<r;e++){var n=this.inputPolys[e];t.insert(n.getEnvelopeInternal(),n)}var i=t.itemsTree();var o=this.unionTree(i);return o};jsts.operation.union.CascadedPolygonUnion.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);var r=this.binaryUnion(e);return r};jsts.operation.union.CascadedPolygonUnion.prototype.binaryUnion=function(t,e,r){e=e||0;r=r||t.length;if(r-e<=1){var n=this.getGeometry(t,e);return this.unionSafe(n,null)}else if(r-e===2){return this.unionSafe(this.getGeometry(t,e),this.getGeometry(t,e+1))}else{var i=parseInt((r+e)/2);var n=this.binaryUnion(t,e,i);var o=this.binaryUnion(t,i,r);return this.unionSafe(n,o)}};jsts.operation.union.CascadedPolygonUnion.prototype.getGeometry=function(t,e){if(e>=t.length){return null}return t[e]};jsts.operation.union.CascadedPolygonUnion.prototype.reduceToGeometries=function(t){var e=[];for(var r=0,n=t.length;r<n;r++){var i=t[r],o=null;if(i instanceof Array){o=this.unionTree(i)}else if(i instanceof jsts.geom.Geometry){o=i}e.push(o)}return e};jsts.operation.union.CascadedPolygonUnion.prototype.unionSafe=function(t,e){if(t===null&&e===null){return null}if(t===null){return e.clone()}if(e===null){return t.clone()}return this.unionOptimized(t,e)};jsts.operation.union.CascadedPolygonUnion.prototype.unionOptimized=function(t,e){var r=t.getEnvelopeInternal(),n=e.getEnvelopeInternal();if(!r.intersects(n)){var i=jsts.geom.util.GeometryCombiner.combine(t,e);return i}if(t.getNumGeometries<=1&&e.getNumGeometries<=1){return this.unionActual(t,e)}var o=r.intersection(n);return this.unionUsingEnvelopeIntersection(t,e,o)};jsts.operation.union.CascadedPolygonUnion.prototype.unionUsingEnvelopeIntersection=function(t,e,r){var n=new javascript.util.ArrayList;var i=this.extractByEnvelope(r,t,n);var o=this.extractByEnvelope(r,e,n);var s=this.unionActual(i,o);n.add(s);var a=jsts.geom.util.GeometryCombiner.combine(n);return a};jsts.operation.union.CascadedPolygonUnion.prototype.extractByEnvelope=function(t,e,r){var n=new javascript.util.ArrayList;for(var i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);if(o.getEnvelopeInternal().intersects(t)){n.add(o)}else{r.add(o)}}return this.geomFactory.buildGeometry(n)};jsts.operation.union.CascadedPolygonUnion.prototype.unionActual=function(t,e){return t.union(e)};(function(){jsts.geom.MultiPoint=function(t,e){this.geometries=t||[];this.factory=e};jsts.geom.MultiPoint.prototype=new jsts.geom.GeometryCollection;jsts.geom.MultiPoint.constructor=jsts.geom.MultiPoint;jsts.geom.MultiPoint.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)};jsts.geom.MultiPoint.prototype.getGeometryN=function(t){return this.geometries[t]};jsts.geom.MultiPoint.prototype.equalsExact=function(t,e){if(!this.isEquivalentClass(t)){return false}return jsts.geom.GeometryCollection.prototype.equalsExact.call(this,t,e)};jsts.geom.MultiPoint.prototype.CLASS_NAME="jsts.geom.MultiPoint"})();jsts.operation.buffer.OffsetCurveBuilder=function(t,e){this.precisionModel=t;this.bufParams=e};jsts.operation.buffer.OffsetCurveBuilder.prototype.distance=0;jsts.operation.buffer.OffsetCurveBuilder.prototype.precisionModel=null;jsts.operation.buffer.OffsetCurveBuilder.prototype.bufParams=null;jsts.operation.buffer.OffsetCurveBuilder.prototype.getBufferParameters=function(){return this.bufParams};jsts.operation.buffer.OffsetCurveBuilder.prototype.getLineCurve=function(t,e){this.distance=e;if(this.distance<0&&!this.bufParams.isSingleSided())return null;if(this.distance==0)return null;var r=Math.abs(this.distance);var n=this.getSegGen(r);if(t.length<=1){this.computePointCurve(t[0],n)}else{if(this.bufParams.isSingleSided()){var i=e<0;this.computeSingleSidedBufferCurve(t,i,n)}else this.computeLineBufferCurve(t,n)}var o=n.getCoordinates();return o};jsts.operation.buffer.OffsetCurveBuilder.prototype.getRingCurve=function(t,e,r){this.distance=r;if(t.length<=2)return this.getLineCurve(t,r);if(this.distance==0){return jsts.operation.buffer.OffsetCurveBuilder.copyCoordinates(t)}var n=this.getSegGen(this.distance);this.computeRingBufferCurve(t,e,n);return n.getCoordinates()};jsts.operation.buffer.OffsetCurveBuilder.prototype.getOffsetCurve=function(t,e){this.distance=e;if(this.distance===0)return null;var r=this.distance<0;var n=Math.abs(this.distance);var i=this.getSegGen(n);if(t.length<=1){this.computePointCurve(t[0],i)}else{this.computeOffsetCurve(t,r,i)}var o=i.getCoordinates();if(r)o.reverse();return o};jsts.operation.buffer.OffsetCurveBuilder.copyCoordinates=function(t){var e=[];for(var r=0;r<t.length;r++){e.push(t[r].clone())}return e};jsts.operation.buffer.OffsetCurveBuilder.prototype.getSegGen=function(t){return new jsts.operation.buffer.OffsetSegmentGenerator(this.precisionModel,this.bufParams,t)};jsts.operation.buffer.OffsetCurveBuilder.SIMPLIFY_FACTOR=100;jsts.operation.buffer.OffsetCurveBuilder.simplifyTolerance=function(t){return t/jsts.operation.buffer.OffsetCurveBuilder.SIMPLIFY_FACTOR};jsts.operation.buffer.OffsetCurveBuilder.prototype.computePointCurve=function(t,e){switch(this.bufParams.getEndCapStyle()){case jsts.operation.buffer.BufferParameters.CAP_ROUND:e.createCircle(t);break;

case jsts.operation.buffer.BufferParameters.CAP_SQUARE:e.createSquare(t);break}};jsts.operation.buffer.OffsetCurveBuilder.prototype.computeLineBufferCurve=function(t,e){var r=jsts.operation.buffer.OffsetCurveBuilder.simplifyTolerance(this.distance);var n=jsts.operation.buffer.BufferInputLineSimplifier.simplify(t,r);var i=n.length-1;e.initSideSegments(n[0],n[1],jsts.geomgraph.Position.LEFT);for(var o=2;o<=i;o++){e.addNextSegment(n[o],true)}e.addLastSegment();e.addLineEndCap(n[i-1],n[i]);var s=jsts.operation.buffer.BufferInputLineSimplifier.simplify(t,-r);var a=s.length-1;e.initSideSegments(s[a],s[a-1],jsts.geomgraph.Position.LEFT);for(var o=a-2;o>=0;o--){e.addNextSegment(s[o],true)}e.addLastSegment();e.addLineEndCap(s[1],s[0]);e.closeRing()};jsts.operation.buffer.OffsetCurveBuilder.prototype.computeSingleSidedBufferCurve=function(t,e,r){var n=jsts.operation.buffer.OffsetCurveBuilder.simplifyTolerance(this.distance);if(e){r.addSegments(t,true);var i=jsts.operation.buffer.BufferInputLineSimplifier.simplify(t,-n);var o=i.length-1;r.initSideSegments(i[o],i[o-1],jsts.geomgraph.Position.LEFT);r.addFirstSegment();for(var s=o-2;s>=0;s--){r.addNextSegment(i[s],true)}}else{r.addSegments(t,false);var a=jsts.operation.buffer.BufferInputLineSimplifier.simplify(t,n);var u=a.length-1;r.initSideSegments(a[0],a[1],jsts.geomgraph.Position.LEFT);r.addFirstSegment();for(var s=2;s<=u;s++){r.addNextSegment(a[s],true)}}r.addLastSegment();r.closeRing()};jsts.operation.buffer.OffsetCurveBuilder.prototype.computeOffsetCurve=function(t,e,r){var n=jsts.operation.buffer.OffsetCurveBuilder.simplifyTolerance(this.distance);if(e){var i=jsts.operation.buffer.BufferInputLineSimplifier.simplify(t,-n);var o=i.length-1;r.initSideSegments(i[o],i[o-1],jsts.geomgraph.Position.LEFT);r.addFirstSegment();for(var s=o-2;s>=0;s--){r.addNextSegment(i[s],true)}}else{var a=jsts.operation.buffer.BufferInputLineSimplifier.simplify(t,n);var u=a.length-1;r.initSideSegments(a[0],a[1],jsts.geomgraph.Position.LEFT);r.addFirstSegment();for(var s=2;s<=u;s++){r.addNextSegment(a[s],true)}}r.addLastSegment()};jsts.operation.buffer.OffsetCurveBuilder.prototype.computeRingBufferCurve=function(t,e,r){var n=jsts.operation.buffer.OffsetCurveBuilder.simplifyTolerance(this.distance);if(e===jsts.geomgraph.Position.RIGHT)n=-n;var i=jsts.operation.buffer.BufferInputLineSimplifier.simplify(t,n);var o=i.length-1;r.initSideSegments(i[o-1],i[0],e);for(var s=1;s<=o;s++){var a=s!==1;r.addNextSegment(i[s],a)}r.closeRing()};(function(){var t=function(t,e,r){this.hotPixel=t;this.parentEdge=e;this.vertexIndex=r};t.prototype=new jsts.index.chain.MonotoneChainSelectAction;t.constructor=t;t.prototype.hotPixel=null;t.prototype.parentEdge=null;t.prototype.vertexIndex=null;t.prototype._isNodeAdded=false;t.prototype.isNodeAdded=function(){return this._isNodeAdded};t.prototype.select=function(t,e){var r=t.getContext();if(this.parentEdge!==null){if(r===this.parentEdge&&e===this.vertexIndex)return}this._isNodeAdded=this.hotPixel.addSnappedNode(r,e)};jsts.noding.snapround.MCIndexPointSnapper=function(t){this.index=t};jsts.noding.snapround.MCIndexPointSnapper.prototype.index=null;jsts.noding.snapround.MCIndexPointSnapper.prototype.snap=function(e,r,n){if(arguments.length===1){this.snap2.apply(this,arguments);return}var i=e.getSafeEnvelope();var o=new t(e,r,n);this.index.query(i,{visitItem:function(t){t.select(i,o)}});return o.isNodeAdded()};jsts.noding.snapround.MCIndexPointSnapper.prototype.snap2=function(t){return this.snap(t,null,-1)}})();(function(){var t=function(){this.items=new javascript.util.ArrayList;this.subnode=[null,null]};t.getSubnodeIndex=function(t,e){var r=-1;if(t.min>=e){r=1}if(t.max<=e){r=0}return r};t.prototype.getItems=function(){return this.items};t.prototype.add=function(t){this.items.add(t)};t.prototype.addAllItems=function(t){t.addAll(this.items);var e=0,r=2;for(e;e<r;e++){if(this.subnode[e]!==null){this.subnode[e].addAllItems(t)}}return t};t.prototype.addAllItemsFromOverlapping=function(t,e){if(t!==null&&!this.isSearchMatch(t)){return}e.addAll(this.items);if(this.subnode[0]!==null){this.subnode[0].addAllItemsFromOverlapping(t,e)}if(this.subnode[1]!==null){this.subnode[1].addAllItemsFromOverlapping(t,e)}};t.prototype.remove=function(t,e){if(!this.isSearchMatch(t)){return false}var r=false,n=0,i=2;for(n;n<i;n++){if(this.subnode[n]!==null){r=this.subnode[n].remove(t,e);if(r){if(this.subnode[n].isPrunable()){this.subnode[n]=null}break}}}if(r){return r}r=this.items.remove(e);return r};t.prototype.isPrunable=function(){return!(this.hasChildren()||this.hasItems())};t.prototype.hasChildren=function(){var t=0,e=2;for(t;t<e;t++){if(this.subnode[t]!==null){return true}}return false};t.prototype.hasItems=function(){return!this.items.isEmpty()};t.prototype.depth=function(){var t=0,e=0,r=2,n;for(e;e<r;e++){if(this.subnode[e]!==null){n=this.subnode[e].depth();if(n>t){t=n}}}return t+1};t.prototype.size=function(){var t=0,e=0,r=2;for(e;e<r;e++){if(this.subnode[e]!==null){t+=this.subnode[e].size()}}return t+this.items.size()};t.prototype.nodeSize=function(){var t=0,e=0,r=2;for(e;e<r;e++){if(this.subnode[e]!==null){t+=this.subnode[e].nodeSize()}}return t+1};jsts.index.bintree.NodeBase=t})();(function(){var t=jsts.index.bintree.NodeBase;var e=jsts.index.bintree.Key;var r=jsts.index.bintree.Interval;var n=function(t,e){this.items=new javascript.util.ArrayList;this.subnode=[null,null];this.interval=t;this.level=e;this.centre=(t.getMin()+t.getMax())/2};n.prototype=new t;n.constructor=n;n.createNode=function(t){var r,i;r=new e(t);i=new n(r.getInterval(),r.getLevel());return i};n.createExpanded=function(t,e){var i,o;i=new r(e);if(t!==null){i.expandToInclude(t.interval)}o=n.createNode(i);if(t!==null){o.insert(t)}return o};n.prototype.getInterval=function(){return this.interval};n.prototype.isSearchMatch=function(t){return t.overlaps(this.interval)};n.prototype.getNode=function(e){var r=t.getSubnodeIndex(e,this.centre),n;if(r!=-1){n=this.getSubnode(r);return n.getNode(e)}else{return this}};n.prototype.find=function(e){var r=t.getSubnodeIndex(e,this.centre),n;if(r===-1){return this}if(this.subnode[r]!==null){n=this.subnode[r];return n.find(e)}return this};n.prototype.insert=function(e){var r=t.getSubnodeIndex(e.interval,this.centre),n;if(e.level===this.level-1){this.subnode[r]=e}else{n=this.createSubnode(r);n.insert(e);this.subnode[r]=n}};n.prototype.getSubnode=function(t){if(this.subnode[t]===null){this.subnode[t]=this.createSubnode(t)}return this.subnode[t]};n.prototype.createSubnode=function(t){var e,i,o,s;e=0;i=0;switch(t){case 0:e=this.interval.getMin();i=this.centre;break;case 1:e=this.centre;i=this.interval.getMax();break}o=new r(e,i);s=new n(o,this.level-1);return s};jsts.index.bintree.Node=n})();(function(){var t=jsts.index.bintree.Node;var e=jsts.index.bintree.NodeBase;var r=function(){this.subnode=[null,null];this.items=new javascript.util.ArrayList};r.prototype=new jsts.index.bintree.NodeBase;r.constructor=r;r.origin=0;r.prototype.insert=function(n,i){var o=e.getSubnodeIndex(n,r.origin),s,a;if(o===-1){this.add(i);return}s=this.subnode[o];if(s===null||!s.getInterval().contains(n)){a=t.createExpanded(s,n);this.subnode[o]=a}this.insertContained(this.subnode[o],n,i)};r.prototype.insertContained=function(t,e,r){var n,i;n=jsts.index.IntervalSize.isZeroWidth(e.getMin(),e.getMax());i=n?t.find(e):t.getNode(e);i.add(r)};r.prototype.isSearchMatch=function(t){return true};jsts.index.bintree.Root=r})();jsts.geomgraph.Quadrant=function(){};jsts.geomgraph.Quadrant.NE=0;jsts.geomgraph.Quadrant.NW=1;jsts.geomgraph.Quadrant.SW=2;jsts.geomgraph.Quadrant.SE=3;jsts.geomgraph.Quadrant.quadrant=function(t,e){if(t instanceof jsts.geom.Coordinate){return jsts.geomgraph.Quadrant.quadrant2.apply(this,arguments)}if(t===0&&e===0)throw new jsts.error.IllegalArgumentError("Cannot compute the quadrant for point ( "+t+", "+e+" )");if(t>=0){if(e>=0)return jsts.geomgraph.Quadrant.NE;else return jsts.geomgraph.Quadrant.SE}else{if(e>=0)return jsts.geomgraph.Quadrant.NW;else return jsts.geomgraph.Quadrant.SW}};jsts.geomgraph.Quadrant.quadrant2=function(t,e){if(e.x===t.x&&e.y===t.y)throw new jsts.error.IllegalArgumentError("Cannot compute the quadrant for two identical points "+t);if(e.x>=t.x){if(e.y>=t.y)return jsts.geomgraph.Quadrant.NE;else return jsts.geomgraph.Quadrant.SE}else{if(e.y>=t.y)return jsts.geomgraph.Quadrant.NW;else return jsts.geomgraph.Quadrant.SW}};jsts.geomgraph.Quadrant.isOpposite=function(t,e){if(t===e)return false;var r=(t-e+4)%4;if(r===2)return true;return false};jsts.geomgraph.Quadrant.commonHalfPlane=function(t,e){if(t===e)return t;var r=(t-e+4)%4;if(r===2)return-1;var n=t<e?t:e;var i=t>e?t:e;if(n===0&&i===3)return 3;return n};jsts.geomgraph.Quadrant.isInHalfPlane=function(t,e){if(e===jsts.geomgraph.Quadrant.SE){return t===jsts.geomgraph.Quadrant.SE||t===jsts.geomgraph.Quadrant.SW}return t===e||t===e+1};jsts.geomgraph.Quadrant.isNorthern=function(t){return t===jsts.geomgraph.Quadrant.NE||t===jsts.geomgraph.Quadrant.NW};jsts.operation.valid.ConsistentAreaTester=function(t){this.geomGraph=t;this.li=new jsts.algorithm.RobustLineIntersector;this.nodeGraph=new jsts.operation.relate.RelateNodeGraph;this.invalidPoint=null};jsts.operation.valid.ConsistentAreaTester.prototype.getInvalidPoint=function(){return this.invalidPoint};jsts.operation.valid.ConsistentAreaTester.prototype.isNodeConsistentArea=function(){var t=this.geomGraph.computeSelfNodes(this.li,true);if(t.hasProperIntersection()){this.invalidPoint=t.getProperIntersectionPoint();return false}this.nodeGraph.build(this.geomGraph);return this.isNodeEdgeAreaLabelsConsistent()};jsts.operation.valid.ConsistentAreaTester.prototype.isNodeEdgeAreaLabelsConsistent=function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();){var e=t.next();if(!e.getEdges().isAreaLabelsConsistent(this.geomGraph)){this.invalidPoint=e.getCoordinate().clone();return false}}return true};jsts.operation.valid.ConsistentAreaTester.prototype.hasDuplicateRings=function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();){var e=t.next();for(var r=e.getEdges().iterator();r.hasNext();){var n=r.next();if(n.getEdgeEnds().length>1){invalidPoint=n.getEdge().getCoordinate(0);return true}}}return false};jsts.operation.relate.RelateNode=function(t,e){jsts.geomgraph.Node.apply(this,arguments)};jsts.operation.relate.RelateNode.prototype=new jsts.geomgraph.Node;jsts.operation.relate.RelateNode.prototype.computeIM=function(t){t.setAtLeastIfValid(this.label.getLocation(0),this.label.getLocation(1),0)};jsts.operation.relate.RelateNode.prototype.updateIMFromEdges=function(t){this.edges.updateIM(t)};(function(){var t=jsts.geom.Location;var e=jsts.geomgraph.Position;var r=jsts.geomgraph.EdgeEnd;jsts.geomgraph.DirectedEdge=function(t,e){r.call(this,t);this.depth=[0,-999,-999];this._isForward=e;if(e){this.init(t.getCoordinate(0),t.getCoordinate(1))}else{var n=t.getNumPoints()-1;this.init(t.getCoordinate(n),t.getCoordinate(n-1))}this.computeDirectedLabel()};jsts.geomgraph.DirectedEdge.prototype=new r;jsts.geomgraph.DirectedEdge.constructor=jsts.geomgraph.DirectedEdge;jsts.geomgraph.DirectedEdge.depthFactor=function(e,r){if(e===t.EXTERIOR&&r===t.INTERIOR)return 1;else if(e===t.INTERIOR&&r===t.EXTERIOR)return-1;return 0};jsts.geomgraph.DirectedEdge.prototype._isForward=null;jsts.geomgraph.DirectedEdge.prototype._isInResult=false;jsts.geomgraph.DirectedEdge.prototype._isVisited=false;jsts.geomgraph.DirectedEdge.prototype.sym=null;jsts.geomgraph.DirectedEdge.prototype.next=null;jsts.geomgraph.DirectedEdge.prototype.nextMin=null;jsts.geomgraph.DirectedEdge.prototype.edgeRing=null;jsts.geomgraph.DirectedEdge.prototype.minEdgeRing=null;jsts.geomgraph.DirectedEdge.prototype.depth=null;jsts.geomgraph.DirectedEdge.prototype.getEdge=function(){return this.edge};jsts.geomgraph.DirectedEdge.prototype.setInResult=function(t){this._isInResult=t};jsts.geomgraph.DirectedEdge.prototype.isInResult=function(){return this._isInResult};jsts.geomgraph.DirectedEdge.prototype.isVisited=function(){return this._isVisited};jsts.geomgraph.DirectedEdge.prototype.setVisited=function(t){this._isVisited=t};jsts.geomgraph.DirectedEdge.prototype.setEdgeRing=function(t){this.edgeRing=t};jsts.geomgraph.DirectedEdge.prototype.getEdgeRing=function(){return this.edgeRing};jsts.geomgraph.DirectedEdge.prototype.setMinEdgeRing=function(t){this.minEdgeRing=t};jsts.geomgraph.DirectedEdge.prototype.getMinEdgeRing=function(){return this.minEdgeRing};jsts.geomgraph.DirectedEdge.prototype.getDepth=function(t){return this.depth[t]};jsts.geomgraph.DirectedEdge.prototype.setDepth=function(t,e){if(this.depth[t]!==-999){if(this.depth[t]!==e)throw new jsts.error.TopologyError("assigned depths do not match",this.getCoordinate())}this.depth[t]=e};jsts.geomgraph.DirectedEdge.prototype.getDepthDelta=function(){var t=this.edge.getDepthDelta();if(!this._isForward)t=-t;return t};jsts.geomgraph.DirectedEdge.prototype.setVisitedEdge=function(t){this.setVisited(t);this.sym.setVisited(t)};jsts.geomgraph.DirectedEdge.prototype.getSym=function(){return this.sym};jsts.geomgraph.DirectedEdge.prototype.isForward=function(){return this._isForward};jsts.geomgraph.DirectedEdge.prototype.setSym=function(t){this.sym=t};jsts.geomgraph.DirectedEdge.prototype.getNext=function(){return this.next};jsts.geomgraph.DirectedEdge.prototype.setNext=function(t){this.next=t};jsts.geomgraph.DirectedEdge.prototype.getNextMin=function(){return this.nextMin};jsts.geomgraph.DirectedEdge.prototype.setNextMin=function(t){this.nextMin=t};jsts.geomgraph.DirectedEdge.prototype.isLineEdge=function(){var e=this.label.isLine(0)||this.label.isLine(1);var r=!this.label.isArea(0)||this.label.allPositionsEqual(0,t.EXTERIOR);var n=!this.label.isArea(1)||this.label.allPositionsEqual(1,t.EXTERIOR);return e&&r&&n};jsts.geomgraph.DirectedEdge.prototype.isInteriorAreaEdge=function(){var r=true;for(var n=0;n<2;n++){if(!(this.label.isArea(n)&&this.label.getLocation(n,e.LEFT)===t.INTERIOR&&this.label.getLocation(n,e.RIGHT)===t.INTERIOR)){r=false}}return r};jsts.geomgraph.DirectedEdge.prototype.computeDirectedLabel=function(){this.label=new jsts.geomgraph.Label(this.edge.getLabel());if(!this._isForward)this.label.flip()};jsts.geomgraph.DirectedEdge.prototype.setEdgeDepths=function(t,r){var n=this.getEdge().getDepthDelta();if(!this._isForward)n=-n;var i=1;if(t===e.LEFT)i=-1;var o=e.opposite(t);var s=n*i;var a=r+s;this.setDepth(t,r);this.setDepth(o,a)}})();jsts.operation.distance.DistanceOp=function(t,e,r){this.ptLocator=new jsts.algorithm.PointLocator;this.geom=[];this.geom[0]=t;this.geom[1]=e;this.terminateDistance=r};jsts.operation.distance.DistanceOp.prototype.geom=null;jsts.operation.distance.DistanceOp.prototype.terminateDistance=0;jsts.operation.distance.DistanceOp.prototype.ptLocator=null;jsts.operation.distance.DistanceOp.prototype.minDistanceLocation=null;jsts.operation.distance.DistanceOp.prototype.minDistance=Number.MAX_VALUE;jsts.operation.distance.DistanceOp.distance=function(t,e){var r=new jsts.operation.distance.DistanceOp(t,e,0);return r.distance()};jsts.operation.distance.DistanceOp.isWithinDistance=function(t,e,r){var n=new jsts.operation.distance.DistanceOp(t,e,r);return n.distance()<=r};jsts.operation.distance.DistanceOp.nearestPoints=function(t,e){var r=new jsts.operation.distance.DistanceOp(t,e,0);return r.nearestPoints()};jsts.operation.distance.DistanceOp.prototype.distance=function(){if(this.geom[0]===null||this.geom[1]===null)throw new jsts.error.IllegalArgumentError("null geometries are not supported");if(this.geom[0].isEmpty()||this.geom[1].isEmpty())return 0;this.computeMinDistance();return this.minDistance};jsts.operation.distance.DistanceOp.prototype.nearestPoints=function(){this.computeMinDistance();var t=[this.minDistanceLocation[0].getCoordinate(),this.minDistanceLocation[1].getCoordinate()];return t};jsts.operation.distance.DistanceOp.prototype.nearestLocations=function(){this.computeMinDistance();return this.minDistanceLocation};jsts.operation.distance.DistanceOp.prototype.updateMinDistance=function(t,e){if(t[0]===null)return;if(e){this.minDistanceLocation[0]=t[1];this.minDistanceLocation[1]=t[0]}else{this.minDistanceLocation[0]=t[0];this.minDistanceLocation[1]=t[1]}};jsts.operation.distance.DistanceOp.prototype.computeMinDistance=function(){if(arguments.length>0){this.computeMinDistance2.apply(this,arguments);return}if(this.minDistanceLocation!==null)return;this.minDistanceLocation=[];this.computeContainmentDistance();if(this.minDistance<=this.terminateDistance)return;this.computeFacetDistance()};jsts.operation.distance.DistanceOp.prototype.computeContainmentDistance=function(){if(arguments.length===2){this.computeContainmentDistance2.apply(this,arguments);return}else if(arguments.length===3&&!arguments[0]instanceof jsts.operation.distance.GeometryLocation){this.computeContainmentDistance3.apply(this,arguments);return}else if(arguments.length===3){this.computeContainmentDistance4.apply(this,arguments);return}var t=[];this.computeContainmentDistance2(0,t);if(this.minDistance<=this.terminateDistance)return;this.computeContainmentDistance2(1,t)};jsts.operation.distance.DistanceOp.prototype.computeContainmentDistance2=function(t,e){var r=1-t;var n=jsts.geom.util.PolygonExtracter.getPolygons(this.geom[t]);if(n.length>0){var i=jsts.operation.distance.ConnectedElementLocationFilter.getLocations(this.geom[r]);this.computeContainmentDistance3(i,n,e);if(this.minDistance<=this.terminateDistance){this.minDistanceLocation[r]=e[0];this.minDistanceLocation[t]=e[1];return}}};jsts.operation.distance.DistanceOp.prototype.computeContainmentDistance3=function(t,e,r){for(var n=0;n<t.length;n++){var i=t[n];for(var o=0;o<e.length;o++){this.computeContainmentDistance4(i,e[o],r);if(this.minDistance<=this.terminateDistance)return}}};jsts.operation.distance.DistanceOp.prototype.computeContainmentDistance4=function(t,e,r){var n=t.getCoordinate();if(jsts.geom.Location.EXTERIOR!==this.ptLocator.locate(n,e)){this.minDistance=0;r[0]=t;r[1]=new jsts.operation.distance.GeometryLocation(e,n);return}};jsts.operation.distance.DistanceOp.prototype.computeFacetDistance=function(){var t=[];var e=jsts.geom.util.LinearComponentExtracter.getLines(this.geom[0]);var r=jsts.geom.util.LinearComponentExtracter.getLines(this.geom[1]);var n=jsts.geom.util.PointExtracter.getPoints(this.geom[0]);var i=jsts.geom.util.PointExtracter.getPoints(this.geom[1]);this.computeMinDistanceLines(e,r,t);this.updateMinDistance(t,false);if(this.minDistance<=this.terminateDistance)return;t[0]=null;t[1]=null;this.computeMinDistanceLinesPoints(e,i,t);this.updateMinDistance(t,false);if(this.minDistance<=this.terminateDistance)return;t[0]=null;t[1]=null;this.computeMinDistanceLinesPoints(r,n,t);this.updateMinDistance(t,true);if(this.minDistance<=this.terminateDistance)return;t[0]=null;t[1]=null;this.computeMinDistancePoints(n,i,t);this.updateMinDistance(t,false)};jsts.operation.distance.DistanceOp.prototype.computeMinDistanceLines=function(t,e,r){for(var n=0;n<t.length;n++){var i=t[n];for(var o=0;o<e.length;o++){var s=e[o];this.computeMinDistance(i,s,r);if(this.minDistance<=this.terminateDistance)return}}};jsts.operation.distance.DistanceOp.prototype.computeMinDistancePoints=function(t,e,r){for(var n=0;n<t.length;n++){var i=t[n];for(var o=0;o<e.length;o++){var s=e[o];var a=i.getCoordinate().distance(s.getCoordinate());if(a<this.minDistance){this.minDistance=a;r[0]=new jsts.operation.distance.GeometryLocation(i,0,i.getCoordinate());r[1]=new jsts.operation.distance.GeometryLocation(s,0,s.getCoordinate())}if(this.minDistance<=this.terminateDistance)return}}};jsts.operation.distance.DistanceOp.prototype.computeMinDistanceLinesPoints=function(t,e,r){for(var n=0;n<t.length;n++){var i=t[n];for(var o=0;o<e.length;o++){var s=e[o];this.computeMinDistance(i,s,r);if(this.minDistance<=this.terminateDistance)return}}};jsts.operation.distance.DistanceOp.prototype.computeMinDistance2=function(t,e,r){if(e instanceof jsts.geom.Point){this.computeMinDistance3(t,e,r);return}if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this.minDistance){return}var n=t.getCoordinates();var i=e.getCoordinates();for(var o=0;o<n.length-1;o++){for(var s=0;s<i.length-1;s++){var a=jsts.algorithm.CGAlgorithms.distanceLineLine(n[o],n[o+1],i[s],i[s+1]);if(a<this.minDistance){this.minDistance=a;var u=new jsts.geom.LineSegment(n[o],n[o+1]);var p=new jsts.geom.LineSegment(i[s],i[s+1]);var l=u.closestPoints(p);r[0]=new jsts.operation.distance.GeometryLocation(t,o,l[0]);r[1]=new jsts.operation.distance.GeometryLocation(e,s,l[1])}if(this.minDistance<=this.terminateDistance){return}}}};jsts.operation.distance.DistanceOp.prototype.computeMinDistance3=function(t,e,r){if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this.minDistance){return}var n=t.getCoordinates();var i=e.getCoordinate();for(var o=0;o<n.length-1;o++){var s=jsts.algorithm.CGAlgorithms.distancePointLine(i,n[o],n[o+1]);if(s<this.minDistance){this.minDistance=s;var a=new jsts.geom.LineSegment(n[o],n[o+1]);var u=a.closestPoint(i);r[0]=new jsts.operation.distance.GeometryLocation(t,o,u);r[1]=new jsts.operation.distance.GeometryLocation(e,0,i)}if(this.minDistance<=this.terminateDistance){return}}};jsts.index.strtree.SIRtree=function(t){t=t||10;jsts.index.strtree.AbstractSTRtree.call(this,t)};jsts.index.strtree.SIRtree.prototype=new jsts.index.strtree.AbstractSTRtree;jsts.index.strtree.SIRtree.constructor=jsts.index.strtree.SIRtree;jsts.index.strtree.SIRtree.prototype.comperator={compare:function(t,e){return t.getBounds().getCentre()-e.getBounds().getCentre()}};jsts.index.strtree.SIRtree.prototype.intersectionOp={intersects:function(t,e){return t.intersects(e)}};jsts.index.strtree.SIRtree.prototype.createNode=function(t){var e=function(t){jsts.index.strtree.AbstractNode.apply(this,arguments)};e.prototype=new jsts.index.strtree.AbstractNode;e.constructor=e;e.prototype.computeBounds=function(){var t=null,e=this.getChildBoundables(),r;for(var n=0,i=e.length;n<i;n++){r=e[n];if(t===null){t=new jsts.index.strtree.Interval(r.getBounds())}else{t.expandToInclude(r.getBounds())}}return t};return e};jsts.index.strtree.SIRtree.prototype.insert=function(t,e,r){jsts.index.strtree.AbstractSTRtree.prototype.insert(new jsts.index.strtree.Interval(Math.min(t,e),Math.max(t,e)),r)};jsts.index.strtree.SIRtree.prototype.query=function(t,e){e=e||t;jsts.index.strtree.AbstractSTRtree.prototype.query(new jsts.index.strtree.Interval(Math.min(t,e),Math.max(t,e)))};jsts.index.strtree.SIRtree.prototype.getIntersectsOp=function(){return this.intersectionOp};jsts.index.strtree.SIRtree.prototype.getComparator=function(){return this.comperator};jsts.simplify.DouglasPeuckerSimplifier=function(t){this.inputGeom=t;this.isEnsureValidTopology=true};jsts.simplify.DouglasPeuckerSimplifier.prototype.inputGeom=null;jsts.simplify.DouglasPeuckerSimplifier.prototype.distanceTolerance=null;jsts.simplify.DouglasPeuckerSimplifier.prototype.isEnsureValidTopology=null;jsts.simplify.DouglasPeuckerSimplifier.simplify=function(t,e){var r=new jsts.simplify.DouglasPeuckerSimplifier(t);r.setDistanceTolerance(e);return r.getResultGeometry()};jsts.simplify.DouglasPeuckerSimplifier.prototype.setDistanceTolerance=function(t){if(t<0){throw"Tolerance must be non-negative"}this.distanceTolerance=t};jsts.simplify.DouglasPeuckerSimplifier.prototype.setEnsureValid=function(t){this.isEnsureValidTopology=t};jsts.simplify.DouglasPeuckerSimplifier.prototype.getResultGeometry=function(){if(this.inputGeom.isEmpty()){return this.inputGeom.clone()}return new jsts.simplify.DPTransformer(this.distanceTolerance,this.isEnsureValidTopology).transform(this.inputGeom)};(function(){jsts.operation.predicate.RectangleContains=function(t){this.rectEnv=t.getEnvelopeInternal()};jsts.operation.predicate.RectangleContains.contains=function(t,e){var r=new jsts.operation.predicate.RectangleContains(t);return r.contains(e)};jsts.operation.predicate.RectangleContains.prototype.rectEnv=null;jsts.operation.predicate.RectangleContains.prototype.contains=function(t){if(!this.rectEnv.contains(t.getEnvelopeInternal()))return false;if(this.isContainedInBoundary(t))return false;return true};jsts.operation.predicate.RectangleContains.prototype.isContainedInBoundary=function(t){if(t instanceof jsts.geom.Polygon)return false;if(t instanceof jsts.geom.Point)return this.isPointContainedInBoundary(t.getCoordinate());if(t instanceof jsts.geom.LineString)return this.isLineStringContainedInBoundary(t);for(var e=0;e<t.getNumGeometries();e++){var r=t.getGeometryN(e);if(!this.isContainedInBoundary(r))return false}return true};jsts.operation.predicate.RectangleContains.prototype.isPointContainedInBoundary=function(t){return t.x==this.rectEnv.getMinX()||t.x==this.rectEnv.getMaxX()||t.y==this.rectEnv.getMinY()||t.y==this.rectEnv.getMaxY()};jsts.operation.predicate.RectangleContains.prototype.isLineStringContainedInBoundary=function(t){var e=t.getCoordinateSequence();for(var r=0;r<e.length-1;r++){var n=e[r];var i=e[r+1];if(!this.isLineSegmentContainedInBoundary(n,i))return false}return true};jsts.operation.predicate.RectangleContains.prototype.isLineSegmentContainedInBoundary=function(t,e){if(t.equals(e))return this.isPointContainedInBoundary(t);if(t.x==e.x){if(t.x==this.rectEnv.getMinX()||t.x==this.rectEnv.getMaxX())return true}else if(t.y==e.y){if(t.y==this.rectEnv.getMinY()||t.y==this.rectEnv.getMaxY())return true}return false}})();(function(){var t=jsts.geom.Location;var e=jsts.geomgraph.Position;jsts.geomgraph.Depth=function(){this.depth=[[],[]];for(var t=0;t<2;t++){for(var e=0;e<3;e++){this.depth[t][e]=jsts.geomgraph.Depth.NULL_VALUE}}};jsts.geomgraph.Depth.NULL_VALUE=-1;jsts.geomgraph.Depth.depthAtLocation=function(e){if(e===t.EXTERIOR)return 0;if(e===t.INTERIOR)return 1;return jsts.geomgraph.Depth.NULL_VALUE};jsts.geomgraph.Depth.prototype.depth=null;jsts.geomgraph.Depth.prototype.getDepth=function(t,e){return this.depth[t][e]};jsts.geomgraph.Depth.prototype.setDepth=function(t,e,r){this.depth[t][e]=r};jsts.geomgraph.Depth.prototype.getLocation=function(e,r){if(this.depth[e][r]<=0)return t.EXTERIOR;return t.INTERIOR};jsts.geomgraph.Depth.prototype.add=function(e,r,n){if(n===t.INTERIOR)this.depth[e][r]++};jsts.geomgraph.Depth.prototype.isNull=function(){if(arguments.length>0){return this.isNull2.apply(this,arguments)}for(var t=0;t<2;t++){for(var e=0;e<3;e++){if(this.depth[t][e]!==jsts.geomgraph.Depth.NULL_VALUE)return false}}return true};jsts.geomgraph.Depth.prototype.isNull2=function(t){if(arguments.length>1){return this.isNull3.apply(this,arguments)}return this.depth[t][1]==jsts.geomgraph.Depth.NULL_VALUE};jsts.geomgraph.Depth.prototype.isNull3=function(t,e){return this.depth[t][e]==jsts.geomgraph.Depth.NULL_VALUE};jsts.geomgraph.Depth.prototype.add=function(e){for(var r=0;r<2;r++){for(var n=1;n<3;n++){var i=e.getLocation(r,n);if(i===t.EXTERIOR||i===t.INTERIOR){if(this.isNull(r,n)){this.depth[r][n]=jsts.geomgraph.Depth.depthAtLocation(i)}else this.depth[r][n]+=jsts.geomgraph.Depth.depthAtLocation(i)}}}};jsts.geomgraph.Depth.prototype.getDelta=function(t){return this.depth[t][e.RIGHT]-this.depth[t][e.LEFT]};jsts.geomgraph.Depth.prototype.normalize=function(){for(var t=0;t<2;t++){if(!this.isNull(t)){var e=this.depth[t][1];if(this.depth[t][2]<e)e=this.depth[t][2];if(e<0)e=0;for(var r=1;r<3;r++){var n=0;if(this.depth[t][r]>e)n=1;this.depth[t][r]=n}}}};jsts.geomgraph.Depth.prototype.toString=function(){return"A: "+this.depth[0][1]+","+this.depth[0][2]+" B: "+this.depth[1][1]+","+this.depth[1][2]}})();jsts.algorithm.BoundaryNodeRule=function(){};jsts.algorithm.BoundaryNodeRule.prototype.isInBoundary=function(t){throw new jsts.error.AbstractMethodInvocationError};jsts.algorithm.Mod2BoundaryNodeRule=function(){};jsts.algorithm.Mod2BoundaryNodeRule.prototype=new jsts.algorithm.BoundaryNodeRule;jsts.algorithm.Mod2BoundaryNodeRule.prototype.isInBoundary=function(t){return t%2===1};jsts.algorithm.BoundaryNodeRule.MOD2_BOUNDARY_RULE=new jsts.algorithm.Mod2BoundaryNodeRule;jsts.algorithm.BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE=jsts.algorithm.BoundaryNodeRule.MOD2_BOUNDARY_RULE;jsts.operation.distance.GeometryLocation=function(t,e,r){this.component=t;this.segIndex=e;this.pt=r};jsts.operation.distance.GeometryLocation.INSIDE_AREA=-1;jsts.operation.distance.GeometryLocation.prototype.component=null;jsts.operation.distance.GeometryLocation.prototype.segIndex=null;jsts.operation.distance.GeometryLocation.prototype.pt=null;jsts.operation.distance.GeometryLocation.prototype.getGeometryComponent=function(){return this.component};jsts.operation.distance.GeometryLocation.prototype.getSegmentIndex=function(){return this.segIndex};jsts.operation.distance.GeometryLocation.prototype.getCoordinate=function(){return this.pt};jsts.operation.distance.GeometryLocation.prototype.isInsideArea=function(){return this.segIndex===jsts.operation.distance.GeometryLocation.INSIDE_AREA};jsts.geom.util.PointExtracter=function(t){this.pts=t};jsts.geom.util.PointExtracter.prototype=new jsts.geom.GeometryFilter;jsts.geom.util.PointExtracter.prototype.pts=null;jsts.geom.util.PointExtracter.getPoints=function(t,e){if(e===undefined){e=[]}if(t instanceof jsts.geom.Point){e.push(t)}else if(t instanceof jsts.geom.GeometryCollection||t instanceof jsts.geom.MultiPoint||t instanceof jsts.geom.MultiLineString||t instanceof jsts.geom.MultiPolygon){t.apply(new jsts.geom.util.PointExtracter(e))}return e};jsts.geom.util.PointExtracter.prototype.filter=function(t){if(t instanceof jsts.geom.Point)this.pts.push(t)};(function(){var t=jsts.geom.Location;jsts.operation.relate.RelateNodeGraph=function(){this.nodes=new jsts.geomgraph.NodeMap(new jsts.operation.relate.RelateNodeFactory)};jsts.operation.relate.RelateNodeGraph.prototype.nodes=null;jsts.operation.relate.RelateNodeGraph.prototype.build=function(t){this.computeIntersectionNodes(t,0);this.copyNodesAndLabels(t,0);var e=new jsts.operation.relate.EdgeEndBuilder;var r=e.computeEdgeEnds(t.getEdgeIterator());this.insertEdgeEnds(r)};jsts.operation.relate.RelateNodeGraph.prototype.computeIntersectionNodes=function(e,r){for(var n=e.getEdgeIterator();n.hasNext();){var i=n.next();var o=i.getLabel().getLocation(r);for(var s=i.getEdgeIntersectionList().iterator();s.hasNext();){var a=s.next();var u=this.nodes.addNode(a.coord);if(o===t.BOUNDARY)u.setLabelBoundary(r);else{if(u.getLabel().isNull(r))u.setLabel(r,t.INTERIOR)}}}};jsts.operation.relate.RelateNodeGraph.prototype.copyNodesAndLabels=function(t,e){for(var r=t.getNodeIterator();r.hasNext();){var n=r.next();var i=this.nodes.addNode(n.getCoordinate());i.setLabel(e,n.getLabel().getLocation(e))}};jsts.operation.relate.RelateNodeGraph.prototype.insertEdgeEnds=function(t){for(var e=t.iterator();e.hasNext();){var r=e.next();this.nodes.add(r)}};jsts.operation.relate.RelateNodeGraph.prototype.getNodeIterator=function(){return this.nodes.iterator()}})();jsts.geomgraph.index.SimpleSweepLineIntersector=function(){};jsts.geomgraph.index.SimpleSweepLineIntersector.prototype=new jsts.geomgraph.index.EdgeSetIntersector;jsts.geomgraph.index.SimpleSweepLineIntersector.prototype.events=[];jsts.geomgraph.index.SimpleSweepLineIntersector.prototype.nOverlaps=null;jsts.geomgraph.index.SimpleSweepLineIntersector.prototype.computeIntersections=function(t,e,r){if(e instanceof javascript.util.List){this.computeIntersections2.apply(this,arguments);return}if(r){this.add(t,null)}else{this.add(t)}this.computeIntersections3(e)};jsts.geomgraph.index.SimpleSweepLineIntersector.prototype.computeIntersections2=function(t,e,r){this.add(t,t);this.add(e,e);this.computeIntersections3(r)};jsts.geomgraph.index.SimpleSweepLineIntersector.prototype.add=function(t,e){if(t instanceof javascript.util.List){this.add2.apply(this,arguments);return}var r=t.getCoordinates();for(var n=0;n<r.length-1;n++){var i=new jsts.geomgraph.index.SweepLineSegment(t,n);var o=new jsts.geomgraph.index.SweepLineEvent(i.getMinX(),i,e);this.events.push(o);this.events.push(new jsts.geomgraph.index.SweepLineEvent(i.getMaxX(),o))}};jsts.geomgraph.index.SimpleSweepLineIntersector.prototype.add2=function(t,e){
for(var r=t.iterator();r.hasNext();){var n=r.next();if(e){this.add(n,e)}else{this.add(n,n)}}};jsts.geomgraph.index.SimpleSweepLineIntersector.prototype.prepareEvents=function(){this.events.sort(function(t,e){return t.compareTo(e)});for(var t=0;t<this.events.length;t++){var e=this.events[t];if(e.isDelete()){e.getInsertEvent().setDeleteEventIndex(t)}}};jsts.geomgraph.index.SimpleSweepLineIntersector.prototype.computeIntersections3=function(t){this.nOverlaps=0;this.prepareEvents();for(var e=0;e<this.events.length;e++){var r=this.events[e];if(r.isInsert()){this.processOverlaps(e,r.getDeleteEventIndex(),r,t)}}};jsts.geomgraph.index.SimpleSweepLineIntersector.prototype.processOverlaps=function(t,e,r,n){var i=r.getObject();for(var o=t;o<e;o++){var s=this.events[o];if(s.isInsert()){var a=s.getObject();if(!r.isSameLabel(s)){i.computeIntersections(a,n);this.nOverlaps++}}}};jsts.triangulate.VoronoiDiagramBuilder=function(){this.siteCoords=null;this.tolerance=0;this.subdiv=null;this.clipEnv=null;this.diagramEnv=null};jsts.triangulate.VoronoiDiagramBuilder.prototype.setSites=function(){var t=arguments[0];if(t instanceof jsts.geom.Geometry||t instanceof jsts.geom.Coordinate||t instanceof jsts.geom.Point||t instanceof jsts.geom.MultiPoint||t instanceof jsts.geom.LineString||t instanceof jsts.geom.MultiLineString||t instanceof jsts.geom.LinearRing||t instanceof jsts.geom.Polygon||t instanceof jsts.geom.MultiPolygon){this.setSitesByGeometry(t)}else{this.setSitesByArray(t)}};jsts.triangulate.VoronoiDiagramBuilder.prototype.setSitesByGeometry=function(t){this.siteCoords=jsts.triangulate.DelaunayTriangulationBuilder.extractUniqueCoordinates(t)};jsts.triangulate.VoronoiDiagramBuilder.prototype.setSitesByArray=function(t){this.siteCoords=jsts.triangulate.DelaunayTriangulationBuilder.unique(t)};jsts.triangulate.VoronoiDiagramBuilder.prototype.setClipEnvelope=function(t){this.clipEnv=t};jsts.triangulate.VoronoiDiagramBuilder.prototype.setTolerance=function(t){this.tolerance=t};jsts.triangulate.VoronoiDiagramBuilder.prototype.create=function(){if(this.subdiv!==null){return}var t,e,r,n;t=jsts.triangulate.DelaunayTriangulationBuilder.envelope(this.siteCoords);this.diagramEnv=t;e=Math.max(this.diagramEnv.getWidth(),this.diagramEnv.getHeight());this.diagramEnv.expandBy(e);if(this.clipEnv!==null){this.diagramEnv.expandToInclude(this.clipEnv)}r=jsts.triangulate.DelaunayTriangulationBuilder.toVertices(this.siteCoords);this.subdiv=new jsts.triangulate.quadedge.QuadEdgeSubdivision(t,this.tolerance);n=new jsts.triangulate.IncrementalDelaunayTriangulator(this.subdiv);n.insertSites(r)};jsts.triangulate.VoronoiDiagramBuilder.prototype.getSubdivision=function(){this.create();return this.subdiv};jsts.triangulate.VoronoiDiagramBuilder.prototype.getDiagram=function(t){this.create();var e=this.subdiv.getVoronoiDiagram(t);return this.clipGeometryCollection(e,this.diagramEnv)};jsts.triangulate.VoronoiDiagramBuilder.prototype.clipGeometryCollection=function(t,e){var r,n,i,o,s,a;r=t.getFactory().toGeometry(e);n=[];i=0,o=t.getNumGeometries();for(i;i<o;i++){s=t.getGeometryN(i);a=null;if(e.contains(s.getEnvelopeInternal())){a=s}else if(e.intersects(s.getEnvelopeInternal())){a=r.intersection(s)}if(a!==null&&!a.isEmpty()){n.push(a)}}return t.getFactory().createGeometryCollection(n)};jsts.operation.valid.IndexedNestedRingTester=function(t){this.graph=t;this.rings=new javascript.util.ArrayList;this.totalEnv=new jsts.geom.Envelope;this.index=null;this.nestedPt=null};jsts.operation.valid.IndexedNestedRingTester.prototype.getNestedPoint=function(){return this.nestedPt};jsts.operation.valid.IndexedNestedRingTester.prototype.add=function(t){this.rings.add(t);this.totalEnv.expandToInclude(t.getEnvelopeInternal())};jsts.operation.valid.IndexedNestedRingTester.prototype.isNonNested=function(){this.buildIndex();for(var t=0;t<this.rings.size();t++){var e=this.rings.get(t);var r=e.getCoordinates();var n=this.index.query(e.getEnvelopeInternal());for(var i=0;i<n.length;i++){var o=n[i];var s=o.getCoordinates();if(e==o){continue}if(!e.getEnvelopeInternal().intersects(o.getEnvelopeInternal())){continue}var a=jsts.operation.valid.IsValidOp.findPtNotNode(r,o,this.graph);if(a==null){continue}var u=jsts.algorithm.CGAlgorithms.isPointInRing(a,s);if(u){this.nestedPt=a;return false}}}return true};jsts.operation.valid.IndexedNestedRingTester.prototype.buildIndex=function(){this.index=new jsts.index.strtree.STRtree;for(var t=0;t<this.rings.size();t++){var e=this.rings.get(t);var r=e.getEnvelopeInternal();this.index.insert(r,e)}};jsts.geomgraph.index.MonotoneChain=function(t,e){this.mce=t;this.chainIndex=e};jsts.geomgraph.index.MonotoneChain.prototype.mce=null;jsts.geomgraph.index.MonotoneChain.prototype.chainIndex=null;jsts.geomgraph.index.MonotoneChain.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)};jsts.noding.SegmentNode=function(t,e,r,n){this.segString=t;this.coord=new jsts.geom.Coordinate(e);this.segmentIndex=r;this.segmentOctant=n;this._isInterior=!e.equals2D(t.getCoordinate(r))};jsts.noding.SegmentNode.prototype.segString=null;jsts.noding.SegmentNode.prototype.coord=null;jsts.noding.SegmentNode.prototype.segmentIndex=null;jsts.noding.SegmentNode.prototype.segmentOctant=null;jsts.noding.SegmentNode.prototype._isInterior=null;jsts.noding.SegmentNode.prototype.getCoordinate=function(){return this.coord};jsts.noding.SegmentNode.prototype.isInterior=function(){return this._isInterior};jsts.noding.SegmentNode.prototype.isEndPoint=function(t){if(this.segmentIndex===0&&!this._isInterior)return true;if(this.segmentIndex===this.maxSegmentIndex)return true;return false};jsts.noding.SegmentNode.prototype.compareTo=function(t){var e=t;if(this.segmentIndex<e.segmentIndex)return-1;if(this.segmentIndex>e.segmentIndex)return 1;if(this.coord.equals2D(e.coord))return 0;return jsts.noding.SegmentPointComparator.compare(this.segmentOctant,this.coord,e.coord)};(function(){jsts.io.GeoJSONWriter=function(){this.parser=new jsts.io.GeoJSONParser(this.geometryFactory)};jsts.io.GeoJSONWriter.prototype.write=function(t){var e=this.parser.write(t);return e}})();jsts.io.OpenLayersParser=function(t){this.geometryFactory=t||new jsts.geom.GeometryFactory};jsts.io.OpenLayersParser.prototype.read=function(t){if(t.CLASS_NAME==="OpenLayers.Geometry.Point"){return this.convertFromPoint(t)}else if(t.CLASS_NAME==="OpenLayers.Geometry.LineString"){return this.convertFromLineString(t)}else if(t.CLASS_NAME==="OpenLayers.Geometry.LinearRing"){return this.convertFromLinearRing(t)}else if(t.CLASS_NAME==="OpenLayers.Geometry.Polygon"){return this.convertFromPolygon(t)}else if(t.CLASS_NAME==="OpenLayers.Geometry.MultiPoint"){return this.convertFromMultiPoint(t)}else if(t.CLASS_NAME==="OpenLayers.Geometry.MultiLineString"){return this.convertFromMultiLineString(t)}else if(t.CLASS_NAME==="OpenLayers.Geometry.MultiPolygon"){return this.convertFromMultiPolygon(t)}else if(t.CLASS_NAME==="OpenLayers.Geometry.Collection"){return this.convertFromCollection(t)}};jsts.io.OpenLayersParser.prototype.convertFromPoint=function(t){return this.geometryFactory.createPoint(new jsts.geom.Coordinate(t.x,t.y))};jsts.io.OpenLayersParser.prototype.convertFromLineString=function(t){var e;var r=[];for(e=0;e<t.components.length;e++){r.push(new jsts.geom.Coordinate(t.components[e].x,t.components[e].y))}return this.geometryFactory.createLineString(r)};jsts.io.OpenLayersParser.prototype.convertFromLinearRing=function(t){var e;var r=[];for(e=0;e<t.components.length;e++){r.push(new jsts.geom.Coordinate(t.components[e].x,t.components[e].y))}return this.geometryFactory.createLinearRing(r)};jsts.io.OpenLayersParser.prototype.convertFromPolygon=function(t){var e;var r=null;var n=[];for(e=0;e<t.components.length;e++){var i=this.convertFromLinearRing(t.components[e]);if(e===0){r=i}else{n.push(i)}}return this.geometryFactory.createPolygon(r,n)};jsts.io.OpenLayersParser.prototype.convertFromMultiPoint=function(t){var e;var r=[];for(e=0;e<t.components.length;e++){r.push(this.convertFromPoint(t.components[e]))}return this.geometryFactory.createMultiPoint(r)};jsts.io.OpenLayersParser.prototype.convertFromMultiLineString=function(t){var e;var r=[];for(e=0;e<t.components.length;e++){r.push(this.convertFromLineString(t.components[e]))}return this.geometryFactory.createMultiLineString(r)};jsts.io.OpenLayersParser.prototype.convertFromMultiPolygon=function(t){var e;var r=[];for(e=0;e<t.components.length;e++){r.push(this.convertFromPolygon(t.components[e]))}return this.geometryFactory.createMultiPolygon(r)};jsts.io.OpenLayersParser.prototype.convertFromCollection=function(t){var e;var r=[];for(e=0;e<t.components.length;e++){r.push(this.read(t.components[e]))}return this.geometryFactory.createGeometryCollection(r)};jsts.io.OpenLayersParser.prototype.write=function(t){if(t.CLASS_NAME==="jsts.geom.Point"){return this.convertToPoint(t.coordinate)}else if(t.CLASS_NAME==="jsts.geom.LineString"){return this.convertToLineString(t)}else if(t.CLASS_NAME==="jsts.geom.LinearRing"){return this.convertToLinearRing(t)}else if(t.CLASS_NAME==="jsts.geom.Polygon"){return this.convertToPolygon(t)}else if(t.CLASS_NAME==="jsts.geom.MultiPoint"){return this.convertToMultiPoint(t)}else if(t.CLASS_NAME==="jsts.geom.MultiLineString"){return this.convertToMultiLineString(t)}else if(t.CLASS_NAME==="jsts.geom.MultiPolygon"){return this.convertToMultiPolygon(t)}else if(t.CLASS_NAME==="jsts.geom.GeometryCollection"){return this.convertToCollection(t)}};jsts.io.OpenLayersParser.prototype.convertToPoint=function(t){return new OpenLayers.Geometry.Point(t.x,t.y)};jsts.io.OpenLayersParser.prototype.convertToLineString=function(t){var e;var r=[];for(e=0;e<t.points.length;e++){var n=t.points[e];r.push(this.convertToPoint(n))}return new OpenLayers.Geometry.LineString(r)};jsts.io.OpenLayersParser.prototype.convertToLinearRing=function(t){var e;var r=[];for(e=0;e<t.points.length;e++){var n=t.points[e];r.push(this.convertToPoint(n))}return new OpenLayers.Geometry.LinearRing(r)};jsts.io.OpenLayersParser.prototype.convertToPolygon=function(t){var e;var r=[];r.push(this.convertToLinearRing(t.shell));for(e=0;e<t.holes.length;e++){var n=t.holes[e];r.push(this.convertToLinearRing(n))}return new OpenLayers.Geometry.Polygon(r)};jsts.io.OpenLayersParser.prototype.convertToMultiPoint=function(t){var e;var r=[];for(e=0;e<t.geometries.length;e++){var n=t.geometries[e].coordinate;r.push(new OpenLayers.Geometry.Point(n.x,n.y))}return new OpenLayers.Geometry.MultiPoint(r)};jsts.io.OpenLayersParser.prototype.convertToMultiLineString=function(t){var e;var r=[];for(e=0;e<t.geometries.length;e++){r.push(this.convertToLineString(t.geometries[e]))}return new OpenLayers.Geometry.MultiLineString(r)};jsts.io.OpenLayersParser.prototype.convertToMultiPolygon=function(t){var e;var r=[];for(e=0;e<t.geometries.length;e++){r.push(this.convertToPolygon(t.geometries[e]))}return new OpenLayers.Geometry.MultiPolygon(r)};jsts.io.OpenLayersParser.prototype.convertToCollection=function(t){var e;var r=[];for(e=0;e<t.geometries.length;e++){var n=t.geometries[e];var i=this.write(n);r.push(i)}return new OpenLayers.Geometry.Collection(r)};jsts.index.quadtree.Quadtree=function(){this.root=new jsts.index.quadtree.Root;this.minExtent=1};jsts.index.quadtree.Quadtree.ensureExtent=function(t,e){var r,n,i,o;r=t.getMinX();n=t.getMaxX();i=t.getMinY();o=t.getMaxY();if(r!==n&&i!==o){return t}if(r===n){r=r-e/2;n=r+e/2}if(i===o){i=i-e/2;o=i+e/2}return new jsts.geom.Envelope(r,n,i,o)};jsts.index.quadtree.Quadtree.prototype.depth=function(){return this.root.depth()};jsts.index.quadtree.Quadtree.prototype.size=function(){return this.root.size()};jsts.index.quadtree.Quadtree.prototype.insert=function(t,e){this.collectStats(t);var r=jsts.index.quadtree.Quadtree.ensureExtent(t,this.minExtent);this.root.insert(r,e)};jsts.index.quadtree.Quadtree.prototype.remove=function(t,e){var r=jsts.index.quadtree.Quadtree.ensureExtent(t,this.minExtent);return this.root.remove(r,e)};jsts.index.quadtree.Quadtree.prototype.query=function(){if(arguments.length===1){return jsts.index.quadtree.Quadtree.prototype.queryByEnvelope.apply(this,arguments)}else{jsts.index.quadtree.Quadtree.prototype.queryWithVisitor.apply(this,arguments)}};jsts.index.quadtree.Quadtree.prototype.queryByEnvelope=function(t){var e=new jsts.index.ArrayListVisitor;this.query(t,e);return e.getItems()};jsts.index.quadtree.Quadtree.prototype.queryWithVisitor=function(t,e){this.root.visit(t,e)};jsts.index.quadtree.Quadtree.prototype.queryAll=function(){var t=[];t=this.root.addAllItems(t);return t};jsts.index.quadtree.Quadtree.prototype.collectStats=function(t){var e=t.getWidth();if(e<this.minExtent&&e>0){this.minExtent=e}var r=t.getHeight();if(r<this.minExtent&&r>0){this.minExtent=r}};jsts.operation.relate.RelateNodeFactory=function(){};jsts.operation.relate.RelateNodeFactory.prototype=new jsts.geomgraph.NodeFactory;jsts.operation.relate.RelateNodeFactory.prototype.createNode=function(t){return new jsts.operation.relate.RelateNode(t,new jsts.operation.relate.EdgeEndBundleStar)};jsts.index.quadtree.Key=function(t){this.pt=new jsts.geom.Coordinate;this.level=0;this.env=null;this.computeKey(t)};jsts.index.quadtree.Key.computeQuadLevel=function(t){var e,r,n,i;e=t.getWidth();r=t.getHeight();n=e>r?e:r;i=jsts.index.DoubleBits.exponent(n)+1;return i};jsts.index.quadtree.Key.prototype.getPoint=function(){return this.pt};jsts.index.quadtree.Key.prototype.getLevel=function(){return this.level};jsts.index.quadtree.Key.prototype.getEnvelope=function(){return this.env};jsts.index.quadtree.Key.prototype.getCentre=function(){var t,e;t=(this.env.getMinX()+this.env.getMaxX())/2;e=(this.env.getMinY()+this.env.getMaxY())/2;return new jsts.geom.Coordinate(t,e)};jsts.index.quadtree.Key.prototype.computeKey=function(){if(arguments[0]instanceof jsts.geom.Envelope){this.computeKeyFromEnvelope(arguments[0])}else{this.computeKeyFromLevel(arguments[0],arguments[1])}};jsts.index.quadtree.Key.prototype.computeKeyFromEnvelope=function(t){this.level=jsts.index.quadtree.Key.computeQuadLevel(t);this.env=new jsts.geom.Envelope;this.computeKey(this.level,t);while(!this.env.contains(t)){this.level+=1;this.computeKey(this.level,t)}};jsts.index.quadtree.Key.prototype.computeKeyFromLevel=function(t,e){var r=jsts.index.DoubleBits.powerOf2(t);this.pt.x=Math.floor(e.getMinX()/r)*r;this.pt.y=Math.floor(e.getMinY()/r)*r;this.env.init(this.pt.x,this.pt.x+r,this.pt.y,this.pt.y+r)};jsts.geom.CoordinateArrays=function(){throw new jsts.error.AbstractMethodInvocationError};jsts.geom.CoordinateArrays.copyDeep=function(){if(arguments.length===1){return jsts.geom.CoordinateArrays.copyDeep1(arguments[0])}else if(arguments.length===5){jsts.geom.CoordinateArrays.copyDeep2(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4])}};jsts.geom.CoordinateArrays.copyDeep1=function(t){var e=[];for(var r=0;r<t.length;r++){e[r]=new jsts.geom.Coordinate(t[r])}return e};jsts.geom.CoordinateArrays.copyDeep2=function(t,e,r,n,i){for(var o=0;o<i;o++){r[n+o]=new jsts.geom.Coordinate(t[e+o])}};jsts.geom.CoordinateArrays.removeRepeatedPoints=function(t){var e;if(!this.hasRepeatedPoints(t)){return t}e=new jsts.geom.CoordinateList(t,false);return e.toCoordinateArray()};jsts.geom.CoordinateArrays.hasRepeatedPoints=function(t){var e;for(e=1;e<t.length;e++){if(t[e-1].equals(t[e])){return true}}return false};jsts.geom.CoordinateArrays.ptNotInList=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(jsts.geom.CoordinateArrays.indexOf(n,e)<0)return n}return null};jsts.geom.CoordinateArrays.increasingDirection=function(t){for(var e=0;e<parseInt(t.length/2);e++){var r=t.length-1-e;var n=t[e].compareTo(t[r]);if(n!=0)return n}return 1};jsts.geom.CoordinateArrays.minCoordinate=function(t){var e=null;for(var r=0;r<t.length;r++){if(e===null||e.compareTo(t[r])>0){e=t[r]}}return e};jsts.geom.CoordinateArrays.scroll=function(t,e){var r=jsts.geom.CoordinateArrays.indexOf(e,t);if(r<0)return;var n=t.slice(r).concat(t.slice(0,r));for(r=0;r<n.length;r++){t[r]=n[r]}};jsts.geom.CoordinateArrays.indexOf=function(t,e){for(var r=0;r<e.length;r++){if(t.equals(e[r])){return r}}return-1};jsts.operation.overlay.MinimalEdgeRing=function(t,e){jsts.geomgraph.EdgeRing.call(this,t,e)};jsts.operation.overlay.MinimalEdgeRing.prototype=new jsts.geomgraph.EdgeRing;jsts.operation.overlay.MinimalEdgeRing.constructor=jsts.operation.overlay.MinimalEdgeRing;jsts.operation.overlay.MinimalEdgeRing.prototype.getNext=function(t){return t.getNextMin()};jsts.operation.overlay.MinimalEdgeRing.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)};jsts.triangulate.DelaunayTriangulationBuilder=function(){this.siteCoords=null;this.tolerance=0;this.subdiv=null};jsts.triangulate.DelaunayTriangulationBuilder.extractUniqueCoordinates=function(t){if(t===undefined||t===null){return new jsts.geom.CoordinateList([],false).toArray()}var e=t.getCoordinates();return jsts.triangulate.DelaunayTriangulationBuilder.unique(e)};jsts.triangulate.DelaunayTriangulationBuilder.unique=function(t){t.sort(function(t,e){return t.compareTo(e)});var e=new jsts.geom.CoordinateList(t,false);return e.toArray()};jsts.triangulate.DelaunayTriangulationBuilder.toVertices=function(t){var e=new Array(t.length),r=0,n=t.length,i;for(r;r<n;r++){i=t[r];e[r]=new jsts.triangulate.quadedge.Vertex(i)}return e};jsts.triangulate.DelaunayTriangulationBuilder.envelope=function(t){var e=new jsts.geom.Envelope,r=0,n=t.length;for(r;r<n;r++){e.expandToInclude(t[r])}return e};jsts.triangulate.DelaunayTriangulationBuilder.prototype.setSites=function(){var t=arguments[0];if(t instanceof jsts.geom.Geometry||t instanceof jsts.geom.Coordinate||t instanceof jsts.geom.Point||t instanceof jsts.geom.MultiPoint||t instanceof jsts.geom.LineString||t instanceof jsts.geom.MultiLineString||t instanceof jsts.geom.LinearRing||t instanceof jsts.geom.Polygon||t instanceof jsts.geom.MultiPolygon){this.setSitesFromGeometry(t)}else{this.setSitesFromCollection(t)}};jsts.triangulate.DelaunayTriangulationBuilder.prototype.setSitesFromGeometry=function(t){this.siteCoords=jsts.triangulate.DelaunayTriangulationBuilder.extractUniqueCoordinates(t)};jsts.triangulate.DelaunayTriangulationBuilder.prototype.setSitesFromCollection=function(t){this.siteCoords=jsts.triangulate.DelaunayTriangulationBuilder.unique(t)};jsts.triangulate.DelaunayTriangulationBuilder.prototype.setTolerance=function(t){this.tolerance=t};jsts.triangulate.DelaunayTriangulationBuilder.prototype.create=function(){if(this.subdiv===null){var t,e,r;t=jsts.triangulate.DelaunayTriangulationBuilder.envelope(this.siteCoords);e=jsts.triangulate.DelaunayTriangulationBuilder.toVertices(this.siteCoords);this.subdiv=new jsts.triangulate.quadedge.QuadEdgeSubdivision(t,this.tolerance);r=new jsts.triangulate.IncrementalDelaunayTriangulator(this.subdiv);r.insertSites(e)}};jsts.triangulate.DelaunayTriangulationBuilder.prototype.getSubdivision=function(){this.create();return this.subdiv};jsts.triangulate.DelaunayTriangulationBuilder.prototype.getEdges=function(t){this.create();return this.subdiv.getEdges(t)};jsts.triangulate.DelaunayTriangulationBuilder.prototype.getTriangles=function(t){this.create();return this.subdiv.getTriangles(t)};jsts.algorithm.RayCrossingCounter=function(t){this.p=t};jsts.algorithm.RayCrossingCounter.locatePointInRing=function(t,e){var r=new jsts.algorithm.RayCrossingCounter(t);for(var n=1;n<e.length;n++){var i=e[n];var o=e[n-1];r.countSegment(i,o);if(r.isOnSegment())return r.getLocation()}return r.getLocation()};jsts.algorithm.RayCrossingCounter.prototype.p=null;jsts.algorithm.RayCrossingCounter.prototype.crossingCount=0;jsts.algorithm.RayCrossingCounter.prototype.isPointOnSegment=false;jsts.algorithm.RayCrossingCounter.prototype.countSegment=function(t,e){if(t.x<this.p.x&&e.x<this.p.x)return;if(this.p.x==e.x&&this.p.y===e.y){this.isPointOnSegment=true;return}if(t.y===this.p.y&&e.y===this.p.y){var r=t.x;var n=e.x;if(r>n){r=e.x;n=t.x}if(this.p.x>=r&&this.p.x<=n){this.isPointOnSegment=true}return}if(t.y>this.p.y&&e.y<=this.p.y||e.y>this.p.y&&t.y<=this.p.y){var i=t.x-this.p.x;var o=t.y-this.p.y;var s=e.x-this.p.x;var a=e.y-this.p.y;var u=jsts.algorithm.RobustDeterminant.signOfDet2x2(i,o,s,a);if(u===0){this.isPointOnSegment=true;return}if(a<o)u=-u;if(u>0){this.crossingCount++}}};jsts.algorithm.RayCrossingCounter.prototype.isOnSegment=function(){return jsts.geom.isPointOnSegment};jsts.algorithm.RayCrossingCounter.prototype.getLocation=function(){if(this.isPointOnSegment)return jsts.geom.Location.BOUNDARY;if(this.crossingCount%2===1){return jsts.geom.Location.INTERIOR}return jsts.geom.Location.EXTERIOR};jsts.algorithm.RayCrossingCounter.prototype.isPointInPolygon=function(){return this.getLocation()!==jsts.geom.Location.EXTERIOR};jsts.operation.BoundaryOp=function(t,e){this.geom=t;this.geomFact=t.getFactory();this.bnRule=e||jsts.algorithm.BoundaryNodeRule.MOD2_BOUNDARY_RULE};jsts.operation.BoundaryOp.prototype.geom=null;jsts.operation.BoundaryOp.prototype.geomFact=null;jsts.operation.BoundaryOp.prototype.bnRule=null;jsts.operation.BoundaryOp.prototype.getBoundary=function(){if(this.geom instanceof jsts.geom.LineString)return this.boundaryLineString(this.geom);if(this.geom instanceof jsts.geom.MultiLineString)return this.boundaryMultiLineString(this.geom);return this.geom.getBoundary()};jsts.operation.BoundaryOp.prototype.getEmptyMultiPoint=function(){return this.geomFact.createMultiPoint(null)};jsts.operation.BoundaryOp.prototype.boundaryMultiLineString=function(t){if(this.geom.isEmpty()){return this.getEmptyMultiPoint()}var e=this.computeBoundaryCoordinates(t);if(e.length==1){return this.geomFact.createPoint(e[0])}return this.geomFact.createMultiPoint(e)};jsts.operation.BoundaryOp.prototype.endpoints=null;jsts.operation.BoundaryOp.prototype.computeBoundaryCoordinates=function(t){var e,r,n,i=[];this.endpoints=[];for(e=0;e<t.getNumGeometries();e++){r=t.getGeometryN(e);if(r.getNumPoints()==0)continue;this.addEndpoint(r.getCoordinateN(0));this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1))}for(e=0;e<this.endpoints.length;e++){n=this.endpoints[e];if(this.bnRule.isInBoundary(n.count)){i.push(n.coordinate)}}return i};jsts.operation.BoundaryOp.prototype.addEndpoint=function(t){var e,r,n=false;for(e=0;e<this.endpoints.length;e++){r=this.endpoints[e];if(r.coordinate.equals(t)){n=true;break}}if(!n){r={};r.coordinate=t;r.count=0;this.endpoints.push(r)}r.count++};jsts.operation.BoundaryOp.prototype.boundaryLineString=function(t){if(this.geom.isEmpty()){return this.getEmptyMultiPoint()}if(t.isClosed()){var e=this.bnRule.isInBoundary(2);if(e){return t.getStartPoint()}else{return this.geomFact.createMultiPoint(null)}}return this.geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])};jsts.operation.buffer.OffsetCurveSetBuilder=function(t,e,r){this.inputGeom=t;this.distance=e;this.curveBuilder=r;this.curveList=new javascript.util.ArrayList};jsts.operation.buffer.OffsetCurveSetBuilder.prototype.inputGeom=null;jsts.operation.buffer.OffsetCurveSetBuilder.prototype.distance=null;jsts.operation.buffer.OffsetCurveSetBuilder.prototype.curveBuilder=null;jsts.operation.buffer.OffsetCurveSetBuilder.prototype.curveList=null;jsts.operation.buffer.OffsetCurveSetBuilder.prototype.getCurves=function(){this.add(this.inputGeom);return this.curveList};jsts.operation.buffer.OffsetCurveSetBuilder.prototype.addCurve=function(t,e,r){if(t==null||t.length<2)return;var n=new jsts.noding.NodedSegmentString(t,new jsts.geomgraph.Label(0,jsts.geom.Location.BOUNDARY,e,r));this.curveList.add(n)};jsts.operation.buffer.OffsetCurveSetBuilder.prototype.add=function(t){if(t.isEmpty())return;if(t instanceof jsts.geom.Polygon)this.addPolygon(t);else if(t instanceof jsts.geom.LineString)this.addLineString(t);else if(t instanceof jsts.geom.Point)this.addPoint(t);else if(t instanceof jsts.geom.MultiPoint)this.addCollection(t);else if(t instanceof jsts.geom.MultiLineString)this.addCollection(t);else if(t instanceof jsts.geom.MultiPolygon)this.addCollection(t);else if(t instanceof jsts.geom.GeometryCollection)this.addCollection(t);else throw new jsts.error.IllegalArgumentError};jsts.operation.buffer.OffsetCurveSetBuilder.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var r=t.getGeometryN(e);this.add(r)}};jsts.operation.buffer.OffsetCurveSetBuilder.prototype.addPoint=function(t){if(this.distance<=0)return;var e=t.getCoordinates();var r=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(r,jsts.geom.Location.EXTERIOR,jsts.geom.Location.INTERIOR)};jsts.operation.buffer.OffsetCurveSetBuilder.prototype.addLineString=function(t){if(this.distance<=0&&!this.curveBuilder.getBufferParameters().isSingleSided())return;var e=jsts.geom.CoordinateArrays.removeRepeatedPoints(t.getCoordinates());var r=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(r,jsts.geom.Location.EXTERIOR,jsts.geom.Location.INTERIOR)};jsts.operation.buffer.OffsetCurveSetBuilder.prototype.addPolygon=function(t){var e=this.distance;var r=jsts.geomgraph.Position.LEFT;if(this.distance<0){e=-this.distance;r=jsts.geomgraph.Position.RIGHT}var n=t.getExteriorRing();var i=jsts.geom.CoordinateArrays.removeRepeatedPoints(n.getCoordinates());if(this.distance<0&&this.isErodedCompletely(n,this.distance))return;if(this.distance<=0&&i.length<3)return;this.addPolygonRing(i,e,r,jsts.geom.Location.EXTERIOR,jsts.geom.Location.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o);var a=jsts.geom.CoordinateArrays.removeRepeatedPoints(s.getCoordinates());if(this.distance>0&&this.isErodedCompletely(s,-this.distance))continue;this.addPolygonRing(a,e,jsts.geomgraph.Position.opposite(r),jsts.geom.Location.INTERIOR,jsts.geom.Location.EXTERIOR)}};jsts.operation.buffer.OffsetCurveSetBuilder.prototype.addPolygonRing=function(t,e,r,n,i){if(e==0&&t.length<jsts.geom.LinearRing.MINIMUM_VALID_SIZE)return;var o=n;var s=i;if(t.length>=jsts.geom.LinearRing.MINIMUM_VALID_SIZE&&jsts.algorithm.CGAlgorithms.isCCW(t)){o=i;s=n;r=jsts.geomgraph.Position.opposite(r)}var a=this.curveBuilder.getRingCurve(t,r,e);this.addCurve(a,o,s)};jsts.operation.buffer.OffsetCurveSetBuilder.prototype.isErodedCompletely=function(t,e){var r=t.getCoordinates();var n=0;if(r.length<4)return e<0;if(r.length==4)return this.isTriangleErodedCompletely(r,e);var i=t.getEnvelopeInternal();var o=Math.min(i.getHeight(),i.getWidth());if(e<0&&2*Math.abs(e)>o)return true;return false};jsts.operation.buffer.OffsetCurveSetBuilder.prototype.isTriangleErodedCompletely=function(t,e){var r=new jsts.geom.Triangle(t[0],t[1],t[2]);var n=r.inCentre();var i=jsts.algorithm.CGAlgorithms.distancePointLine(n,r.p0,r.p1);return i<Math.abs(e)};jsts.operation.buffer.BufferSubgraph=function(){this.dirEdgeList=new javascript.util.ArrayList;this.nodes=new javascript.util.ArrayList;this.finder=new jsts.operation.buffer.RightmostEdgeFinder};jsts.operation.buffer.BufferSubgraph.prototype.finder=null;jsts.operation.buffer.BufferSubgraph.prototype.dirEdgeList=null;jsts.operation.buffer.BufferSubgraph.prototype.nodes=null;jsts.operation.buffer.BufferSubgraph.prototype.rightMostCoord=null;jsts.operation.buffer.BufferSubgraph.prototype.env=null;jsts.operation.buffer.BufferSubgraph.prototype.getDirectedEdges=function(){return this.dirEdgeList};jsts.operation.buffer.BufferSubgraph.prototype.getNodes=function(){return this.nodes};jsts.operation.buffer.BufferSubgraph.prototype.getEnvelope=function(){if(this.env===null){var t=new jsts.geom.Envelope;for(var e=this.dirEdgeList.iterator();e.hasNext();){var r=e.next();var n=r.getEdge().getCoordinates();for(var i=0;i<n.length-1;i++){t.expandToInclude(n[i])}}this.env=t}return this.env};jsts.operation.buffer.BufferSubgraph.prototype.getRightmostCoordinate=function(){return this.rightMostCoord};jsts.operation.buffer.BufferSubgraph.prototype.create=function(t){this.addReachable(t);this.finder.findEdge(this.dirEdgeList);this.rightMostCoord=this.finder.getCoordinate()};jsts.operation.buffer.BufferSubgraph.prototype.addReachable=function(t){var e=[];e.push(t);while(e.length!==0){var r=e.pop();this.add(r,e)}};jsts.operation.buffer.BufferSubgraph.prototype.add=function(t,e){t.setVisited(true);this.nodes.add(t);for(var r=t.getEdges().iterator();r.hasNext();){var n=r.next();this.dirEdgeList.add(n);var i=n.getSym();var o=i.getNode();if(!o.isVisited())e.push(o)}};jsts.operation.buffer.BufferSubgraph.prototype.clearVisitedEdges=function(){for(var t=this.dirEdgeList.iterator();t.hasNext();){var e=t.next();e.setVisited(false)}};jsts.operation.buffer.BufferSubgraph.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this.finder.getEdge();var r=e.getNode();var n=e.getLabel();e.setEdgeDepths(jsts.geomgraph.Position.RIGHT,t);this.copySymDepths(e);this.computeDepths(e)};jsts.operation.buffer.BufferSubgraph.prototype.computeDepths=function(t){var e=[];var r=[];var n=t.getNode();r.push(n);e.push(n);t.setVisited(true);while(r.length!==0){var i=r.shift();e.push(i);this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var s=o.next();var a=s.getSym();if(a.isVisited())continue;var u=a.getNode();if(e.indexOf(u)===-1){r.push(u);e.push(u)}}}};jsts.operation.buffer.BufferSubgraph.prototype.computeNodeDepth=function(t){var e=null;for(var r=t.getEdges().iterator();r.hasNext();){var n=r.next();if(n.isVisited()||n.getSym().isVisited()){e=n;break}}if(e==null)throw new jsts.error.TopologyError("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var r=t.getEdges().iterator();r.hasNext();){var n=r.next();n.setVisited(true);this.copySymDepths(n)}};jsts.operation.buffer.BufferSubgraph.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(jsts.geomgraph.Position.LEFT,t.getDepth(jsts.geomgraph.Position.RIGHT));e.setDepth(jsts.geomgraph.Position.RIGHT,t.getDepth(jsts.geomgraph.Position.LEFT))};jsts.operation.buffer.BufferSubgraph.prototype.findResultEdges=function(){for(var t=this.dirEdgeList.iterator();t.hasNext();){var e=t.next();if(e.getDepth(jsts.geomgraph.Position.RIGHT)>=1&&e.getDepth(jsts.geomgraph.Position.LEFT)<=0&&!e.isInteriorAreaEdge()){e.setInResult(true)}}};jsts.operation.buffer.BufferSubgraph.prototype.compareTo=function(t){var e=t;if(this.rightMostCoord.x<e.rightMostCoord.x){return-1}if(this.rightMostCoord.x>e.rightMostCoord.x){return 1}return 0};jsts.simplify.DPTransformer=function(t,e){this.distanceTolerance=t;this.isEnsureValidTopology=e};jsts.simplify.DPTransformer.prototype=new jsts.geom.util.GeometryTransformer;jsts.simplify.DPTransformer.prototype.distanceTolerance=null;jsts.simplify.DPTransformer.prototype.isEnsureValidTopology=null;jsts.simplify.DPTransformer.prototype.transformCoordinates=function(t,e){var r=t;var n=null;if(r.length==0){n=[]}else{n=jsts.simplify.DouglasPeuckerLineSimplifier.simplify(r,this.distanceTolerance)}return n};jsts.simplify.DPTransformer.prototype.transformPolygon=function(t,e){if(t.isEmpty()){return null}var r=jsts.geom.util.GeometryTransformer.prototype.transformPolygon.apply(this,arguments);if(e instanceof jsts.geom.MultiPolygon){return r}return this.createValidArea(r)};jsts.simplify.DPTransformer.prototype.transformLinearRing=function(t,e){var r=e instanceof jsts.geom.Polygon;var n=jsts.geom.util.GeometryTransformer.prototype.transformLinearRing.apply(this,arguments);if(r&&!(n instanceof jsts.geom.LinearRing)){return null}return n};jsts.simplify.DPTransformer.prototype.transformMultiPolygon=function(t,e){var r=jsts.geom.util.GeometryTransformer.prototype.transformMultiPolygon.apply(this,arguments);return this.createValidArea(r)};jsts.simplify.DPTransformer.prototype.createValidArea=function(t){if(this.isEnsureValidTopology){return t.buffer(0)}return t};jsts.geom.util.GeometryExtracter=function(t,e){this.clz=t;this.comps=e};jsts.geom.util.GeometryExtracter.prototype=new jsts.geom.GeometryFilter;jsts.geom.util.GeometryExtracter.prototype.clz=null;jsts.geom.util.GeometryExtracter.prototype.comps=null;jsts.geom.util.GeometryExtracter.extract=function(t,e,r){
r=r||new javascript.util.ArrayList;if(t instanceof e){r.add(t)}else if(t instanceof jsts.geom.GeometryCollection||t instanceof jsts.geom.MultiPoint||t instanceof jsts.geom.MultiLineString||t instanceof jsts.geom.MultiPolygon){t.apply(new jsts.geom.util.GeometryExtracter(e,r))}return r};jsts.geom.util.GeometryExtracter.prototype.filter=function(t){if(this.clz===null||t instanceof this.clz){this.comps.add(t)}};(function(){var t=jsts.operation.overlay.OverlayOp;var e=jsts.operation.overlay.snap.SnapOverlayOp;var r=function(t,e){this.geom=[];this.geom[0]=t;this.geom[1]=e};r.overlayOp=function(t,e,n){var i=new r(t,e);return i.getResultGeometry(n)};r.intersection=function(e,r){return overlayOp(e,r,t.INTERSECTION)};r.union=function(e,r){return overlayOp(e,r,t.UNION)};r.difference=function(e,r){return overlayOp(e,r,t.DIFFERENCE)};r.symDifference=function(e,r){return overlayOp(e,r,t.SYMDIFFERENCE)};r.prototype.geom=null;r.prototype.getResultGeometry=function(r){var n=null;var i=false;var o=null;try{n=t.overlayOp(this.geom[0],this.geom[1],r);var s=true;if(s)i=true}catch(a){o=a}if(!i){try{n=e.overlayOp(this.geom[0],this.geom[1],r)}catch(a){throw o}}return n};jsts.operation.overlay.snap.SnapIfNeededOverlayOp=r})();(function(){var t=jsts.geom.util.GeometryExtracter;var e=jsts.operation.union.CascadedPolygonUnion;var r=jsts.operation.union.PointGeometryUnion;var n=jsts.operation.overlay.OverlayOp;var i=jsts.operation.overlay.snap.SnapIfNeededOverlayOp;var o=javascript.util.ArrayList;jsts.operation.union.UnaryUnionOp=function(t,e){this.polygons=new o;this.lines=new o;this.points=new o;if(e){this.geomFact=e}this.extract(t)};jsts.operation.union.UnaryUnionOp.union=function(t,e){var r=new jsts.operation.union.UnaryUnionOp(t,e);return r.union()};jsts.operation.union.UnaryUnionOp.prototype.polygons=null;jsts.operation.union.UnaryUnionOp.prototype.lines=null;jsts.operation.union.UnaryUnionOp.prototype.points=null;jsts.operation.union.UnaryUnionOp.prototype.geomFact=null;jsts.operation.union.UnaryUnionOp.prototype.extract=function(e){if(e instanceof o){for(var r=e.iterator();r.hasNext();){var n=r.next();this.extract(n)}}else{if(this.geomFact===null){this.geomFact=e.getFactory()}t.extract(e,jsts.geom.Polygon,this.polygons);t.extract(e,jsts.geom.LineString,this.lines);t.extract(e,jsts.geom.Point,this.points)}};jsts.operation.union.UnaryUnionOp.prototype.union=function(){if(this.geomFact===null){return null}var t=null;if(this.points.size()>0){var n=this.geomFact.buildGeometry(this.points);t=this.unionNoOpt(n)}var i=null;if(this.lines.size()>0){var o=this.geomFact.buildGeometry(this.lines);i=this.unionNoOpt(o)}var s=null;if(this.polygons.size()>0){s=e.union(this.polygons)}var a=this.unionWithNull(i,s);var u=null;if(t===null){u=a}else if(a===null){u=t}else{u=r(t,a)}if(u===null){return this.geomFact.createGeometryCollection(null)}return u};jsts.operation.union.UnaryUnionOp.prototype.unionWithNull=function(t,e){if(t===null&&e===null){return null}if(e===null){return t}if(t===null){return e}return t.union(e)};jsts.operation.union.UnaryUnionOp.prototype.unionNoOpt=function(t){var e=this.geomFact.createPoint(null);return i.overlayOp(t,e,n.UNION)}})();jsts.index.kdtree.KdNode=function(){this.left=null;this.right=null;this.count=1;if(arguments.length===2){this.initializeFromCoordinate.apply(this,arguments[0],arguments[1])}else if(arguments.length===3){this.initializeFromXY.apply(this,arguments[0],arguments[1],arguments[2])}};jsts.index.kdtree.KdNode.prototype.initializeFromXY=function(t,e,r){this.p=new jsts.geom.Coordinate(t,e);this.data=r};jsts.index.kdtree.KdNode.prototype.initializeFromCoordinate=function(t,e){this.p=t;this.data=e};jsts.index.kdtree.KdNode.prototype.getX=function(){return this.p.x};jsts.index.kdtree.KdNode.prototype.getY=function(){return this.p.y};jsts.index.kdtree.KdNode.prototype.getCoordinate=function(){return this.p};jsts.index.kdtree.KdNode.prototype.getData=function(){return this.data};jsts.index.kdtree.KdNode.prototype.getLeft=function(){return this.left};jsts.index.kdtree.KdNode.prototype.getRight=function(){return this.right};jsts.index.kdtree.KdNode.prototype.increment=function(){this.count+=1};jsts.index.kdtree.KdNode.prototype.getCount=function(){return this.count};jsts.index.kdtree.KdNode.prototype.isRepeated=function(){return count>1};jsts.index.kdtree.KdNode.prototype.setLeft=function(t){this.left=t};jsts.index.kdtree.KdNode.prototype.setRight=function(t){this.right=t};jsts.algorithm.InteriorPointPoint=function(t){this.minDistance=Number.MAX_VALUE;this.interiorPoint=null;this.centroid=t.getCentroid().getCoordinate();this.add(t)};jsts.algorithm.InteriorPointPoint.prototype.add=function(t){if(t instanceof jsts.geom.Point){this.addPoint(t.getCoordinate())}else if(t instanceof jsts.geom.GeometryCollection){for(var e=0;e<t.getNumGeometries();e++){this.add(t.getGeometryN(e))}}};jsts.algorithm.InteriorPointPoint.prototype.addPoint=function(t){var e=t.distance(this.centroid);if(e<this.minDistance){this.interiorPoint=new jsts.geom.Coordinate(t);this.minDistance=e}};jsts.algorithm.InteriorPointPoint.prototype.getInteriorPoint=function(){return this.interiorPoint};(function(){jsts.geom.MultiLineString=function(t,e){this.geometries=t||[];this.factory=e};jsts.geom.MultiLineString.prototype=new jsts.geom.GeometryCollection;jsts.geom.MultiLineString.constructor=jsts.geom.MultiLineString;jsts.geom.MultiLineString.prototype.getBoundary=function(){return new jsts.operation.BoundaryOp(this).getBoundary()};jsts.geom.MultiLineString.prototype.equalsExact=function(t,e){if(!this.isEquivalentClass(t)){return false}return jsts.geom.GeometryCollection.prototype.equalsExact.call(this,t,e)};jsts.geom.MultiLineString.prototype.CLASS_NAME="jsts.geom.MultiLineString"})();(function(){var t=jsts.index.bintree.Interval;var e=jsts.index.bintree.Root;var r=function(){this.root=new e;this.minExtent=1};r.ensureExtent=function(e,r){var n,i;n=e.getMin();i=e.getMax();if(n!==i){return e}if(n===i){n=n-r/2;i=n+r/2}return new t(n,i)};r.prototype.depth=function(){if(this.root!==null){return this.root.depth()}return 0};r.prototype.size=function(){if(this.root!==null){return this.root.size()}return 0};r.prototype.nodeSize=function(){if(this.root!==null){return this.root.nodeSize()}return 0};r.prototype.insert=function(t,e){this.collectStats(t);var n=r.ensureExtent(t,this.minExtent);this.root.insert(n,e)};r.prototype.remove=function(t,e){var n=r.ensureExtent(t,this.minExtent);return this.root.remove(n,e)};r.prototype.iterator=function(){var t=new javascript.util.ArrayList;this.root.addAllItems(t);return t.iterator()};r.prototype.query=function(){if(arguments.length===2){this.queryAndAdd(arguments[0],arguments[1])}else{var e=arguments[0];if(!e instanceof t){e=new t(e,e)}return this.queryInterval(e)}};r.prototype.queryInterval=function(t){var e=new javascript.util.ArrayList;this.query(t,e);return e};r.prototype.queryAndAdd=function(t,e){this.root.addAllItemsFromOverlapping(t,e)};r.prototype.collectStats=function(t){var e=t.getWidth();if(e<this.minExtent&&e>0){this.minExtent=e}};jsts.index.bintree.Bintree=r})();jsts.algorithm.InteriorPointArea=function(t){this.factory;this.interiorPoint=null;this.maxWidth=0;this.factory=t.getFactory();this.add(t)};jsts.algorithm.InteriorPointArea.avg=function(t,e){return(t+e)/2};jsts.algorithm.InteriorPointArea.prototype.getInteriorPoint=function(){return this.interiorPoint};jsts.algorithm.InteriorPointArea.prototype.add=function(t){if(t instanceof jsts.geom.Polygon){this.addPolygon(t)}else if(t instanceof jsts.geom.GeometryCollection){for(var e=0;e<t.getNumGeometries();e++){this.add(t.getGeometryN(e))}}};jsts.algorithm.InteriorPointArea.prototype.addPolygon=function(t){if(t.isEmpty()){return}var e;var r=0;var n=this.horizontalBisector(t);if(n.getLength()==0){r=0;e=n.getCoordinate()}else{var i=n.intersection(t);var o=this.widestGeometry(i);r=o.getEnvelopeInternal().getWidth();e=this.centre(o.getEnvelopeInternal())}if(this.interiorPoint==null||r>this.maxWidth){this.interiorPoint=e;this.maxWidth=r}};jsts.algorithm.InteriorPointArea.prototype.widestGeometry=function(t){if(t instanceof jsts.geom.GeometryCollection){var e=t;if(e.isEmpty()){return e}var r=e.getGeometryN(0);for(var n=1;n<e.getNumGeometries();n++){if(e.getGeometryN(n).getEnvelopeInternal().getWidth()>r.getEnvelopeInternal().getWidth()){r=e.getGeometryN(n)}}return r}else if(t instanceof jsts.geom.Geometry){return t}};jsts.algorithm.InteriorPointArea.prototype.horizontalBisector=function(t){var e=t.getEnvelopeInternal();var r=jsts.algorithm.SafeBisectorFinder.getBisectorY(t);return this.factory.createLineString([new jsts.geom.Coordinate(e.getMinX(),r),new jsts.geom.Coordinate(e.getMaxX(),r)])};jsts.algorithm.InteriorPointArea.prototype.centre=function(t){return new jsts.geom.Coordinate(jsts.algorithm.InteriorPointArea.avg(t.getMinX(),t.getMaxX()),jsts.algorithm.InteriorPointArea.avg(t.getMinY(),t.getMaxY()))};jsts.algorithm.SafeBisectorFinder=function(t){this.poly;this.centreY;this.hiY=Number.MAX_VALUE;this.loY=-Number.MAX_VALUE;this.poly=t;this.hiY=t.getEnvelopeInternal().getMaxY();this.loY=t.getEnvelopeInternal().getMinY();this.centreY=jsts.algorithm.InteriorPointArea.avg(this.loY,this.hiY)};jsts.algorithm.SafeBisectorFinder.getBisectorY=function(t){var e=new jsts.algorithm.SafeBisectorFinder(t);return e.getBisectorY()};jsts.algorithm.SafeBisectorFinder.prototype.getBisectorY=function(){this.process(this.poly.getExteriorRing());for(var t=0;t<this.poly.getNumInteriorRing();t++){this.process(this.poly.getInteriorRingN(t))}var e=jsts.algorithm.InteriorPointArea.avg(this.hiY,this.loY);return e};jsts.algorithm.SafeBisectorFinder.prototype.process=function(t){var e=t.getCoordinateSequence();for(var r=0;r<e.length;r++){var n=e[r].y;this.updateInterval(n)}};jsts.algorithm.SafeBisectorFinder.prototype.updateInterval=function(t){if(t<=this.centreY){if(t>this.loY){this.loY=t}}else if(t>this.centreY){if(t<this.hiY){this.hiY=t}}};jsts.operation.buffer.BufferParameters=function(t,e,r,n){if(t)this.setQuadrantSegments(t);if(e)this.setEndCapStyle(e);if(r)this.setJoinStyle(r);if(n)this.setMitreLimit(n)};jsts.operation.buffer.BufferParameters.CAP_ROUND=1;jsts.operation.buffer.BufferParameters.CAP_FLAT=2;jsts.operation.buffer.BufferParameters.CAP_SQUARE=3;jsts.operation.buffer.BufferParameters.JOIN_ROUND=1;jsts.operation.buffer.BufferParameters.JOIN_MITRE=2;jsts.operation.buffer.BufferParameters.JOIN_BEVEL=3;jsts.operation.buffer.BufferParameters.DEFAULT_QUADRANT_SEGMENTS=8;jsts.operation.buffer.BufferParameters.DEFAULT_MITRE_LIMIT=5;jsts.operation.buffer.BufferParameters.prototype.quadrantSegments=jsts.operation.buffer.BufferParameters.DEFAULT_QUADRANT_SEGMENTS;jsts.operation.buffer.BufferParameters.prototype.endCapStyle=jsts.operation.buffer.BufferParameters.CAP_ROUND;jsts.operation.buffer.BufferParameters.prototype.joinStyle=jsts.operation.buffer.BufferParameters.JOIN_ROUND;jsts.operation.buffer.BufferParameters.prototype.mitreLimit=jsts.operation.buffer.BufferParameters.DEFAULT_MITRE_LIMIT;jsts.operation.buffer.BufferParameters.prototype._isSingleSided=false;jsts.operation.buffer.BufferParameters.prototype.getQuadrantSegments=function(){return this.quadrantSegments};jsts.operation.buffer.BufferParameters.prototype.setQuadrantSegments=function(t){this.quadrantSegments=t};jsts.operation.buffer.BufferParameters.prototype.setQuadrantSegments=function(t){this.quadrantSegments=t;if(this.quadrantSegments===0)this.joinStyle=jsts.operation.buffer.BufferParameters.JOIN_BEVEL;if(this.quadrantSegments<0){this.joinStyle=jsts.operation.buffer.BufferParameters.JOIN_MITRE;this.mitreLimit=Math.abs(this.quadrantSegments)}if(t<=0){this.quadrantSegments=1}if(this.joinStyle!==jsts.operation.buffer.BufferParameters.JOIN_ROUND){this.quadrantSegments=jsts.operation.buffer.BufferParameters.DEFAULT_QUADRANT_SEGMENTS}};jsts.operation.buffer.BufferParameters.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)};jsts.operation.buffer.BufferParameters.prototype.getEndCapStyle=function(){return this.endCapStyle};jsts.operation.buffer.BufferParameters.prototype.setEndCapStyle=function(t){this.endCapStyle=t};jsts.operation.buffer.BufferParameters.prototype.getJoinStyle=function(){return this.joinStyle};jsts.operation.buffer.BufferParameters.prototype.setJoinStyle=function(t){this.joinStyle=t};jsts.operation.buffer.BufferParameters.prototype.getMitreLimit=function(){return this.mitreLimit};jsts.operation.buffer.BufferParameters.prototype.setMitreLimit=function(t){this.mitreLimit=t};jsts.operation.buffer.BufferParameters.prototype.setSingleSided=function(t){this._isSingleSided=t};jsts.operation.buffer.BufferParameters.prototype.isSingleSided=function(){return this._isSingleSided};(function(){jsts.geom.util.ShortCircuitedGeometryVisitor=function(){};jsts.geom.util.ShortCircuitedGeometryVisitor.prototype.isDone=false;jsts.geom.util.ShortCircuitedGeometryVisitor.prototype.applyTo=function(t){for(var e=0;e<t.getNumGeometries()&&!this.isDone;e++){var r=t.getGeometryN(e);if(!(r instanceof jsts.geom.GeometryCollection)){this.visit(r);if(this.isDone()){this.isDone=true;return}}else this.applyTo(r)}};jsts.geom.util.ShortCircuitedGeometryVisitor.prototype.visit=function(t){};jsts.geom.util.ShortCircuitedGeometryVisitor.prototype.isDone=function(){}})();(function(){var t=function(t){this.rectEnv=t};t.prototype=new jsts.geom.util.ShortCircuitedGeometryVisitor;t.constructor=t;t.prototype.rectEnv=null;t.prototype.intersects=false;t.prototype.intersects=function(){return this.intersects};t.prototype.visit=function(t){var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e)){return}if(this.rectEnv.contains(e)){this.intersects=true;return}if(e.getMinX()>=rectEnv.getMinX()&&e.getMaxX()<=rectEnv.getMaxX()){this.intersects=true;return}if(e.getMinY()>=rectEnv.getMinY()&&e.getMaxY()<=rectEnv.getMaxY()){this.intersects=true;return}};t.prototype.isDone=function(){return this.intersects==true};var e=function(t){this.rectSeq=t.getExteriorRing().getCoordinateSequence();this.rectEnv=t.getEnvelopeInternal()};e.prototype=new jsts.geom.util.ShortCircuitedGeometryVisitor;e.constructor=e;e.prototype.rectSeq=null;e.prototype.rectEnv=null;e.prototype.containsPoint=false;e.prototype.containsPoint=function(){return this.containsPoint};e.prototype.visit=function(t){if(!(t instanceof jsts.geom.Polygon))return;var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return;var r=new jsts.geom.Coordinate;for(var n=0;n<4;n++){this.rectSeq.getCoordinate(n,r);if(!e.contains(r))continue;if(SimplePointInAreaLocator.containsPointInPolygon(r,t)){this.containsPoint=true;return}}};e.prototype.isDone=function(){return this.containsPoint==true};var r=function(t){this.rectEnv=t.getEnvelopeInternal();this.rectIntersector=new RectangleLineIntersector(rectEnv)};r.prototype=new jsts.geom.util.ShortCircuitedGeometryVisitor;r.constructor=r;r.prototype.rectEnv=null;r.prototype.rectIntersector=null;r.prototype.hasIntersection=false;r.prototype.p0=null;r.prototype.p1=null;r.prototype.intersects=function(){return this.hasIntersection};r.prototype.visit=function(t){var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return;var r=LinearComponentExtracter.getLines(t);this.checkIntersectionWithLineStrings(r)};r.prototype.checkIntersectionWithLineStrings=function(t){for(var e=t.iterator();e.hasNext();){var r=e.next();this.checkIntersectionWithSegments(r);if(this.hasIntersection)return}};r.prototype.checkIntersectionWithSegments=function(t){var e=t.getCoordinateSequence();for(var r=1;r<e.length;r++){this.p0=e[r-1];this.p1=e[r];if(rectIntersector.intersects(p0,p1)){this.hasIntersection=true;return}}};r.prototype.isDone=function(){return this.hasIntersection==true};jsts.operation.predicate.RectangleIntersects=function(t){this.rectangle=t;this.rectEnv=t.getEnvelopeInternal()};jsts.operation.predicate.RectangleIntersects.intersects=function(t,e){var r=new jsts.operation.predicate.RectangleIntersects(t);return r.intersects(e)};jsts.operation.predicate.RectangleIntersects.prototype.rectangle=null;jsts.operation.predicate.RectangleIntersects.prototype.rectEnv=null;jsts.operation.predicate.RectangleIntersects.prototype.intersects=function(n){if(!this.rectEnv.intersects(n.getEnvelopeInternal()))return false;var i=new t(this.rectEnv);i.applyTo(n);if(i.intersects())return true;var o=new e(rectangle);o.applyTo(n);if(o.containsPoint())return true;var s=new r(rectangle);s.applyTo(n);if(s.intersects())return true;return false}})();jsts.operation.buffer.BufferBuilder=function(t){this.bufParams=t;this.edgeList=new jsts.geomgraph.EdgeList};jsts.operation.buffer.BufferBuilder.depthDelta=function(t){var e=t.getLocation(0,jsts.geomgraph.Position.LEFT);var r=t.getLocation(0,jsts.geomgraph.Position.RIGHT);if(e===jsts.geom.Location.INTERIOR&&r===jsts.geom.Location.EXTERIOR)return 1;else if(e===jsts.geom.Location.EXTERIOR&&r===jsts.geom.Location.INTERIOR)return-1;return 0};jsts.operation.buffer.BufferBuilder.prototype.bufParams=null;jsts.operation.buffer.BufferBuilder.prototype.workingPrecisionModel=null;jsts.operation.buffer.BufferBuilder.prototype.workingNoder=null;jsts.operation.buffer.BufferBuilder.prototype.geomFact=null;jsts.operation.buffer.BufferBuilder.prototype.graph=null;jsts.operation.buffer.BufferBuilder.prototype.edgeList=null;jsts.operation.buffer.BufferBuilder.prototype.setWorkingPrecisionModel=function(t){this.workingPrecisionModel=t};jsts.operation.buffer.BufferBuilder.prototype.setNoder=function(t){this.workingNoder=t};jsts.operation.buffer.BufferBuilder.prototype.buffer=function(t,e){var r=this.workingPrecisionModel;if(r===null)r=t.getPrecisionModel();this.geomFact=t.getFactory();var n=new jsts.operation.buffer.OffsetCurveBuilder(r,this.bufParams);var i=new jsts.operation.buffer.OffsetCurveSetBuilder(t,e,n);var o=i.getCurves();if(o.size()<=0){return this.createEmptyResultGeometry()}this.computeNodedEdges(o,r);this.graph=new jsts.geomgraph.PlanarGraph(new jsts.operation.overlay.OverlayNodeFactory);this.graph.addEdges(this.edgeList.getEdges());var s=this.createSubgraphs(this.graph);var a=new jsts.operation.overlay.PolygonBuilder(this.geomFact);this.buildSubgraphs(s,a);var u=a.getPolygons();if(u.size()<=0){return this.createEmptyResultGeometry()}var p=this.geomFact.buildGeometry(u);return p};jsts.operation.buffer.BufferBuilder.prototype.getNoder=function(t){if(this.workingNoder!==null)return this.workingNoder;var e=new jsts.noding.MCIndexNoder;var r=new jsts.algorithm.RobustLineIntersector;r.setPrecisionModel(t);e.setSegmentIntersector(new jsts.noding.IntersectionAdder(r));return e};jsts.operation.buffer.BufferBuilder.prototype.computeNodedEdges=function(t,e){var r=this.getNoder(e);r.computeNodes(t);var n=r.getNodedSubstrings();for(var i=n.iterator();i.hasNext();){var o=i.next();var s=o.getData();var a=new jsts.geomgraph.Edge(o.getCoordinates(),new jsts.geomgraph.Label(s));this.insertUniqueEdge(a)}};jsts.operation.buffer.BufferBuilder.prototype.insertUniqueEdge=function(t){var e=this.edgeList.findEqualEdge(t);if(e!=null){var r=e.getLabel();var n=t.getLabel();if(!e.isPointwiseEqual(t)){n=new jsts.geomgraph.Label(t.getLabel());n.flip()}r.merge(n);var i=jsts.operation.buffer.BufferBuilder.depthDelta(n);var o=e.getDepthDelta();var s=o+i;e.setDepthDelta(s)}else{this.edgeList.add(t);t.setDepthDelta(jsts.operation.buffer.BufferBuilder.depthDelta(t.getLabel()))}};jsts.operation.buffer.BufferBuilder.prototype.createSubgraphs=function(t){var e=[];for(var r=t.getNodes().iterator();r.hasNext();){var n=r.next();if(!n.isVisited()){var i=new jsts.operation.buffer.BufferSubgraph;i.create(n);e.push(i)}}var o=function(t,e){return t.compareTo(e)};e.sort(o);e.reverse();return e};jsts.operation.buffer.BufferBuilder.prototype.buildSubgraphs=function(t,e){var r=[];for(var n=0;n<t.length;n++){var i=t[n];var o=i.getRightmostCoordinate();var s=new jsts.operation.buffer.SubgraphDepthLocater(r);var a=s.getDepth(o);i.computeDepth(a);i.findResultEdges();r.push(i);e.add(i.getDirectedEdges(),i.getNodes())}};jsts.operation.buffer.BufferBuilder.convertSegStrings=function(t){var e=new jsts.geom.GeometryFactory;var r=new javascript.util.ArrayList;while(t.hasNext()){var n=t.next();var i=e.createLineString(n.getCoordinates());r.add(i)}return e.buildGeometry(r)};jsts.operation.buffer.BufferBuilder.prototype.createEmptyResultGeometry=function(){var t=this.geomFact.createPolygon(null,null);return t};jsts.noding.SegmentPointComparator=function(){};jsts.noding.SegmentPointComparator.compare=function(t,e,r){if(e.equals2D(r))return 0;var n=jsts.noding.SegmentPointComparator.relativeSign(e.x,r.x);var i=jsts.noding.SegmentPointComparator.relativeSign(e.y,r.y);switch(t){case 0:return jsts.noding.SegmentPointComparator.compareValue(n,i);case 1:return jsts.noding.SegmentPointComparator.compareValue(i,n);case 2:return jsts.noding.SegmentPointComparator.compareValue(i,-n);case 3:return jsts.noding.SegmentPointComparator.compareValue(-n,i);case 4:return jsts.noding.SegmentPointComparator.compareValue(-n,-i);case 5:return jsts.noding.SegmentPointComparator.compareValue(-i,-n);case 6:return jsts.noding.SegmentPointComparator.compareValue(-i,n);case 7:return jsts.noding.SegmentPointComparator.compareValue(n,-i)}return 0};jsts.noding.SegmentPointComparator.relativeSign=function(t,e){if(t<e)return-1;if(t>e)return 1;return 0};jsts.noding.SegmentPointComparator.compareValue=function(t,e){if(t<0)return-1;if(t>0)return 1;if(e<0)return-1;if(e>0)return 1;return 0};jsts.operation.relate.RelateOp=function(){jsts.operation.GeometryGraphOperation.apply(this,arguments);this._relate=new jsts.operation.relate.RelateComputer(this.arg)};jsts.operation.relate.RelateOp.prototype=new jsts.operation.GeometryGraphOperation;jsts.operation.relate.RelateOp.relate=function(t,e,r){var n=new jsts.operation.relate.RelateOp(t,e,r);var i=n.getIntersectionMatrix();return i};jsts.operation.relate.RelateOp.prototype._relate=null;jsts.operation.relate.RelateOp.prototype.getIntersectionMatrix=function(){return this._relate.computeIM()};jsts.index.chain.MonotoneChain=function(t,e,r,n){this.pts=t;this.start=e;this.end=r;this.context=n};jsts.index.chain.MonotoneChain.prototype.pts=null;jsts.index.chain.MonotoneChain.prototype.start=null;jsts.index.chain.MonotoneChain.prototype.end=null;jsts.index.chain.MonotoneChain.prototype.env=null;jsts.index.chain.MonotoneChain.prototype.context=null;jsts.index.chain.MonotoneChain.prototype.id=null;jsts.index.chain.MonotoneChain.prototype.setId=function(t){this.id=t};jsts.index.chain.MonotoneChain.prototype.getId=function(){return this.id};jsts.index.chain.MonotoneChain.prototype.getContext=function(){return this.context};jsts.index.chain.MonotoneChain.prototype.getEnvelope=function(){if(this.env==null){var t=this.pts[this.start];var e=this.pts[this.end];this.env=new jsts.geom.Envelope(t,e)}return this.env};jsts.index.chain.MonotoneChain.prototype.getStartIndex=function(){return this.start};jsts.index.chain.MonotoneChain.prototype.getEndIndex=function(){return this.end};jsts.index.chain.MonotoneChain.prototype.getLineSegment=function(t,e){e.p0=this.pts[t];e.p1=this.pts[t+1]};jsts.index.chain.MonotoneChain.prototype.getCoordinates=function(){var t=[];var e=0;for(var r=this.start;r<=this.end;r++){t[e++]=this.pts[r]}return t};jsts.index.chain.MonotoneChain.prototype.select=function(t,e){this.computeSelect2(t,this.start,this.end,e)};jsts.index.chain.MonotoneChain.prototype.computeSelect2=function(t,e,r,n){var i=this.pts[e];var o=this.pts[r];n.tempEnv1.init(i,o);if(r-e===1){n.select(this,e);return}if(!t.intersects(n.tempEnv1))return;var s=parseInt((e+r)/2);if(e<s){this.computeSelect2(t,e,s,n)}if(s<r){this.computeSelect2(t,s,r,n)}};jsts.index.chain.MonotoneChain.prototype.computeOverlaps=function(t,e){if(arguments.length===6){return this.computeOverlaps2.apply(this,arguments)}this.computeOverlaps2(this.start,this.end,t,t.start,t.end,e)};jsts.index.chain.MonotoneChain.prototype.computeOverlaps2=function(t,e,r,n,i,o){var s=this.pts[t];var a=this.pts[e];var u=r.pts[n];var p=r.pts[i];if(e-t===1&&i-n===1){o.overlap(this,t,r,n);return}o.tempEnv1.init(s,a);o.tempEnv2.init(u,p);if(!o.tempEnv1.intersects(o.tempEnv2))return;var l=parseInt((t+e)/2);var g=parseInt((n+i)/2);if(t<l){if(n<g)this.computeOverlaps2(t,l,r,n,g,o);if(g<i)this.computeOverlaps2(t,l,r,g,i,o)}if(l<e){if(n<g)this.computeOverlaps2(l,e,r,n,g,o);if(g<i)this.computeOverlaps2(l,e,r,g,i,o)}};(function(){var t=jsts.geom.Location;var e=jsts.geom.Dimension;jsts.geom.IntersectionMatrix=function(r){var n=r;if(r===undefined||r===null){this.matrix=[[],[],[]];this.setAll(e.FALSE)}else if(typeof r==="string"){this.set(r)}else if(n instanceof jsts.geom.IntersectionMatrix){this.matrix[t.INTERIOR][t.INTERIOR]=n.matrix[t.INTERIOR][t.INTERIOR];this.matrix[t.INTERIOR][t.BOUNDARY]=n.matrix[t.INTERIOR][t.BOUNDARY];this.matrix[t.INTERIOR][t.EXTERIOR]=n.matrix[t.INTERIOR][t.EXTERIOR];this.matrix[t.BOUNDARY][t.INTERIOR]=n.matrix[t.BOUNDARY][t.INTERIOR];this.matrix[t.BOUNDARY][t.BOUNDARY]=n.matrix[t.BOUNDARY][t.BOUNDARY];this.matrix[t.BOUNDARY][t.EXTERIOR]=n.matrix[t.BOUNDARY][t.EXTERIOR];this.matrix[t.EXTERIOR][t.INTERIOR]=n.matrix[t.EXTERIOR][t.INTERIOR];this.matrix[t.EXTERIOR][t.BOUNDARY]=n.matrix[t.EXTERIOR][t.BOUNDARY];this.matrix[t.EXTERIOR][t.EXTERIOR]=n.matrix[t.EXTERIOR][t.EXTERIOR]}};jsts.geom.IntersectionMatrix.prototype.matrix=null;jsts.geom.IntersectionMatrix.prototype.add=function(t){var e,r;for(e=0;e<3;e++){for(r=0;r<3;r++){this.setAtLeast(e,r,t.get(e,r))}}};jsts.geom.IntersectionMatrix.matches=function(t,r){if(typeof t==="string"){return jsts.geom.IntersectionMatrix.matches2.call(this,arguments)}if(r==="*"){return true}if(r==="T"&&(t>=0||t===e.TRUE)){return true}if(r==="F"&&t===e.FALSE){return true}if(r==="0"&&t===e.P){return true}if(r==="1"&&t===e.L){return true}if(r==="2"&&t===e.A){return true}return false};jsts.geom.IntersectionMatrix.matches2=function(t,e){var r=new jsts.geom.IntersectionMatrix(t);return r.matches(e)};jsts.geom.IntersectionMatrix.prototype.set=function(t,e,r){if(typeof t==="string"){this.set2(t);return}this.matrix[t][e]=r};jsts.geom.IntersectionMatrix.prototype.set2=function(t){for(var r=0;r<t.length();r++){var n=r/3;var i=r%3;this.matrix[n][i]=e.toDimensionValue(t.charAt(r))}};jsts.geom.IntersectionMatrix.prototype.setAtLeast=function(t,e,r){if(arguments.length===1){this.setAtLeast2(arguments[0]);return}if(this.matrix[t][e]<r){this.matrix[t][e]=r}};jsts.geom.IntersectionMatrix.prototype.setAtLeastIfValid=function(t,e,r){if(t>=0&&e>=0){this.setAtLeast(t,e,r)}};jsts.geom.IntersectionMatrix.prototype.setAtLeast2=function(t){var e;for(e=0;e<t.length;e++){var r=parseInt(e/3);var n=parseInt(e%3);this.setAtLeast(r,n,jsts.geom.Dimension.toDimensionValue(t.charAt(e)))}};jsts.geom.IntersectionMatrix.prototype.setAll=function(t){var e,r;for(e=0;e<3;e++){for(r=0;r<3;r++){this.matrix[e][r]=t}}};jsts.geom.IntersectionMatrix.prototype.get=function(t,e){return this.matrix[t][e]};jsts.geom.IntersectionMatrix.prototype.isDisjoint=function(){return this.matrix[t.INTERIOR][t.INTERIOR]===e.FALSE&&this.matrix[t.INTERIOR][t.BOUNDARY]===e.FALSE&&this.matrix[t.BOUNDARY][t.INTERIOR]===e.FALSE&&this.matrix[t.BOUNDARY][t.BOUNDARY]===e.FALSE};jsts.geom.IntersectionMatrix.prototype.isIntersects=function(){return!this.isDisjoint()};jsts.geom.IntersectionMatrix.prototype.isTouches=function(r,n){if(r>n){return this.isTouches(n,r)}if(r==e.A&&n==e.A||r==e.L&&n==e.L||r==e.L&&n==e.A||r==e.P&&n==e.A||r==e.P&&n==e.L){return this.matrix[t.INTERIOR][t.INTERIOR]===e.FALSE&&(jsts.geom.IntersectionMatrix.matches(this.matrix[t.INTERIOR][t.BOUNDARY],"T")||jsts.geom.IntersectionMatrix.matches(this.matrix[t.BOUNDARY][t.INTERIOR],"T")||jsts.geom.IntersectionMatrix.matches(this.matrix[t.BOUNDARY][t.BOUNDARY],"T"))}return false};jsts.geom.IntersectionMatrix.prototype.isCrosses=function(r,n){if(r==e.P&&n==e.L||r==e.P&&n==e.A||r==e.L&&n==e.A){return jsts.geom.IntersectionMatrix.matches(this.matrix[t.INTERIOR][t.INTERIOR],"T")&&jsts.geom.IntersectionMatrix.matches(this.matrix[t.INTERIOR][t.EXTERIOR],"T")}if(r==e.L&&n==e.P||r==e.A&&n==e.P||r==e.A&&n==e.L){return jsts.geom.IntersectionMatrix.matches(matrix[t.INTERIOR][t.INTERIOR],"T")&&jsts.geom.IntersectionMatrix.matches(this.matrix[t.EXTERIOR][t.INTERIOR],"T")}if(r===e.L&&n===e.L){return this.matrix[t.INTERIOR][t.INTERIOR]===0}return false};jsts.geom.IntersectionMatrix.prototype.isWithin=function(){return jsts.geom.IntersectionMatrix.matches(this.matrix[t.INTERIOR][t.INTERIOR],"T")&&this.matrix[t.INTERIOR][t.EXTERIOR]==e.FALSE&&this.matrix[t.BOUNDARY][t.EXTERIOR]==e.FALSE};jsts.geom.IntersectionMatrix.prototype.isContains=function(){return jsts.geom.IntersectionMatrix.matches(this.matrix[t.INTERIOR][t.INTERIOR],"T")&&this.matrix[t.EXTERIOR][t.INTERIOR]==e.FALSE&&this.matrix[t.EXTERIOR][t.BOUNDARY]==e.FALSE};jsts.geom.IntersectionMatrix.prototype.isCovers=function(){var r=jsts.geom.IntersectionMatrix.matches(this.matrix[t.INTERIOR][t.INTERIOR],"T")||jsts.geom.IntersectionMatrix.matches(this.matrix[t.INTERIOR][t.BOUNDARY],"T")||jsts.geom.IntersectionMatrix.matches(this.matrix[t.BOUNDARY][t.INTERIOR],"T")||jsts.geom.IntersectionMatrix.matches(this.matrix[t.BOUNDARY][t.BOUNDARY],"T");return r&&this.matrix[t.EXTERIOR][t.INTERIOR]==e.FALSE&&this.matrix[t.EXTERIOR][t.BOUNDARY]==e.FALSE};jsts.geom.IntersectionMatrix.prototype.isCoveredBy=function(){var r=jsts.geom.IntersectionMatrix.matches(this.matrix[t.INTERIOR][t.INTERIOR],"T")||jsts.geom.IntersectionMatrix.matches(this.matrix[t.INTERIOR][t.BOUNDARY],"T")||jsts.geom.IntersectionMatrix.matches(this.matrix[t.BOUNDARY][t.INTERIOR],"T")||jsts.geom.IntersectionMatrix.matches(this.matrix[t.BOUNDARY][t.BOUNDARY],"T");return r&&this.matrix[t.INTERIOR][t.EXTERIOR]===e.FALSE&&this.matrix[t.BOUNDARY][t.EXTERIOR]===e.FALSE};jsts.geom.IntersectionMatrix.prototype.isEquals=function(r,n){if(r!==n){return false}return jsts.geom.IntersectionMatrix.matches(this.matrix[t.INTERIOR][t.INTERIOR],"T")&&this.matrix[t.EXTERIOR][t.INTERIOR]===e.FALSE&&this.matrix[t.INTERIOR][t.EXTERIOR]===e.FALSE&&this.matrix[t.EXTERIOR][t.BOUNDARY]===e.FALSE&&this.matrix[t.BOUNDARY][t.EXTERIOR]===e.FALSE};jsts.geom.IntersectionMatrix.prototype.isOverlaps=function(r,n){if(r==e.P&&n===e.P||r==e.A&&n===e.A){return jsts.geom.IntersectionMatrix.matches(this.matrix[t.INTERIOR][t.INTERIOR],"T")&&jsts.geom.IntersectionMatrix.matches(this.matrix[t.INTERIOR][t.EXTERIOR],"T")&&jsts.geom.IntersectionMatrix.matches(this.matrix[t.EXTERIOR][t.INTERIOR],"T")}if(r===e.L&&n===e.L){return this.matrix[t.INTERIOR][t.INTERIOR]==1&&jsts.geom.IntersectionMatrix.matches(this.matrix[t.INTERIOR][t.EXTERIOR],"T")&&jsts.geom.IntersectionMatrix.matches(this.matrix[t.EXTERIOR][t.INTERIOR],"T")}return false};jsts.geom.IntersectionMatrix.prototype.matches=function(t){if(t.length!=9){throw new jsts.error.IllegalArgumentException("Should be length 9: "+t)}for(var e=0;e<3;e++){for(var r=0;r<3;r++){if(!jsts.geom.IntersectionMatrix.matches(this.matrix[e][r],t.charAt(3*e+r))){return false}}}return true};jsts.geom.IntersectionMatrix.prototype.transpose=function(){var t=matrix[1][0];this.matrix[1][0]=this.matrix[0][1];this.matrix[0][1]=t;t=this.matrix[2][0];this.matrix[2][0]=this.matrix[0][2];this.matrix[0][2]=t;t=this.matrix[2][1];this.matrix[2][1]=this.matrix[1][2];this.matrix[1][2]=t;return this};jsts.geom.IntersectionMatrix.prototype.toString=function(){var t,r,n="";for(t=0;t<3;t++){for(r=0;r<3;r++){n+=e.toDimensionSymbol(this.matrix[t][r])}}return n}})();jsts.triangulate.quadedge.LastFoundQuadEdgeLocator=function(t){this.subdiv=t;this.lastEdge=null;this.init()};jsts.triangulate.quadedge.LastFoundQuadEdgeLocator.prototype.init=function(){this.lastEdge=this.findEdge()};jsts.triangulate.quadedge.LastFoundQuadEdgeLocator.prototype.findEdge=function(){var t=this.subdiv.getEdges();return t[0]};jsts.triangulate.quadedge.LastFoundQuadEdgeLocator.prototype.locate=function(t){if(!this.lastEdge.isLive()){this.init()}var e=this.subdiv.locateFromEdge(t,this.lastEdge);

this.lastEdge=e;return e};jsts.noding.SegmentNodeList=function(t){this.nodeMap=new javascript.util.TreeMap;this.edge=t};jsts.noding.SegmentNodeList.prototype.nodeMap=null;jsts.noding.SegmentNodeList.prototype.iterator=function(){return this.nodeMap.values().iterator()};jsts.noding.SegmentNodeList.prototype.edge=null;jsts.noding.SegmentNodeList.prototype.getEdge=function(){return this.edge};jsts.noding.SegmentNodeList.prototype.add=function(t,e){var r=new jsts.noding.SegmentNode(this.edge,t,e,this.edge.getSegmentOctant(e));var n=this.nodeMap.get(r);if(n!==null){jsts.util.Assert.isTrue(n.coord.equals2D(t),"Found equal nodes with different coordinates");return n}this.nodeMap.put(r,r);return r};jsts.noding.SegmentNodeList.prototype.addEndpoints=function(){var t=this.edge.size()-1;this.add(this.edge.getCoordinate(0),0);this.add(this.edge.getCoordinate(t),t)};jsts.noding.SegmentNodeList.prototype.addCollapsedNodes=function(){var t=[];this.findCollapsesFromInsertedNodes(t);this.findCollapsesFromExistingVertices(t);for(var e=0;e<t.length;e++){var r=t[e];this.add(this.edge.getCoordinate(r),r)}};jsts.noding.SegmentNodeList.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this.edge.size()-2;e++){var r=this.edge.getCoordinate(e);var n=this.edge.getCoordinate(e+1);var i=this.edge.getCoordinate(e+2);if(r.equals2D(i)){t.push(e+1)}}};jsts.noding.SegmentNodeList.prototype.findCollapsesFromInsertedNodes=function(t){var e=[null];var r=this.iterator();var n=r.next();while(r.hasNext()){var i=r.next();var o=this.findCollapseIndex(n,i,e);if(o)t.push(e[0]);n=i}};jsts.noding.SegmentNodeList.prototype.findCollapseIndex=function(t,e,r){if(!t.coord.equals2D(e.coord))return false;var n=e.segmentIndex-t.segmentIndex;if(!e.isInterior()){n--}if(n===1){r[0]=t.segmentIndex+1;return true}return false};jsts.noding.SegmentNodeList.prototype.addSplitEdges=function(t){this.addEndpoints();this.addCollapsedNodes();var e=this.iterator();var r=e.next();while(e.hasNext()){var n=e.next();var i=this.createSplitEdge(r,n);t.add(i);r=n}};jsts.noding.SegmentNodeList.prototype.checkSplitEdgesCorrectness=function(t){var e=edge.getCoordinates();var r=t[0];var n=r.getCoordinate(0);if(!n.equals2D(e[0]))throw new Error("bad split edge start point at "+n);var i=t[t.length-1];var o=i.getCoordinates();var s=o[o.length-1];if(!s.equals2D(e[e.length-1]))throw new Error("bad split edge end point at "+s)};jsts.noding.SegmentNodeList.prototype.createSplitEdge=function(t,e){var r=e.segmentIndex-t.segmentIndex+2;var n=this.edge.getCoordinate(e.segmentIndex);var i=e.isInterior()||!e.coord.equals2D(n);if(!i){r--}var o=[];var s=0;o[s++]=new jsts.geom.Coordinate(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++){o[s++]=this.edge.getCoordinate(a)}if(i)o[s]=e.coord;return new jsts.noding.NodedSegmentString(o,this.edge.getData())};jsts.io.WKTWriter=function(){this.parser=new jsts.io.WKTParser(this.geometryFactory)};jsts.io.WKTWriter.prototype.write=function(t){var e=this.parser.write(t);return e};jsts.io.WKTWriter.toLineString=function(t,e){if(arguments.length!==2){throw new jsts.error.NotImplementedError}return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};jsts.io.WKTReader=function(t){this.geometryFactory=t||new jsts.geom.GeometryFactory;this.precisionModel=this.geometryFactory.getPrecisionModel();this.parser=new jsts.io.WKTParser(this.geometryFactory)};jsts.io.WKTReader.prototype.read=function(t){var e=this.parser.read(t);if(this.precisionModel.getType()===jsts.geom.PrecisionModel.FIXED){this.reducePrecision(e)}return e};jsts.io.WKTReader.prototype.reducePrecision=function(t){var e,r;if(t.coordinate){this.precisionModel.makePrecise(t.coordinate)}else if(t.points){for(e=0,r=t.points.length;e<r;e++){this.precisionModel.makePrecise(t.points[e])}}else if(t.geometries){for(e=0,r=t.geometries.length;e<r;e++){this.reducePrecision(t.geometries[e])}}};jsts.triangulate.quadedge.QuadEdgeSubdivision=function(t,e){this.tolerance=e;this.edgeCoincidenceTolerance=e/jsts.triangulate.quadedge.QuadEdgeSubdivision.EDGE_COINCIDENCE_TOL_FACTOR;this.visitedKey=0;this.quadEdges=[];this.startingEdge;this.tolerance;this.edgeCoincidenceTolerance;this.frameEnv;this.locator=null;this.seg=new jsts.geom.LineSegment;this.triEdges=new Array(3);this.frameVertex=new Array(3);this.createFrame(t);this.startingEdge=this.initSubdiv();this.locator=new jsts.triangulate.quadedge.LastFoundQuadEdgeLocator(this)};jsts.triangulate.quadedge.QuadEdgeSubdivision.EDGE_COINCIDENCE_TOL_FACTOR=1e3;jsts.triangulate.quadedge.QuadEdgeSubdivision.getTriangleEdges=function(t,e){e[0]=t;e[1]=e[0].lNext();e[2]=e[1].lNext();if(e[2].lNext()!=e[0]){throw new jsts.IllegalArgumentError("Edges do not form a triangle")}};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.createFrame=function(t){var e,r,n;e=t.getWidth();r=t.getHeight();n=0;if(e>r){n=e*10}else{n=r*10}this.frameVertex[0]=new jsts.triangulate.quadedge.Vertex((t.getMaxX()+t.getMinX())/2,t.getMaxY()+n);this.frameVertex[1]=new jsts.triangulate.quadedge.Vertex(t.getMinX()-n,t.getMinY()-n);this.frameVertex[2]=new jsts.triangulate.quadedge.Vertex(t.getMaxX()+n,t.getMinY()-n);this.frameEnv=new jsts.geom.Envelope(this.frameVertex[0].getCoordinate(),this.frameVertex[1].getCoordinate());this.frameEnv.expandToInclude(this.frameVertex[2].getCoordinate())};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.initSubdiv=function(){var t,e,r;t=this.makeEdge(this.frameVertex[0],this.frameVertex[1]);e=this.makeEdge(this.frameVertex[1],this.frameVertex[2]);jsts.triangulate.quadedge.QuadEdge.splice(t.sym(),e);r=this.makeEdge(this.frameVertex[2],this.frameVertex[0]);jsts.triangulate.quadedge.QuadEdge.splice(e.sym(),r);jsts.triangulate.quadedge.QuadEdge.splice(r.sym(),t);return t};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getTolerance=function(){return this.tolerance};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getEnvelope=function(){return new jsts.geom.Envelope(this.frameEnv)};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getEdges=function(){if(arguments.length>0){return this.getEdgesByFactory(arguments[0])}else{return this.quadEdges}};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.setLocator=function(t){this.locator=t};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.makeEdge=function(t,e){var r=jsts.triangulate.quadedge.QuadEdge.makeEdge(t,e);this.quadEdges.push(r);return r};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.connect=function(t,e){var r=jsts.triangulate.quadedge.QuadEdge.connect(t,e);this.quadEdges.push(r);return r};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.delete_jsts=function(t){jsts.triangulate.quadedge.QuadEdge.splice(t,t.oPrev());jsts.triangulate.quadedge.QuadEdge.splice(t.sym(),t.sym().oPrev());var e,r,n;t.eSym=t.sym();r=t.rot;n=t.rot.sym();var i=this.quadEdges.indexOf(t);if(i!==-1){this.quadEdges.splice(i,1)}i=this.quadEdges.indexOf(e);if(i!==-1){this.quadEdges.splice(i,1)}i=this.quadEdges.indexOf(r);if(i!==-1){this.quadEdges.splice(i,1)}i=this.quadEdges.indexOf(n);if(i!==-1){this.quadEdges.splice(i,1)}t.delete_jsts();e.delete_jsts();r.delete_jsts();n.delete_jsts()};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.locateFromEdge=function(t,e){var r=0,n=this.quadEdges.length,i;i=e;while(true){r++;if(r>n){throw new jsts.error.LocateFailureError(i.toLineSegment())}if(t.equals(i.orig())||t.equals(i.dest())){break}else if(t.rightOf(i)){i=i.sym()}else if(!t.rightOf(i.oNext())){i=i.oNext()}else if(!t.rightOf(i.dPrev())){i=i.dPrev()}else{break}}return i};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.locate=function(){if(arguments.length===1){if(arguments[0]instanceof jsts.triangulate.quadedge.Vertex){return this.locateByVertex(arguments[0])}else{return this.locateByCoordinate(arguments[0])}}else{return this.locateByCoordinates(arguments[0],arguments[1])}};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.locateByVertex=function(t){return this.locator.locate(t)};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.locateByCoordinate=function(t){return this.locator.locate(new jsts.triangulate.quadedge.Vertex(t))};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.locateByCoordinates=function(t,e){var r,n,i;var r=this.locator.locate(new jsts.triangulate.quadedge.Vertex(t));if(r===null){return null}n=r;if(r.dest().getCoordinate().equals2D(t)){n=r.sym()}i=n;do{if(i.dest().getCoordinate().equals2D(e)){return i}i=i.oNext()}while(i!=n);return null};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.insertSite=function(t){var e,r,n;e=this.locate(t);if(t.equals(e.orig(),this.tolerance)||t.equals(e.dest(),this.tolerance)){return e}r=this.makeEdge(e.orig(),t);jsts.triangulate.quadedge.QuadEdge.splice(r,e);n=r;do{r=this.connect(e,r.sym());e=r.oPrev()}while(e.lNext()!=n);return n};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.isFrameEdge=function(t){if(this.isFrameVertex(t.orig())||this.isFrameVertex(t.dest())){return true}return false};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.isFrameBorderEdge=function(t){var e,r,n,i;e=new Array(3);this.getTriangleEdges(t,e);r=new Array(3);this.getTriangleEdges(t.sym(),r);n=t.lNext().dest();if(this.isFrameVertex(n)){return true}i=t.sym().lNext().dest();if(this.isFrameVertex(i)){return true}return false};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.isFrameVertex=function(t){if(t.equals(this.frameVertex[0])){return true}if(t.equals(this.frameVertex[1])){return true}if(t.equals(this.frameVertex[2])){return true}return false};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.isOnEdge=function(t,e){this.seg.setCoordinates(t.orig().getCoordinate(),t.dest().getCoordinate());var r=this.seg.distance(e);return r<this.edgeCoincidenceTolerance};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.isVertexOfEdge=function(t,e){if(e.equals(t.orig(),this.tolerance)||e.equals(t.dest(),this.tolerance)){return true}return false};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getVertices=function(t){var e=[],r,n,i,o,s;r=0,n=this.quadEdges.length;for(r;r<n;r++){i=this.quadEdges[r];o=i.orig();if(t||!this.isFrameVertex(o)){e.push(o)}s=i.dest();if(t||!this.isFrameVertex(s)){e.push(s)}}return e};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getVertexUniqueEdges=function(t){var e,r,n,i,o,s,a,u;e=[];r=[];n=0,i=this.quadEdges.length;for(n;n<i;n++){o=this.quadEdges[n];s=o.orig();if(r.indexOf(s)===-1){r.push(s);if(t||!this.isFrameVertex(s)){e.push(o)}}a=o.sym();u=a.orig();if(r.indexOf(u)===-1){r.push(u);if(t||!this.isFrameVertex(u)){e.push(a)}}}return e};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getPrimaryEdges=function(t){this.visitedKey++;var e,r,n,i,o;e=[];r=[];r.push(this.startingEdge);n=[];while(r.length>0){i=r.pop();if(n.indexOf(i)===-1){o=i.getPrimary();if(t||!this.isFrameEdge(o)){e.push(o)}r.push(i.oNext());r.push(i.sym().oNext());n.push(i);n.push(i.sym())}}return e};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.visitTriangles=function(t,e){this.visitedKey++;var r,n,i,o;r=[];r.push(this.startingEdge);n=[];while(r.length>0){i=r.pop();if(n.indexOf(i)===-1){o=this.fetchTriangleToVisit(i,r,e,n);if(o!==null)t.visit(o)}}};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.fetchTriangleToVisit=function(t,e,r,n){var i,o,s,a;i=t;o=0;s=false;do{this.triEdges[o]=i;if(this.isFrameEdge(i)){s=true}a=i.sym();if(n.indexOf(a)===-1){e.push(a)}n.push(i);o++;i=i.lNext()}while(i!==t);if(s&&!r){return null}return this.triEdges};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getTriangleEdges=function(t){var e=new jsts.triangulate.quadedge.TriangleEdgesListVisitor;this.visitTriangles(e,t);return e.getTriangleEdges()};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getTriangleVertices=function(t){var e=new TriangleVertexListVisitor;this.visitTriangles(e,t);return e.getTriangleVertices()};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getTriangleCoordinates=function(t){var e=new jsts.triangulate.quadedge.TriangleCoordinatesVisitor;this.visitTriangles(e,t);return e.getTriangles()};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getEdgesByFactory=function(t){var e,r,n,i,o,s;e=this.getPrimaryEdges(false);r=[];n=0;i=e.length;for(n;n<i;n++){o=e[n];s=[];s[0]=o.orig().getCoordinate();s[1]=o.dest().getCoordinate();r[n]=t.createLineString(s)}return t.createMultiLineString(r)};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getTriangles=function(t){var e,r,n,i,o;e=this.getTriangleCoordinates(false);r=new Array(e.length);i=0,o=e.length;for(i;i<o;i++){n=e[i];r[i]=t.createPolygon(t.createLinearRing(n,null))}return t.createGeometryCollection(r)};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getVoronoiDiagram=function(t){var e=this.getVoronoiCellPolygons(t);return t.createGeometryCollection(e)};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getVoronoiCellPolygons=function(t){this.visitTriangles(new jsts.triangulate.quadedge.TriangleCircumcentreVisitor,true);var e,r,n,i,o;e=[];r=this.getVertexUniqueEdges(false);n=0,i=r.length;for(n;n<i;n++){o=r[n];e.push(this.getVoronoiCellPolygon(o,t))}return e};jsts.triangulate.quadedge.QuadEdgeSubdivision.prototype.getVoronoiCellPolygon=function(t,e){var r,n,i,o,s,a;r=[];startQE=t;do{i=t.rot.orig().getCoordinate();r.push(i);t=t.oPrev()}while(t!==startQE);o=new jsts.geom.CoordinateList([],false);o.add(r,false);o.closeRing();if(o.size()<4){o.add(o.get(o.size()-1),true)}s=e.createPolygon(e.createLinearRing(o.toArray()),null);a=startQE.orig();return s};jsts.triangulate.quadedge.TriangleCircumcentreVisitor=function(){};jsts.triangulate.quadedge.TriangleCircumcentreVisitor.prototype.visit=function(t){var e,r,n,i,o,s;e=t[0].orig().getCoordinate();r=t[1].orig().getCoordinate();n=t[2].orig().getCoordinate();i=jsts.geom.Triangle.circumcentre(e,r,n);o=new jsts.triangulate.quadedge.Vertex(i);s=0;for(s;s<3;s++){t[s].rot.setOrig(o)}};jsts.triangulate.quadedge.TriangleEdgesListVisitor=function(){this.triList=[]};jsts.triangulate.quadedge.TriangleEdgesListVisitor.prototype.visit=function(t){var e=t.concat();this.triList.push(e)};jsts.triangulate.quadedge.TriangleEdgesListVisitor.prototype.getTriangleEdges=function(){return this.triList};jsts.triangulate.quadedge.TriangleVertexListVisitor=function(){this.triList=[]};jsts.triangulate.quadedge.TriangleVertexListVisitor.prototype.visit=function(t){var e=[];e.push(trieEdges[0].orig());e.push(trieEdges[1].orig());e.push(trieEdges[2].orig());this.triList.push(e)};jsts.triangulate.quadedge.TriangleVertexListVisitor.prototype.getTriangleVertices=function(){return this.triList};jsts.triangulate.quadedge.TriangleCoordinatesVisitor=function(){this.coordList=new jsts.geom.CoordinateList([],false);this.triCoords=[]};jsts.triangulate.quadedge.TriangleCoordinatesVisitor.prototype.visit=function(t){this.coordList=new jsts.geom.CoordinateList([],false);var e=0,r,n;for(e;e<3;e++){r=t[e].orig();this.coordList.add(r.getCoordinate())}if(this.coordList.size()>0){this.coordList.closeRing();n=this.coordList.toArray();if(n.length!==4){return}this.triCoords.push(n)}};jsts.triangulate.quadedge.TriangleCoordinatesVisitor.prototype.getTriangles=function(){return this.triCoords};jsts.operation.relate.EdgeEndBundle=function(){this.edgeEnds=[];var t=arguments[0]instanceof jsts.geomgraph.EdgeEnd?arguments[0]:arguments[1];var e=t.getEdge();var r=t.getCoordinate();var n=t.getDirectedCoordinate();var i=new jsts.geomgraph.Label(t.getLabel());jsts.geomgraph.EdgeEnd.call(this,e,r,n,i);this.insert(t)};jsts.operation.relate.EdgeEndBundle.prototype=new jsts.geomgraph.EdgeEnd;jsts.operation.relate.EdgeEndBundle.prototype.edgeEnds=null;jsts.operation.relate.EdgeEndBundle.prototype.getLabel=function(){return this.label};jsts.operation.relate.EdgeEndBundle.prototype.getEdgeEnds=function(){return this.edgeEnds};jsts.operation.relate.EdgeEndBundle.prototype.insert=function(t){this.edgeEnds.push(t)};jsts.operation.relate.EdgeEndBundle.prototype.computeLabel=function(t){var e=false;for(var r=0;r<this.edgeEnds.length;r++){var n=this.edgeEnds[r];if(n.getLabel().isArea())e=true}if(e)this.label=new jsts.geomgraph.Label(jsts.geom.Location.NONE,jsts.geom.Location.NONE,jsts.geom.Location.NONE);else this.label=new jsts.geomgraph.Label(jsts.geom.Location.NONE);for(var r=0;r<2;r++){this.computeLabelOn(r,t);if(e)this.computeLabelSides(r)}};jsts.operation.relate.EdgeEndBundle.prototype.computeLabelOn=function(t,e){var r=0;var n=false;for(var i=0;i<this.edgeEnds.length;i++){var o=this.edgeEnds[i];var s=o.getLabel().getLocation(t);if(s==jsts.geom.Location.BOUNDARY)r++;if(s==jsts.geom.Location.INTERIOR)n=true}var s=jsts.geom.Location.NONE;if(n)s=jsts.geom.Location.INTERIOR;if(r>0){s=jsts.geomgraph.GeometryGraph.determineBoundary(e,r)}this.label.setLocation(t,s)};jsts.operation.relate.EdgeEndBundle.prototype.computeLabelSides=function(t){this.computeLabelSide(t,jsts.geomgraph.Position.LEFT);this.computeLabelSide(t,jsts.geomgraph.Position.RIGHT)};jsts.operation.relate.EdgeEndBundle.prototype.computeLabelSide=function(t,e){for(var r=0;r<this.edgeEnds.length;r++){var n=this.edgeEnds[r];if(n.getLabel().isArea()){var i=n.getLabel().getLocation(t,e);if(i===jsts.geom.Location.INTERIOR){this.label.setLocation(t,e,jsts.geom.Location.INTERIOR);return}else if(i===jsts.geom.Location.EXTERIOR)this.label.setLocation(t,e,jsts.geom.Location.EXTERIOR)}}};jsts.operation.relate.EdgeEndBundle.prototype.updateIM=function(t){jsts.geomgraph.Edge.updateIM(this.label,t)};jsts.index.kdtree.KdTree=function(t){var e=0;if(t!==undefined){e=t}this.root=null;this.last=null;this.numberOfNodes=0;this.tolerance=e};jsts.index.kdtree.KdTree.prototype.insert=function(){if(arguments.length===1){return this.insertCoordinate.apply(this,arguments[0])}else{return this.insertWithData.apply(this,arguments[0],arguments[1])}};jsts.index.kdtree.KdTree.prototype.insertCoordinate=function(t){return this.insertWithData(t,null)};jsts.index.kdtree.KdTree.prototype.insertWithData=function(t,e){if(this.root===null){this.root=new jsts.index.kdtree.KdNode(t,e);return this.root}var r=this.root,n=this.root,i=true,o=true;while(r!==last){if(i){o=t.x<r.getX()}else{o=t.y<r.getY()}n=r;if(o){r=r.getLeft()}else{r=r.getRight()}if(r!==null){var s=t.distance(r.getCoordinate())<=this.tolerance;if(s){r.increment();return r}}i=!i}this.numberOfNodes=numberOfNodes+1;var a=new jsts.index.kdtree.KdNode(t,e);a.setLeft(this.last);a.setRight(this.last);if(o){n.setLeft(a)}else{n.setRight(a)}return a};jsts.index.kdtree.KdTree.prototype.queryNode=function(t,e,r,n,i){if(t===e){return}var o,s,a;if(n){o=r.getMinX();s=r.getMaxX();a=t.getX()}else{o=r.getMinY();s=r.getMaxY();a=t.getY()}var u=o<a;var p=a<=s;if(u){this.queryNode(t.getLeft(),e,r,!n,i)}if(r.contains(t.getCoordinate())){i.add(t)}if(p){this.queryNode(t.getRight(),e,r,!n,i)}};jsts.index.kdtree.KdTree.prototype.query=function(){if(arguments.length===1){return this.queryByEnvelope.apply(this,arguments[0])}else{return this.queryWithArray.apply(this,arguments[0],arguments[1])}};jsts.index.kdtree.KdTree.prototype.queryByEnvelope=function(t){var e=[];this.queryNode(this.root,this.last,t,true,e);return e};jsts.index.kdtree.KdTree.prototype.queryWithArray=function(t,e){this.queryNode(this.root,this.last,t,true,e)};jsts.geom.Triangle=function(t,e,r){this.p0=t;this.p1=e;this.p2=r};jsts.geom.Triangle.isAcute=function(t,e,r){if(!jsts.algorithm.Angle.isAcute(t,e,r)){return false}if(!jsts.algorithm.Angle.isAcute(e,r,t)){return false}if(!jsts.algorithm.Angle.isAcute(r,t,e)){return false}return true};jsts.geom.Triangle.perpendicularBisector=function(t,e){var r,n,i,o;r=e.x-t.x;n=e.y-t.y;i=new jsts.algorithm.HCoordinate(t.x+r/2,t.y+n/2,1);o=new jsts.algorithm.HCoordinate(t.x-n+r/2,t.y+r+n/2,1);return new jsts.algorithm.HCoordinate(i,o)};jsts.geom.Triangle.circumcentre=function(t,e,r){var n,i,o,s,a,u,p,l,g,h,f;n=r.x;i=r.y;o=t.x-n;s=t.y-i;a=e.x-n;u=e.y-i;p=2*jsts.geom.Triangle.det(o,s,a,u);l=jsts.geom.Triangle.det(s,o*o+s*s,u,a*a+u*u);g=jsts.geom.Triangle.det(o,o*o+s*s,a,a*a+u*u);h=n-l/p;f=i+g/p;return new jsts.geom.Coordinate(h,f)};jsts.geom.Triangle.det=function(t,e,r,n){return t*n-e*r};jsts.geom.Triangle.inCentre=function(t,e,r){var n,i,o,s,a,u;n=e.distance(r);i=t.distance(r);o=t.distance(e);s=n+i+o;a=(n*t.x+i*e.x+o*r.x)/s;u=(n*t.y+i*e.y+o*r.y)/s;return new jsts.geom.Coordinate(a,u)};jsts.geom.Triangle.centroid=function(t,e,r){var n,i;n=(t.x+e.x+r.x)/3;i=(t.y+e.y+r.y)/3;return new jsts.geom.Coordinate(n,i)};jsts.geom.Triangle.longestSideLength=function(t,e,r){var n,i,o,s;n=t.distance(e);i=e.distance(r);o=r.distance(t);s=n;if(i>s){s=i}if(o>s){s=o}return s};jsts.geom.Triangle.angleBisector=function(t,e,r){var n,i,o,s,a,u;n=e.distance(t);i=e.distance(r);o=n/(n+i);s=r.x-t.x;a=r.y-t.y;u=new jsts.geom.Coordinate(t.x+o*s,t.y+o*a);return u};jsts.geom.Triangle.area=function(t,e,r){return Math.abs(((r.x-t.x)*(e.y-t.y)-(e.x-t.x)*(r.y-t.y))/2)};jsts.geom.Triangle.signedArea=function(t,e,r){return((r.x-t.x)*(e.y-t.y)-(e.x-t.x)*(r.y-t.y))/2};jsts.geom.Triangle.prototype.inCentre=function(){return jsts.geom.Triangle.inCentre(this.p0,this.p1,this.p2)};jsts.noding.OrientedCoordinateArray=function(t){this.pts=t;this._orientation=jsts.noding.OrientedCoordinateArray.orientation(t)};jsts.noding.OrientedCoordinateArray.prototype.pts=null;jsts.noding.OrientedCoordinateArray.prototype._orientation=undefined;jsts.noding.OrientedCoordinateArray.orientation=function(t){return jsts.geom.CoordinateArrays.increasingDirection(t)===1};jsts.noding.OrientedCoordinateArray.prototype.compareTo=function(t){var e=t;var r=jsts.noding.OrientedCoordinateArray.compareOriented(this.pts,this._orientation,e.pts,e._orientation);return r};jsts.noding.OrientedCoordinateArray.compareOriented=function(t,e,r,n){var i=e?1:-1;var o=n?1:-1;var s=e?t.length:-1;var a=n?r.length:-1;var u=e?0:t.length-1;var p=n?0:r.length-1;var l=0;while(true){var g=t[u].compareTo(r[p]);if(g!==0)return g;u+=i;p+=o;var h=u===s;var f=p===a;if(h&&!f)return-1;if(!h&&f)return 1;if(h&&f)return 0}};jsts.algorithm.CentralEndpointIntersector=function(t,e,r,n){this.pts=[t,e,r,n];this.compute()};jsts.algorithm.CentralEndpointIntersector.getIntersection=function(t,e,r,n){var i=new jsts.algorithm.CentralEndpointIntersector(t,e,r,n);return i.getIntersection()};jsts.algorithm.CentralEndpointIntersector.prototype.pts=null;jsts.algorithm.CentralEndpointIntersector.prototype.intPt=null;jsts.algorithm.CentralEndpointIntersector.prototype.compute=function(){var t=jsts.algorithm.CentralEndpointIntersector.average(this.pts);this.intPt=this.findNearestPoint(t,this.pts)};jsts.algorithm.CentralEndpointIntersector.prototype.getIntersection=function(){return this.intPt};jsts.algorithm.CentralEndpointIntersector.average=function(t){var e=new jsts.geom.Coordinate;var r,n=t.length;for(r=0;r<n;r++){e.x+=t[r].x;e.y+=t[r].y}if(n>0){e.x/=n;e.y/=n}return e};jsts.algorithm.CentralEndpointIntersector.prototype.findNearestPoint=function(t,e){var r=Number.MAX_VALUE;var n,i=null,o;for(n=0;n<e.length;n++){o=t.distance(e[n]);if(o<r){r=o;i=e[n]}}return i};jsts.operation.buffer.BufferOp=function(t,e){this.argGeom=t;this.bufParams=e?e:new jsts.operation.buffer.BufferParameters};jsts.operation.buffer.BufferOp.MAX_PRECISION_DIGITS=12;jsts.operation.buffer.BufferOp.precisionScaleFactor=function(t,e,r){var n=t.getEnvelopeInternal();var i=Math.max(n.getHeight(),n.getWidth());var o=e>0?e:0;var s=i+2*o;var a=Math.log(s)/Math.log(10)+1;var u=a-r;var p=Math.pow(10,-u);return p};jsts.operation.buffer.BufferOp.bufferOp=function(t,e){if(arguments.length>2){return jsts.operation.buffer.BufferOp.bufferOp2.apply(this,arguments)}var r=new jsts.operation.buffer.BufferOp(t);var n=r.getResultGeometry(e);return n};jsts.operation.buffer.BufferOp.bufferOp2=function(t,e,r){if(arguments.length>3){return jsts.operation.buffer.BufferOp.bufferOp3.apply(this,arguments)}var n=new jsts.operation.buffer.BufferOp(t,r);var i=n.getResultGeometry(e);return i};jsts.operation.buffer.BufferOp.bufferOp3=function(t,e,r){if(arguments.length>4){return jsts.operation.buffer.BufferOp.bufferOp4.apply(this,arguments)}var n=new jsts.operation.buffer.BufferOp(t);n.setQuadrantSegments(r);var i=n.getResultGeometry(e);return i};jsts.operation.buffer.BufferOp.bufferOp4=function(t,e,r,n){var i=new jsts.operation.buffer.BufferOp(t);i.setQuadrantSegments(r);i.setEndCapStyle(n);var o=i.getResultGeometry(e);return o};jsts.operation.buffer.BufferOp.prototype.argGeom=null;jsts.operation.buffer.BufferOp.prototype.distance=null;jsts.operation.buffer.BufferOp.prototype.bufParams=null;jsts.operation.buffer.BufferOp.prototype.resultGeometry=null;jsts.operation.buffer.BufferOp.prototype.setEndCapStyle=function(t){this.bufParams.setEndCapStyle(t)};jsts.operation.buffer.BufferOp.prototype.setQuadrantSegments=function(t){this.bufParams.setQuadrantSegments(t)};jsts.operation.buffer.BufferOp.prototype.getResultGeometry=function(t){this.distance=t;this.computeGeometry();return this.resultGeometry};jsts.operation.buffer.BufferOp.prototype.computeGeometry=function(){this.bufferOriginalPrecision();if(this.resultGeometry!==null){return}var t=this.argGeom.getPrecisionModel();if(t.getType()===jsts.geom.PrecisionModel.FIXED){this.bufferFixedPrecision(t)}else{this.bufferReducedPrecision()}};jsts.operation.buffer.BufferOp.prototype.bufferReducedPrecision=function(){var t;var e=null;for(t=jsts.operation.buffer.BufferOp.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision2(t)}catch(r){e=r}if(this.resultGeometry!==null){return}}throw e};jsts.operation.buffer.BufferOp.prototype.bufferOriginalPrecision=function(){try{var t=new jsts.operation.buffer.BufferBuilder(this.bufParams);this.resultGeometry=t.buffer(this.argGeom,this.distance)}catch(e){}};jsts.operation.buffer.BufferOp.prototype.bufferReducedPrecision2=function(t){var e=jsts.operation.buffer.BufferOp.precisionScaleFactor(this.argGeom,this.distance,t);var r=new jsts.geom.PrecisionModel(e);this.bufferFixedPrecision(r)};jsts.operation.buffer.BufferOp.prototype.bufferFixedPrecision=function(t){var e=new jsts.noding.ScaledNoder(new jsts.noding.snapround.MCIndexSnapRounder(new jsts.geom.PrecisionModel(1)),t.getScale());var r=new jsts.operation.buffer.BufferBuilder(this.bufParams);r.setWorkingPrecisionModel(t);r.setNoder(e);this.resultGeometry=r.buffer(this.argGeom,this.distance)};(function(){var t=jsts.geom.Location;var e=jsts.geomgraph.Position;var r=jsts.util.Assert;jsts.geomgraph.GeometryGraph=function(t,e,r){jsts.geomgraph.PlanarGraph.call(this);this.lineEdgeMap=new javascript.util.HashMap;this.ptLocator=new jsts.algorithm.PointLocator;this.argIndex=t;this.parentGeom=e;this.boundaryNodeRule=r||jsts.algorithm.BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE;if(e!==null){this.add(e)}};jsts.geomgraph.GeometryGraph.prototype=new jsts.geomgraph.PlanarGraph;jsts.geomgraph.GeometryGraph.constructor=jsts.geomgraph.GeometryGraph;jsts.geomgraph.GeometryGraph.prototype.createEdgeSetIntersector=function(){return new jsts.geomgraph.index.SimpleMCSweepLineIntersector};jsts.geomgraph.GeometryGraph.determineBoundary=function(e,r){return e.isInBoundary(r)?t.BOUNDARY:t.INTERIOR};jsts.geomgraph.GeometryGraph.prototype.parentGeom=null;jsts.geomgraph.GeometryGraph.prototype.lineEdgeMap=null;jsts.geomgraph.GeometryGraph.prototype.boundaryNodeRule=null;jsts.geomgraph.GeometryGraph.prototype.useBoundaryDeterminationRule=true;jsts.geomgraph.GeometryGraph.prototype.argIndex=null;jsts.geomgraph.GeometryGraph.prototype.boundaryNodes=null;jsts.geomgraph.GeometryGraph.prototype.hasTooFewPoints=false;jsts.geomgraph.GeometryGraph.prototype.invalidPoint=null;jsts.geomgraph.GeometryGraph.prototype.areaPtLocator=null;jsts.geomgraph.GeometryGraph.prototype.ptLocator=null;jsts.geomgraph.GeometryGraph.prototype.getGeometry=function(){return this.parentGeom};jsts.geomgraph.GeometryGraph.prototype.getBoundaryNodes=function(){if(this.boundaryNodes===null)this.boundaryNodes=this.nodes.getBoundaryNodes(this.argIndex);return this.boundaryNodes};jsts.geomgraph.GeometryGraph.prototype.getBoundaryNodeRule=function(){return this.boundaryNodeRule};jsts.geomgraph.GeometryGraph.prototype.findEdge=function(t){return this.lineEdgeMap.get(t)};jsts.geomgraph.GeometryGraph.prototype.computeSplitEdges=function(t){for(var e=this.edges.iterator();e.hasNext();){var r=e.next();r.eiList.addSplitEdges(t)}};jsts.geomgraph.GeometryGraph.prototype.add=function(t){if(t.isEmpty()){return}if(t instanceof jsts.geom.MultiPolygon)this.useBoundaryDeterminationRule=false;if(t instanceof jsts.geom.Polygon)this.addPolygon(t);else if(t instanceof jsts.geom.LineString)this.addLineString(t);else if(t instanceof jsts.geom.Point)this.addPoint(t);else if(t instanceof jsts.geom.MultiPoint)this.addCollection(t);else if(t instanceof jsts.geom.MultiLineString)this.addCollection(t);else if(t instanceof jsts.geom.MultiPolygon)this.addCollection(t);else if(t instanceof jsts.geom.GeometryCollection)this.addCollection(t);else throw new jsts.error.IllegalArgumentError("Geometry type not supported.")};jsts.geomgraph.GeometryGraph.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var r=t.getGeometryN(e);this.add(r)}};jsts.geomgraph.GeometryGraph.prototype.addEdge=function(e){this.insertEdge(e);var r=e.getCoordinates();this.insertPoint(this.argIndex,r[0],t.BOUNDARY);this.insertPoint(this.argIndex,r[r.length-1],t.BOUNDARY)};jsts.geomgraph.GeometryGraph.prototype.addPoint=function(e){var r=e.getCoordinate();this.insertPoint(this.argIndex,r,t.INTERIOR)};jsts.geomgraph.GeometryGraph.prototype.addLineString=function(e){var n=jsts.geom.CoordinateArrays.removeRepeatedPoints(e.getCoordinates());if(n.length<2){this.hasTooFewPoints=true;this.invalidPoint=coords[0];return}var i=new jsts.geomgraph.Edge(n,new jsts.geomgraph.Label(this.argIndex,t.INTERIOR));this.lineEdgeMap.put(e,i);this.insertEdge(i);r.isTrue(n.length>=2,"found LineString with single point");this.insertBoundaryPoint(this.argIndex,n[0]);this.insertBoundaryPoint(this.argIndex,n[n.length-1])};jsts.geomgraph.GeometryGraph.prototype.addPolygonRing=function(e,r,n){if(e.isEmpty())return;var i=jsts.geom.CoordinateArrays.removeRepeatedPoints(e.getCoordinates());if(i.length<4){this.hasTooFewPoints=true;this.invalidPoint=i[0];return}var o=r;var s=n;if(jsts.algorithm.CGAlgorithms.isCCW(i)){o=n;s=r}var a=new jsts.geomgraph.Edge(i,new jsts.geomgraph.Label(this.argIndex,t.BOUNDARY,o,s));this.lineEdgeMap.put(e,a);this.insertEdge(a);this.insertPoint(this.argIndex,i[0],t.BOUNDARY)};jsts.geomgraph.GeometryGraph.prototype.addPolygon=function(e){this.addPolygonRing(e.getExteriorRing(),t.EXTERIOR,t.INTERIOR);for(var r=0;r<e.getNumInteriorRing();r++){var n=e.getInteriorRingN(r);this.addPolygonRing(n,t.INTERIOR,t.EXTERIOR)}};jsts.geomgraph.GeometryGraph.prototype.computeEdgeIntersections=function(t,e,r){var n=new jsts.geomgraph.index.SegmentIntersector(e,r,true);n.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes());var i=this.createEdgeSetIntersector();i.computeIntersections(this.edges,t.edges,n);return n};jsts.geomgraph.GeometryGraph.prototype.computeSelfNodes=function(t,e){var r=new jsts.geomgraph.index.SegmentIntersector(t,true,false);var n=this.createEdgeSetIntersector();if(!e&&(this.parentGeom instanceof jsts.geom.LinearRing||this.parentGeom instanceof jsts.geom.Polygon||this.parentGeom instanceof jsts.geom.MultiPolygon)){n.computeIntersections(this.edges,r,false)}else{n.computeIntersections(this.edges,r,true)}this.addSelfIntersectionNodes(this.argIndex);return r};jsts.geomgraph.GeometryGraph.prototype.insertPoint=function(t,e,r){var n=this.nodes.addNode(e);var i=n.getLabel();if(i==null){n.label=new jsts.geomgraph.Label(t,r)}else i.setLocation(t,r)};jsts.geomgraph.GeometryGraph.prototype.insertBoundaryPoint=function(r,n){var i=this.nodes.addNode(n);var o=i.getLabel();var s=1;var a=t.NONE;if(o!==null)a=o.getLocation(r,e.ON);if(a===t.BOUNDARY)s++;var u=jsts.geomgraph.GeometryGraph.determineBoundary(this.boundaryNodeRule,s);o.setLocation(r,u)};jsts.geomgraph.GeometryGraph.prototype.addSelfIntersectionNodes=function(t){
for(var e=this.edges.iterator();e.hasNext();){var r=e.next();var n=r.getLabel().getLocation(t);for(var i=r.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,n)}}};jsts.geomgraph.GeometryGraph.prototype.addSelfIntersectionNode=function(e,r,n){if(this.isBoundaryNode(e,r))return;if(n===t.BOUNDARY&&this.useBoundaryDeterminationRule)this.insertBoundaryPoint(e,r);else this.insertPoint(e,r,n)};jsts.geomgraph.GeometryGraph.prototype.getInvalidPoint=function(){return this.invalidPoint}})();jsts.operation.buffer.OffsetSegmentString=function(){this.ptList=[]};jsts.operation.buffer.OffsetSegmentString.prototype.ptList=null;jsts.operation.buffer.OffsetSegmentString.prototype.precisionModel=null;jsts.operation.buffer.OffsetSegmentString.prototype.minimimVertexDistance=0;jsts.operation.buffer.OffsetSegmentString.prototype.setPrecisionModel=function(t){this.precisionModel=t};jsts.operation.buffer.OffsetSegmentString.prototype.setMinimumVertexDistance=function(t){this.minimimVertexDistance=t};jsts.operation.buffer.OffsetSegmentString.prototype.addPt=function(t){var e=new jsts.geom.Coordinate(t);this.precisionModel.makePrecise(e);if(this.isRedundant(e))return;this.ptList.push(e)};jsts.operation.buffer.OffsetSegmentString.prototype.addPts=function(t,e){if(e){for(var r=0;r<t.length;r++){this.addPt(t[r])}}else{for(var r=t.length-1;r>=0;r--){this.addPt(t[r])}}};jsts.operation.buffer.OffsetSegmentString.prototype.isRedundant=function(t){if(this.ptList.length<1)return false;var e=this.ptList[this.ptList.length-1];var r=t.distance(e);if(r<this.minimimVertexDistance)return true;return false};jsts.operation.buffer.OffsetSegmentString.prototype.closeRing=function(){if(this.ptList.length<1)return;var t=new jsts.geom.Coordinate(this.ptList[0]);var e=this.ptList[this.ptList.length-1];var r=null;if(this.ptList.length>=2)r=this.ptList[this.ptList.length-2];if(t.equals(e))return;this.ptList.push(t)};jsts.operation.buffer.OffsetSegmentString.prototype.reverse=function(){};jsts.operation.buffer.OffsetSegmentString.prototype.getCoordinates=function(){return this.ptList};jsts.algorithm.distance.PointPairDistance=function(){this.pt=[new jsts.geom.Coordinate,new jsts.geom.Coordinate]};jsts.algorithm.distance.PointPairDistance.prototype.pt=null;jsts.algorithm.distance.PointPairDistance.prototype.distance=NaN;jsts.algorithm.distance.PointPairDistance.prototype.isNull=true;jsts.algorithm.distance.PointPairDistance.prototype.initialize=function(t,e,r){if(t===undefined){this.isNull=true;return}this.pt[0].setCoordinate(t);this.pt[1].setCoordinate(e);this.distance=r!==undefined?r:t.distance(e);this.isNull=false};jsts.algorithm.distance.PointPairDistance.prototype.getDistance=function(){return this.distance};jsts.algorithm.distance.PointPairDistance.prototype.getCoordinates=function(){return this.pt};jsts.algorithm.distance.PointPairDistance.prototype.getCoordinate=function(t){return this.pt[t]};jsts.algorithm.distance.PointPairDistance.prototype.setMaximum=function(t){if(arguments.length===2){this.setMaximum2.apply(this,arguments);return}this.setMaximum(t.pt[0],t.pt[1])};jsts.algorithm.distance.PointPairDistance.prototype.setMaximum2=function(t,e){if(this.isNull){this.initialize(t,e);return}var r=t.distance(e);if(r>this.distance)this.initialize(t,e,r)};jsts.algorithm.distance.PointPairDistance.prototype.setMinimum=function(t){if(arguments.length===2){this.setMinimum2.apply(this,arguments);return}this.setMinimum(t.pt[0],t.pt[1])};jsts.algorithm.distance.PointPairDistance.prototype.setMinimum2=function(t,e){if(this.isNull){this.initialize(t,e);return}var r=t.distance(e);if(r<this.distance)this.initialize(t,e,r)};(function(){var t=jsts.algorithm.distance.PointPairDistance;var e=jsts.algorithm.distance.DistanceToPoint;var r=function(r){this.maxPtDist=new t;this.minPtDist=new t;this.euclideanDist=new e;this.geom=r};r.prototype=new jsts.geom.CoordinateFilter;r.prototype.maxPtDist=new t;r.prototype.minPtDist=new t;r.prototype.euclideanDist=new e;r.prototype.geom;r.prototype.filter=function(t){this.minPtDist.initialize();e.computeDistance(this.geom,t,this.minPtDist);this.maxPtDist.setMaximum(this.minPtDist)};r.prototype.getMaxPointDistance=function(){return this.maxPtDist};var n=function(e,r){this.maxPtDist=new t;this.minPtDist=new t;this.geom=e;this.numSubSegs=Math.round(1/r)};n.prototype=new jsts.geom.CoordinateSequenceFilter;n.prototype.maxPtDist=new t;n.prototype.minPtDist=new t;n.prototype.geom;n.prototype.numSubSegs=0;n.prototype.filter=function(t,r){if(r==0)return;var n=t[r-1];var i=t[r];var o=(i.x-n.x)/this.numSubSegs;var s=(i.y-n.y)/this.numSubSegs;for(var a=0;a<this.numSubSegs;a++){var u=n.x+a*o;var p=n.y+a*s;var l=new jsts.geom.Coordinate(u,p);this.minPtDist.initialize();e.computeDistance(this.geom,l,this.minPtDist);this.maxPtDist.setMaximum(this.minPtDist)}};n.prototype.isGeometryChanged=function(){return false};n.prototype.isDone=function(){return false};n.prototype.getMaxPointDistance=function(){return this.maxPtDist};jsts.algorithm.distance.DiscreteHausdorffDistance=function(t,e){this.g0=t;this.g1=e;this.ptDist=new jsts.algorithm.distance.PointPairDistance};jsts.algorithm.distance.DiscreteHausdorffDistance.prototype.g0=null;jsts.algorithm.distance.DiscreteHausdorffDistance.prototype.g1=null;jsts.algorithm.distance.DiscreteHausdorffDistance.prototype.ptDist=null;jsts.algorithm.distance.DiscreteHausdorffDistance.prototype.densifyFrac=0;jsts.algorithm.distance.DiscreteHausdorffDistance.distance=function(t,e,r){var n=new jsts.algorithm.distance.DiscreteHausdorffDistance(t,e);if(r!==undefined)n.setDensifyFraction(r);return n.distance()};jsts.algorithm.distance.DiscreteHausdorffDistance.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new jsts.error.IllegalArgumentError("Fraction is not in range (0.0 - 1.0]");this.densifyFrac=t};jsts.algorithm.distance.DiscreteHausdorffDistance.prototype.distance=function(){this.compute(this.g0,this.g1);return ptDist.getDistance()};jsts.algorithm.distance.DiscreteHausdorffDistance.prototype.orientedDistance=function(){this.computeOrientedDistance(this.g0,this.g1,this.ptDist);return this.ptDist.getDistance()};jsts.algorithm.distance.DiscreteHausdorffDistance.prototype.getCoordinates=function(){return ptDist.getCoordinates()};jsts.algorithm.distance.DiscreteHausdorffDistance.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this.ptDist);this.computeOrientedDistance(e,t,this.ptDist)};jsts.algorithm.distance.DiscreteHausdorffDistance.prototype.computeOrientedDistance=function(t,e,i){var o=new r(e);t.apply(o);i.setMaximum(o.getMaxPointDistance());if(this.densifyFrac>0){var s=new n(e,this.densifyFrac);t.apply(s);i.setMaximum(s.getMaxPointDistance())}}})();jsts.algorithm.MinimumBoundingCircle=function(t){this.input=null;this.extremalPts=null;this.centre=null;this.radius=0;this.input=t};jsts.algorithm.MinimumBoundingCircle.prototype.getCircle=function(){this.compute();if(this.centre===null){return this.input.getFactory().createPolygon(null,null)}var t=this.input.getFactory().createPoint(this.centre);if(this.radius===0){return t}return t.buffer(this.radius)};jsts.algorithm.MinimumBoundingCircle.prototype.getExtremalPoints=function(){this.compute();return this.extremalPts};jsts.algorithm.MinimumBoundingCircle.prototype.getCentre=function(){this.compute();return this.centre};jsts.algorithm.MinimumBoundingCircle.prototype.getRadius=function(){this.compute();return this.radius};jsts.algorithm.MinimumBoundingCircle.prototype.computeCentre=function(){switch(this.extremalPts.length){case 0:this.centre=null;break;case 1:this.centre=this.extremalPts[0];break;case 2:this.centre=new jsts.geom.Coordinate((this.extremalPts[0].x+this.extremalPts[1].x)/2,(this.extremalPts[0].y+this.extremalPts[1].y)/2);break;case 3:this.centre=jsts.geom.Triangle.circumcentre(this.extremalPts[0],this.extremalPts[1],this.extremalPts[2]);break}};jsts.algorithm.MinimumBoundingCircle.prototype.compute=function(){if(this.extremalPts!==null){return}this.computeCirclePoints();this.computeCentre();if(this.centre!==null){this.radius=this.centre.distance(this.extremalPts[0])}};jsts.algorithm.MinimumBoundingCircle.prototype.computeCirclePoints=function(){if(this.input.isEmpty()){this.extremalPts=[];return}var t;if(this.input.getNumPoints()===1){t=this.input.getCoordinates();this.extremalPts=[new jsts.geom.Coordinate(t[0])];return}var e=this.input.convexHull();var r=e.getCoordinates();t=r;if(r[0].equals2D(r[r.length-1])){t=[];jsts.geom.CoordinateArrays.copyDeep(r,0,t,0,r.length-1)}if(t.length<=2){this.extremalPts=jsts.geom.CoordinateArrays.copyDeep(t);return}var n=jsts.algorithm.MinimumBoundingCircle.lowestPoint(t);var i=jsts.algorithm.MinimumBoundingCircle.pointWitMinAngleWithX(t,n);for(var o=0;o<t.length;o++){var s=jsts.algorithm.MinimumBoundingCircle.pointWithMinAngleWithSegment(t,n,i);if(jsts.algorithm.Angle.isObtuse(n,s,i)){this.extremalPts=[new jsts.geom.Coordinate(n),new jsts.geom.Coordinate(i)];return}if(jsts.algorithm.Angle.isObtuse(s,n,i)){n=s;continue}if(jsts.algorithm.Angle.isObtuse(s,i,n)){i=s;continue}this.extremalPts=[new jsts.geom.Coordinate(n),new jsts.geom.Coordinate(i),new jsts.geom.Coordinate(s)];return}throw new Error("Logic failure in Minimum Bounding Circle algorithm!")};jsts.algorithm.MinimumBoundingCircle.lowestPoint=function(t){var e=t[0];for(var r=1;r<t.length;r++){if(t[r].y<e.y){e=t[r]}}return e};jsts.algorithm.MinimumBoundingCircle.pointWitMinAngleWithX=function(t,e){var r=Number.MAX_VALUE;var n=null;for(var i=0;i<t.length;i++){var o=t[i];if(o===e)continue;var s=o.x-e.x;var a=o.y-e.y;if(a<0)a=-a;var u=Math.sqrt(s*s+a*a);var p=a/u;if(p<r){r=p;n=o}}return n};jsts.algorithm.MinimumBoundingCircle.pointWithMinAngleWithSegment=function(t,e,r){var n=Number.MAX_VALUE;var i=null;for(var o=0;o<t.length;o++){var s=t[o];if(s===e)continue;if(s===r)continue;var a=jsts.algorithm.Angle.angleBetween(e,s,r);if(a<n){n=a;i=s}}return i};jsts.noding.ScaledNoder=function(t,e,r,n){this.offsetX=r?r:0;this.offsetY=n?n:0;this.noder=t;this.scaleFactor=e;this.isScaled=!this.isIntegerPrecision()};jsts.noding.ScaledNoder.prototype=new jsts.noding.Noder;jsts.noding.ScaledNoder.constructor=jsts.noding.ScaledNoder;jsts.noding.ScaledNoder.prototype.noder=null;jsts.noding.ScaledNoder.prototype.scaleFactor=undefined;jsts.noding.ScaledNoder.prototype.offsetX=undefined;jsts.noding.ScaledNoder.prototype.offsetY=undefined;jsts.noding.ScaledNoder.prototype.isScaled=false;jsts.noding.ScaledNoder.prototype.isIntegerPrecision=function(){return this.scaleFactor===1};jsts.noding.ScaledNoder.prototype.getNodedSubstrings=function(){var t=this.noder.getNodedSubstrings();if(this.isScaled)this.rescale(t);return t};jsts.noding.ScaledNoder.prototype.computeNodes=function(t){var e=t;if(this.isScaled)e=this.scale(t);this.noder.computeNodes(e)};jsts.noding.ScaledNoder.prototype.scale=function(t){if(t instanceof Array){return this.scale2(t)}var e=new javascript.util.ArrayList;for(var r=t.iterator();r.hasNext();){var n=r.next();e.add(new jsts.noding.NodedSegmentString(this.scale(n.getCoordinates()),n.getData()))}return e};jsts.noding.ScaledNoder.prototype.scale2=function(t){var e=[];for(var r=0;r<t.length;r++){e[r]=new jsts.geom.Coordinate(Math.round((t[r].x-this.offsetX)*this.scaleFactor),Math.round((t[r].y-this.offsetY)*this.scaleFactor))}var n=jsts.geom.CoordinateArrays.removeRepeatedPoints(e);return n};jsts.noding.ScaledNoder.prototype.rescale=function(t){if(t instanceof Array){this.rescale2(t);return}for(var e=t.iterator();e.hasNext();){var r=e.next();this.rescale(r.getCoordinates())}};jsts.noding.ScaledNoder.prototype.rescale2=function(t){for(var e=0;e<t.length;e++){t[e].x=t[e].x/this.scaleFactor+this.offsetX;t[e].y=t[e].y/this.scaleFactor+this.offsetY}};(function(){var t=javascript.util.ArrayList;jsts.geomgraph.index.SegmentIntersector=function(t,e,r){this.li=t;this.includeProper=e;this.recordIsolated=r};jsts.geomgraph.index.SegmentIntersector.isAdjacentSegments=function(t,e){return Math.abs(t-e)===1};jsts.geomgraph.index.SegmentIntersector.prototype._hasIntersection=false;jsts.geomgraph.index.SegmentIntersector.prototype.hasProper=false;jsts.geomgraph.index.SegmentIntersector.prototype.hasProperInterior=false;jsts.geomgraph.index.SegmentIntersector.prototype.properIntersectionPoint=null;jsts.geomgraph.index.SegmentIntersector.prototype.li=null;jsts.geomgraph.index.SegmentIntersector.prototype.includeProper=null;jsts.geomgraph.index.SegmentIntersector.prototype.recordIsolated=null;jsts.geomgraph.index.SegmentIntersector.prototype.isSelfIntersection=null;jsts.geomgraph.index.SegmentIntersector.prototype.numIntersections=0;jsts.geomgraph.index.SegmentIntersector.prototype.numTests=0;jsts.geomgraph.index.SegmentIntersector.prototype.bdyNodes=null;jsts.geomgraph.index.SegmentIntersector.prototype.setBoundaryNodes=function(t,e){this.bdyNodes=[];this.bdyNodes[0]=t;this.bdyNodes[1]=e};jsts.geomgraph.index.SegmentIntersector.prototype.getProperIntersectionPoint=function(){return this.properIntersectionPoint};jsts.geomgraph.index.SegmentIntersector.prototype.hasIntersection=function(){return this._hasIntersection};jsts.geomgraph.index.SegmentIntersector.prototype.hasProperIntersection=function(){return this.hasProper};jsts.geomgraph.index.SegmentIntersector.prototype.hasProperInteriorIntersection=function(){return this.hasProperInterior};jsts.geomgraph.index.SegmentIntersector.prototype.isTrivialIntersection=function(t,e,r,n){if(t===r){if(this.li.getIntersectionNum()===1){if(jsts.geomgraph.index.SegmentIntersector.isAdjacentSegments(e,n))return true;if(t.isClosed()){var i=t.getNumPoints()-1;if(e===0&&n===i||n===0&&e===i){return true}}}}return false};jsts.geomgraph.index.SegmentIntersector.prototype.addIntersections=function(t,e,r,n){if(t===r&&e===n)return;this.numTests++;var i=t.getCoordinates()[e];var o=t.getCoordinates()[e+1];var s=r.getCoordinates()[n];var a=r.getCoordinates()[n+1];this.li.computeIntersection(i,o,s,a);if(this.li.hasIntersection()){if(this.recordIsolated){t.setIsolated(false);r.setIsolated(false)}this.numIntersections++;if(!this.isTrivialIntersection(t,e,r,n)){this._hasIntersection=true;if(this.includeProper||!this.li.isProper()){t.addIntersections(this.li,e,0);r.addIntersections(this.li,n,1)}if(this.li.isProper()){this.properIntersectionPoint=this.li.getIntersection(0).clone();this.hasProper=true;if(!this.isBoundaryPoint(this.li,this.bdyNodes))this.hasProperInterior=true}}}};jsts.geomgraph.index.SegmentIntersector.prototype.isBoundaryPoint=function(t,e){if(e===null)return false;if(e instanceof Array){if(this.isBoundaryPoint(t,e[0]))return true;if(this.isBoundaryPoint(t,e[1]))return true;return false}else{for(var r=e.iterator();r.hasNext();){var n=r.next();var i=n.getCoordinate();if(t.isIntersection(i))return true}return false}}})()},{}],20:[function(t,e,r){(function(t){(function(){var e=this;function r(t,r){var n=t.split("."),i=e;n[0]in i||!i.execScript||i.execScript("var "+n[0]);for(var o;n.length&&(o=n.shift());)n.length||void 0===r?i=i[o]?i[o]:i[o]={}:i[o]=r}function n(t,e){function r(){}r.prototype=e.prototype;t.q=e.prototype;t.prototype=new r;t.prototype.constructor=t;t.p=function(t,r,n){var i=Array.prototype.slice.call(arguments,2);return e.prototype[r].apply(t,i)}}function i(t){this.message=t||""}n(i,Error);r("javascript.util.EmptyStackException",i);i.prototype.name="EmptyStackException";function o(t){this.message=t||""}n(o,Error);r("javascript.util.IndexOutOfBoundsException",o);o.prototype.name="IndexOutOfBoundsException";function s(){}r("javascript.util.Iterator",s);s.prototype.hasNext=s.prototype.c;s.prototype.next=s.prototype.next;s.prototype.remove=s.prototype.remove;function a(){}r("javascript.util.Collection",a);function u(){}n(u,a);r("javascript.util.List",u);function p(){}r("javascript.util.Map",p);function l(t){this.message=t||""}n(l,Error);r("javascript.util.NoSuchElementException",l);l.prototype.name="NoSuchElementException";function g(t){this.message=t||""}n(g,Error);g.prototype.name="OperationNotSupported";function h(t){this.a=[];t instanceof a&&this.e(t)}n(h,u);r("javascript.util.ArrayList",h);h.prototype.a=null;h.prototype.add=function(t){this.a.push(t);return!0};h.prototype.add=h.prototype.add;h.prototype.e=function(t){for(t=t.f();t.c();)this.add(t.next());return!0};h.prototype.addAll=h.prototype.e;h.prototype.set=function(t,e){var r=this.a[t];this.a[t]=e;return r};h.prototype.set=h.prototype.set;h.prototype.f=function(){return new f(this)};h.prototype.iterator=h.prototype.f;h.prototype.get=function(t){if(0>t||t>=this.size())throw new o;return this.a[t]};h.prototype.get=h.prototype.get;h.prototype.g=function(){return 0===this.a.length};h.prototype.isEmpty=h.prototype.g;h.prototype.size=function(){return this.a.length};h.prototype.size=h.prototype.size;h.prototype.h=function(){for(var t=[],e=0,r=this.a.length;e<r;e++)t.push(this.a[e]);return t};h.prototype.toArray=h.prototype.h;h.prototype.remove=function(t){for(var e=!1,r=0,n=this.a.length;r<n;r++)if(this.a[r]===t){this.a.splice(r,1);e=!0;break}return e};h.prototype.remove=h.prototype.remove;function f(t){this.j=t}r("$jscomp.scope.Iterator_",f);f.prototype.j=null;f.prototype.b=0;f.prototype.next=function(){if(this.b===this.j.size())throw new l;return this.j.get(this.b++)};f.prototype.next=f.prototype.next;f.prototype.c=function(){return this.b<this.j.size()?!0:!1};f.prototype.hasNext=f.prototype.c;f.prototype.remove=function(){throw new g};f.prototype.remove=f.prototype.remove;function c(){}r("javascript.util.Arrays",c);c.sort=function(){var t=arguments[0],e,r,n;if(1===arguments.length)t.sort();else if(2===arguments.length)r=arguments[1],n=function(t,e){return r.compare(t,e)},t.sort(n);else if(3===arguments.length)for(e=t.slice(arguments[1],arguments[2]),e.sort(),n=t.slice(0,arguments[1]).concat(e,t.slice(arguments[2],t.length)),t.splice(0,t.length),e=0;e<n.length;e++)t.push(n[e]);else if(4===arguments.length)for(e=t.slice(arguments[1],arguments[2]),r=arguments[3],n=function(t,e){return r.compare(t,e)},e.sort(n),n=t.slice(0,arguments[1]).concat(e,t.slice(arguments[2],t.length)),t.splice(0,t.length),e=0;e<n.length;e++)t.push(n[e])};c.asList=function(t){for(var e=new h,r=0,n=t.length;r<n;r++)e.add(t[r]);return e};function d(){this.i={}}n(d,p);r("javascript.util.HashMap",d);d.prototype.i=null;d.prototype.get=function(t){return this.i[t]||null};d.prototype.get=d.prototype.get;d.prototype.put=function(t,e){return this.i[t]=e};d.prototype.put=d.prototype.put;d.prototype.m=function(){var t=new h,e;for(e in this.i)this.i.hasOwnProperty(e)&&t.add(this.i[e]);return t};d.prototype.values=d.prototype.m;d.prototype.size=function(){return this.m().size()};d.prototype.size=d.prototype.size;function m(){}n(m,a);r("javascript.util.Set",m);function y(t){this.a=[];t instanceof a&&this.e(t)}n(y,m);r("javascript.util.HashSet",y);y.prototype.a=null;y.prototype.contains=function(t){for(var e=0,r=this.a.length;e<r;e++)if(this.a[e]===t)return!0;return!1};y.prototype.contains=y.prototype.contains;y.prototype.add=function(t){if(this.contains(t))return!1;this.a.push(t);return!0};y.prototype.add=y.prototype.add;y.prototype.e=function(t){for(t=t.f();t.c();)this.add(t.next());return!0};y.prototype.addAll=y.prototype.e;y.prototype.remove=function(){throw new g};y.prototype.remove=y.prototype.remove;y.prototype.size=function(){return this.a.length};y.prototype.g=function(){return 0===this.a.length};y.prototype.isEmpty=y.prototype.g;y.prototype.h=function(){for(var t=[],e=0,r=this.a.length;e<r;e++)t.push(this.a[e]);return t};y.prototype.toArray=y.prototype.h;y.prototype.f=function(){return new v(this)};y.prototype.iterator=y.prototype.f;function v(t){this.k=t}r("$jscomp.scope.Iterator_$1",v);v.prototype.k=null;v.prototype.b=0;v.prototype.next=function(){if(this.b===this.k.size())throw new l;return this.k.a[this.b++]};v.prototype.next=v.prototype.next;v.prototype.c=function(){return this.b<this.k.size()?!0:!1};v.prototype.hasNext=v.prototype.c;v.prototype.remove=function(){throw new g};v.prototype.remove=v.prototype.remove;function j(){}n(j,p);r("javascript.util.SortedMap",j);function E(){}n(E,m);r("javascript.util.SortedSet",E);function x(){this.a=[]}n(x,u);r("javascript.util.Stack",x);x.prototype.a=null;x.prototype.push=function(t){this.a.push(t);return t};x.prototype.push=x.prototype.push;x.prototype.pop=function(){if(0===this.a.length)throw new i;return this.a.pop()};x.prototype.pop=x.prototype.pop;x.prototype.o=function(){if(0===this.a.length)throw new i;return this.a[this.a.length-1]};x.prototype.peek=x.prototype.o;x.prototype.empty=function(){return 0===this.a.length?!0:!1};x.prototype.empty=x.prototype.empty;x.prototype.g=function(){return this.empty()};x.prototype.isEmpty=x.prototype.g;x.prototype.search=function(t){return this.a.indexOf(t)};x.prototype.search=x.prototype.search;x.prototype.size=function(){return this.a.length};x.prototype.size=x.prototype.size;x.prototype.h=function(){for(var t=[],e=0,r=this.a.length;e<r;e++)t.push(this.a[e]);return t};x.prototype.toArray=x.prototype.h;function I(t){return null==t?null:t.parent}function S(t,e){null!==t&&(t.color=e)}function L(t){return null==t?null:t.left}function C(t){return null==t?null:t.right}function N(){this.d=null;this.n=0}n(N,j);r("javascript.util.TreeMap",N);N.prototype.get=function(t){for(var e=this.d;null!==e;){var r=t.compareTo(e.key);if(0>r)e=e.left;else if(0<r)e=e.right;else return e.value}return null};N.prototype.get=N.prototype.get;N.prototype.put=function(t,e){if(null===this.d)return this.d={key:t,value:e,left:null,right:null,parent:null,color:0},this.n=1,null;var r=this.d,n,i;do if(n=r,i=t.compareTo(r.key),0>i)r=r.left;else if(0<i)r=r.right;else return n=r.value,r.value=e,n;while(null!==r);r={key:t,left:null,right:null,value:e,parent:n,color:0};0>i?n.left=r:n.right=r;for(r.color=1;null!=r&&r!=this.d&&1==r.parent.color;)I(r)==L(I(I(r)))?(n=C(I(I(r))),1==(null==n?0:n.color)?(S(I(r),0),S(n,0),S(I(I(r)),1),r=I(I(r))):(r==C(I(r))&&(r=I(r),b(this,r)),S(I(r),0),S(I(I(r)),1),P(this,I(I(r))))):(n=L(I(I(r))),1==(null==n?0:n.color)?(S(I(r),0),S(n,0),S(I(I(r)),1),r=I(I(r))):(r==L(I(r))&&(r=I(r),P(this,r)),S(I(r),0),S(I(I(r)),1),b(this,I(I(r)))));this.d.color=0;this.n++;return null};N.prototype.put=N.prototype.put;N.prototype.m=function(){var t=new h,e;e=this.d;if(null!=e)for(;null!=e.left;)e=e.left;if(null!==e)for(t.add(e.value);null!==(e=w(e));)t.add(e.value);return t};N.prototype.values=N.prototype.m;function b(t,e){if(null!=e){var r=e.right;e.right=r.left;null!=r.left&&(r.left.parent=e);r.parent=e.parent;null==e.parent?t.d=r:e.parent.left==e?e.parent.left=r:e.parent.right=r;r.left=e;e.parent=r}}function P(t,e){if(null!=e){var r=e.left;e.left=r.right;null!=r.right&&(r.right.parent=e);r.parent=e.parent;null==e.parent?t.d=r:e.parent.right==e?e.parent.right=r:e.parent.left=r;r.right=e;e.parent=r}}function w(t){if(null===t)return null;if(null!==t.right)for(var e=t.right;null!==e.left;)e=e.left;else for(e=t.parent;null!==e&&t===e.right;)t=e,e=e.parent;return e}N.prototype.size=function(){return this.n};N.prototype.size=N.prototype.size;function R(t){this.a=[];t instanceof a&&this.e(t)}n(R,E);r("javascript.util.TreeSet",R);R.prototype.a=null;R.prototype.contains=function(t){for(var e=0,r=this.a.length;e<r;e++)if(0===this.a[e].compareTo(t))return!0;return!1};R.prototype.contains=R.prototype.contains;R.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,r=this.a.length;e<r;e++)if(1===this.a[e].compareTo(t))return this.a.splice(e,0,t),!0;this.a.push(t);return!0};R.prototype.add=R.prototype.add;R.prototype.e=function(t){for(t=t.f();t.c();)this.add(t.next());return!0};R.prototype.addAll=R.prototype.e;R.prototype.remove=function(){throw new g};R.prototype.remove=R.prototype.remove;R.prototype.size=function(){return this.a.length};R.prototype.size=R.prototype.size;R.prototype.g=function(){return 0===this.a.length};R.prototype.isEmpty=R.prototype.g;R.prototype.h=function(){for(var t=[],e=0,r=this.a.length;e<r;e++)t.push(this.a[e]);return t};R.prototype.toArray=R.prototype.h;R.prototype.f=function(){return new O(this)};R.prototype.iterator=R.prototype.f;function O(t){this.l=t}r("$jscomp.scope.Iterator_$2",O);O.prototype.l=null;O.prototype.b=0;O.prototype.next=function(){if(this.b===this.l.size())throw new l;return this.l.a[this.b++]};O.prototype.next=O.prototype.next;O.prototype.c=function(){return this.b<this.l.size()?!0:!1};O.prototype.hasNext=O.prototype.c;O.prototype.remove=function(){throw new g};O.prototype.remove=O.prototype.remove;"undefined"!==typeof t&&(t.javascript={},t.javascript.util={},t.javascript.util.ArrayList=h,t.javascript.util.Arrays=c,t.javascript.util.Collection=a,t.javascript.util.EmptyStackException=i,t.javascript.util.HashMap=d,t.javascript.util.HashSet=y,t.javascript.util.IndexOutOfBoundsException=o,t.javascript.util.Iterator=s,t.javascript.util.List=u,t.javascript.util.Map=p,t.javascript.util.NoSuchElementException=l,t.javascript.util.OperationNotSupported=g,t.javascript.util.Set=m,t.javascript.util.SortedMap=j,t.javascript.util.SortedSet=E,t.javascript.util.Stack=x,t.javascript.util.TreeMap=N,t.javascript.util.TreeSet=R)}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],21:[function(t,e,r){t("./dist/javascript.util-node.min.js")},{"./dist/javascript.util-node.min.js":20}],22:[function(t,e,r){var n=t("turf-extent"),i=t("turf-point");e.exports=function(t,e){var r=n(t);var o=(r[0]+r[2])/2;var s=(r[1]+r[3])/2;return i([o,s])}},{"turf-extent":71,"turf-point":103}],23:[function(t,e,r){var n=t("turf-meta").coordEach;var i=t("turf-point");e.exports=function(t){var e=0,r=0,o=0;n(t,function(t){e+=t[0];r+=t[1];o++},true);return i([e/o,r/o])}},{"turf-meta":24,"turf-point":103}],24:[function(t,e,r){function n(t,e,r){var n,i,o,s,a,u,p,g,h=0,f,c=t.type==="FeatureCollection",d=t.type==="Feature",m=c?t.features.length:1;for(n=0;n<m;n++){g=c?t.features[n].geometry:d?t.geometry:t;f=g.type==="GeometryCollection";u=f?g.geometries.length:1;for(s=0;s<u;s++){a=f?g.geometries[s]:g;p=a.coordinates;h=r&&(a.type==="Polygon"||a.type==="MultiPolygon")?1:0;if(a.type==="Point"){e(p)}else if(a.type==="LineString"||a.type==="MultiPoint"){for(i=0;i<p.length;i++)e(p[i])}else if(a.type==="Polygon"||a.type==="MultiLineString"){for(i=0;i<p.length;i++)for(o=0;o<p[i].length-h;o++)e(p[i][o])}else if(a.type==="MultiPolygon"){for(i=0;i<p.length;i++)for(o=0;o<p[i].length;o++)for(l=0;l<p[i][o].length-h;l++)e(p[i][o][l])}else{throw new Error("Unknown Geometry Type")}}}}e.exports.coordEach=n;function i(t,e,r,i){n(t,function(t){r=e(r,t)},i);return r}e.exports.coordReduce=i;function o(t,e){var r;switch(t.type){case"FeatureCollection":features=t.features;for(r=0;r<t.features.length;r++){e(t.features[r].properties)}break;case"Feature":e(t.properties);break}}e.exports.propEach=o;function s(t,e,r){o(t,function(t){r=e(r,t)});return r}e.exports.propReduce=s},{}],25:[function(t,e,r){e.exports=function(t){var e=t.features[0].geometry.type;var r=t.features.map(function(t){return t.geometry});switch(e){case"Point":return{type:"Feature",properties:{},geometry:{type:"MultiPoint",coordinates:n(r)}};case"LineString":return{type:"Feature",properties:{},geometry:{type:"MultiLineString",coordinates:n(r)}};case"Polygon":return{type:"Feature",properties:{},geometry:{type:"MultiPolygon",coordinates:n(r)}};default:return t}};function n(t){return t.map(function(t){return t.coordinates})}},{}],26:[function(t,e,r){var n={};n.tin=t("turf-tin");n.merge=t("turf-merge");n.distance=t("turf-distance");n.point=t("turf-point");e.exports=function(t,e,r){if(typeof e!=="number")throw new Error("maxEdge parameter is required");if(typeof r!=="string")throw new Error("units parameter is required");var i=n.tin(t);var o=i.features.filter(s);i.features=o;function s(t){var i=n.point(t.geometry.coordinates[0][0]);var o=n.point(t.geometry.coordinates[0][1]);var s=n.point(t.geometry.coordinates[0][2]);var a=n.distance(i,o,r);var u=n.distance(o,s,r);var p=n.distance(i,s,r);return a<=e&&u<=e&&p<=e}return n.merge(i)}},{"turf-distance":61,"turf-merge":94,"turf-point":103,"turf-tin":118}],27:[function(t,e,r){var n=t("turf-meta").coordEach,i=t("convex-hull"),o=t("turf-polygon");e.exports=function(t){var e=[];n(t,function(t){e.push(t)});var r=i(e);var s=[];for(var a=0;a<r.length;a++){s.push(e[r[a][0]])}s.push(e[r[r.length-1][1]]);return o([s])}},{"convex-hull":28,"turf-meta":56,"turf-polygon":104}],28:[function(t,e,r){"use strict";var n=t("./lib/ch1d");var i=t("./lib/ch2d");var o=t("./lib/chnd");e.exports=s;function s(t){var e=t.length;if(e===0){return[]}else if(e===1){return[[0]]}var r=t[0].length;if(r===0){return[]}else if(r===1){return n(t)}else if(r===2){return i(t)}return o(t,r)}},{"./lib/ch1d":29,"./lib/ch2d":30,"./lib/chnd":31}],29:[function(t,e,r){"use strict";e.exports=n;function n(t){var e=0;var r=0;for(var n=1;n<t.length;++n){if(t[n][0]<t[e][0]){e=n}if(t[n][0]>t[r][0]){r=n}}if(e<r){return[[e],[r]]}else if(e>r){return[[r],[e]]}else{return[[e]]}}},{}],30:[function(t,e,r){"use strict";e.exports=i;var n=t("monotone-convex-hull-2d");function i(t){var e=n(t);var r=e.length;if(r<=2){return[]}var i=new Array(r);var o=e[r-1];for(var s=0;s<r;++s){var a=e[s];i[s]=[o,a];o=a}return i}},{"monotone-convex-hull-2d":49}],31:[function(t,e,r){"use strict";e.exports=a;var n=t("incremental-convex-hull");var i=t("affine-hull");function o(t,e){var r=t.length;var n=new Array(r);for(var i=0;i<e.length;++i){n[i]=t[e[i]]}var o=e.length;for(var i=0;i<r;++i){if(e.indexOf(i)<0){n[o++]=t[i]}}return n}function s(t,e){var r=t.length;var n=e.length;for(var i=0;i<r;++i){var o=t[i];for(var s=0;s<o.length;++s){var a=o[s];if(a<n){o[s]=e[a]}else{a=a-n;for(var u=0;u<n;++u){if(a>=e[u]){a+=1}}o[s]=a}}}return t}function a(t,e){try{return n(t,true)}catch(r){var a=i(t);if(a.length<=e){return[]}var u=o(t,a);var p=n(u,true);return s(p,a)}}},{"affine-hull":32,"incremental-convex-hull":39}],32:[function(t,e,r){"use strict";e.exports=o;var n=t("robust-orientation");function i(t,e){var r=new Array(e+1);for(var i=0;i<t.length;++i){r[i]=t[i]}for(var i=0;i<=t.length;++i){for(var o=t.length;o<=e;++o){var s=new Array(e);for(var a=0;a<e;++a){s[a]=Math.pow(o+1-i,a)}r[o]=s}var u=n.apply(void 0,r);if(u){return true}}return false}function o(t){var e=t.length;if(e===0){return[]}if(e===1){return[0]}var r=t[0].length;var n=[t[0]];var o=[0];for(var s=1;s<e;++s){n.push(t[s]);if(!i(n,r)){n.pop();continue}o.push(s);if(o.length===r+1){return o}}return o}},{"robust-orientation":38}],33:[function(t,e,r){"use strict";e.exports=n;function n(t,e,r){var n=t+e;var i=n-t;var o=n-i;var s=e-i;var a=t-o;if(r){r[0]=a+s;r[1]=n;return r}return[a+s,n]}},{}],34:[function(t,e,r){"use strict";var n=t("two-product");var i=t("two-sum");e.exports=o;function o(t,e){var r=t.length;if(r===1){var o=n(t[0],e);if(o[0]){return o}return[o[1]]}var s=new Array(2*r);var a=[.1,.1];var u=[.1,.1];var p=0;n(t[0],e,a);if(a[0]){s[p++]=a[0]}for(var l=1;l<r;++l){n(t[l],e,u);var g=a[1];i(g,u[0],a);if(a[0]){s[p++]=a[0]}var h=u[1];var f=a[1];var c=h+f;var d=c-h;var m=f-d;a[1]=c;if(m){s[p++]=m}}if(a[1]){s[p++]=a[1]}if(p===0){s[p++]=0}s.length=p;return s}},{"two-product":37,"two-sum":33}],35:[function(t,e,r){"use strict";e.exports=i;function n(t,e){var r=t+e;var n=r-t;var i=r-n;var o=e-n;var s=t-i;var a=s+o;if(a){return[a,r]}return[r]}function i(t,e){var r=t.length|0;var i=e.length|0;if(r===1&&i===1){return n(t[0],-e[0])}var o=r+i;var s=new Array(o);var a=0;var u=0;var p=0;var l=Math.abs;var g=t[u];var h=l(g);var f=-e[p];var c=l(f);var d,m;if(h<c){m=g;u+=1;if(u<r){g=t[u];h=l(g)}}else{m=f;p+=1;if(p<i){f=-e[p];c=l(f)}}if(u<r&&h<c||p>=i){d=g;u+=1;if(u<r){g=t[u];h=l(g)}}else{d=f;p+=1;if(p<i){f=-e[p];c=l(f)}}var y=d+m;var v=y-d;var j=m-v;var E=j;var x=y;var I,S,L,C,N;while(u<r&&p<i){if(h<c){d=g;u+=1;if(u<r){g=t[u];h=l(g)}}else{d=f;p+=1;if(p<i){f=-e[p];c=l(f)}}m=E;y=d+m;v=y-d;j=m-v;if(j){s[a++]=j}I=x+y;S=I-x;L=I-S;C=y-S;N=x-L;E=N+C;x=I}while(u<r){d=g;m=E;y=d+m;v=y-d;j=m-v;if(j){s[a++]=j;

}I=x+y;S=I-x;L=I-S;C=y-S;N=x-L;E=N+C;x=I;u+=1;if(u<r){g=t[u]}}while(p<i){d=f;m=E;y=d+m;v=y-d;j=m-v;if(j){s[a++]=j}I=x+y;S=I-x;L=I-S;C=y-S;N=x-L;E=N+C;x=I;p+=1;if(p<i){f=-e[p]}}if(E){s[a++]=E}if(x){s[a++]=x}if(!a){s[a++]=0}s.length=a;return s}},{}],36:[function(t,e,r){"use strict";e.exports=i;function n(t,e){var r=t+e;var n=r-t;var i=r-n;var o=e-n;var s=t-i;var a=s+o;if(a){return[a,r]}return[r]}function i(t,e){var r=t.length|0;var i=e.length|0;if(r===1&&i===1){return n(t[0],e[0])}var o=r+i;var s=new Array(o);var a=0;var u=0;var p=0;var l=Math.abs;var g=t[u];var h=l(g);var f=e[p];var c=l(f);var d,m;if(h<c){m=g;u+=1;if(u<r){g=t[u];h=l(g)}}else{m=f;p+=1;if(p<i){f=e[p];c=l(f)}}if(u<r&&h<c||p>=i){d=g;u+=1;if(u<r){g=t[u];h=l(g)}}else{d=f;p+=1;if(p<i){f=e[p];c=l(f)}}var y=d+m;var v=y-d;var j=m-v;var E=j;var x=y;var I,S,L,C,N;while(u<r&&p<i){if(h<c){d=g;u+=1;if(u<r){g=t[u];h=l(g)}}else{d=f;p+=1;if(p<i){f=e[p];c=l(f)}}m=E;y=d+m;v=y-d;j=m-v;if(j){s[a++]=j}I=x+y;S=I-x;L=I-S;C=y-S;N=x-L;E=N+C;x=I}while(u<r){d=g;m=E;y=d+m;v=y-d;j=m-v;if(j){s[a++]=j}I=x+y;S=I-x;L=I-S;C=y-S;N=x-L;E=N+C;x=I;u+=1;if(u<r){g=t[u]}}while(p<i){d=f;m=E;y=d+m;v=y-d;j=m-v;if(j){s[a++]=j}I=x+y;S=I-x;L=I-S;C=y-S;N=x-L;E=N+C;x=I;p+=1;if(p<i){f=e[p]}}if(E){s[a++]=E}if(x){s[a++]=x}if(!a){s[a++]=0}s.length=a;return s}},{}],37:[function(t,e,r){"use strict";e.exports=i;var n=+(Math.pow(2,27)+1);function i(t,e,r){var i=t*e;var o=n*t;var s=o-t;var a=o-s;var u=t-a;var p=n*e;var l=p-e;var g=p-l;var h=e-g;var f=i-a*g;var c=f-u*g;var d=c-a*h;var m=u*h-d;if(r){r[0]=m;r[1]=i;return r}return[m,i]}},{}],38:[function(t,e,r){"use strict";var n=t("two-product");var i=t("robust-sum");var o=t("robust-scale");var s=t("robust-subtract");var a=5;var u=1.1102230246251565e-16;var p=(3+16*u)*u;var l=(7+56*u)*u;function g(t,e){var r=new Array(t.length-1);for(var n=1;n<t.length;++n){var i=r[n-1]=new Array(t.length-1);for(var o=0,s=0;o<t.length;++o){if(o===e){continue}i[s++]=t[n][o]}}return r}function h(t){var e=new Array(t);for(var r=0;r<t;++r){e[r]=new Array(t);for(var n=0;n<t;++n){e[r][n]=["m",n,"[",t-r-1,"]"].join("")}}return e}function f(t){if(t&1){return"-"}return""}function c(t){if(t.length===1){return t[0]}else if(t.length===2){return["sum(",t[0],",",t[1],")"].join("")}else{var e=t.length>>1;return["sum(",c(t.slice(0,e)),",",c(t.slice(e)),")"].join("")}}function d(t){if(t.length===2){return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")]}else{var e=[];for(var r=0;r<t.length;++r){e.push(["scale(",c(d(g(t,r))),",",f(r),t[0][r],")"].join(""))}return e}}function m(t){var e=[];var r=[];var a=h(t);var u=[];for(var p=0;p<t;++p){if((p&1)===0){e.push.apply(e,d(g(a,p)))}else{r.push.apply(r,d(g(a,p)))}u.push("m"+p)}var l=c(e);var f=c(r);var m="orientation"+t+"Exact";var y=["function ",m,"(",u.join(),"){var p=",l,",n=",f,",d=sub(p,n);return d[d.length-1];};return ",m].join("");var v=new Function("sum","prod","scale","sub",y);return v(i,n,o,s)}var y=m(3);var v=m(4);var j=[function I(){return 0},function S(){return 0},function L(t,e){return e[0]-t[0]},function C(t,e,r){var n=(t[1]-r[1])*(e[0]-r[0]);var i=(t[0]-r[0])*(e[1]-r[1]);var o=n-i;var s;if(n>0){if(i<=0){return o}else{s=n+i}}else if(n<0){if(i>=0){return o}else{s=-(n+i)}}else{return o}var a=p*s;if(o>=a||o<=-a){return o}return y(t,e,r)},function N(t,e,r,n){var i=t[0]-n[0];var o=e[0]-n[0];var s=r[0]-n[0];var a=t[1]-n[1];var u=e[1]-n[1];var p=r[1]-n[1];var g=t[2]-n[2];var h=e[2]-n[2];var f=r[2]-n[2];var c=o*p;var d=s*u;var m=s*a;var y=i*p;var j=i*u;var E=o*a;var x=g*(c-d)+h*(m-y)+f*(j-E);var I=(Math.abs(c)+Math.abs(d))*Math.abs(g)+(Math.abs(m)+Math.abs(y))*Math.abs(h)+(Math.abs(j)+Math.abs(E))*Math.abs(f);var S=l*I;if(x>S||-x>S){return x}return v(t,e,r,n)}];function E(t){var e=j[t.length];if(!e){e=j[t.length]=m(t.length)}return e.apply(undefined,t)}function x(){while(j.length<=a){j.push(m(j.length))}var t=[];var r=["slow"];for(var n=0;n<=a;++n){t.push("a"+n);r.push("o"+n)}var i=["function getOrientation(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(var n=2;n<=a;++n){i.push("case ",n,":return o",n,"(",t.slice(0,n).join(),");")}i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation");r.push(i.join(""));var o=Function.apply(undefined,r);e.exports=o.apply(undefined,[E].concat(j));for(var n=0;n<=a;++n){e.exports[n]=j[n]}}x()},{"robust-scale":34,"robust-subtract":35,"robust-sum":36,"two-product":37}],39:[function(t,e,r){"use strict";e.exports=f;var n=t("robust-orientation");var i=t("simplicial-complex").compareCells;function o(t,e){return t-e}function s(t,e,r){this.vertices=t;this.adjacent=e;this.boundary=r;this.lastVisited=-1}s.prototype.flip=function(){var t=this.vertices[0];this.vertices[0]=this.vertices[1];this.vertices[1]=t;var e=this.adjacent[0];this.adjacent[0]=this.adjacent[1];this.adjacent[1]=e};function a(t,e,r){this.vertices=t;this.cell=e;this.index=r}function u(t,e){return i(t.vertices,e.vertices)}function p(t){var e=["function orient(){var tuple=this.tuple;return test("];for(var r=0;r<=t;++r){if(r>0){e.push(",")}e.push("tuple[",r,"]")}e.push(")}return orient");var i=new Function("test",e.join(""));var o=n[t+1];if(!o){o=n}return i(o)}var l=[];function g(t,e,r){this.dimension=t;this.vertices=e;this.simplices=r;this.interior=r.filter(function(t){return!t.boundary});this.tuple=new Array(t+1);for(var n=0;n<=t;++n){this.tuple[n]=this.vertices[n]}var i=l[t];if(!i){i=l[t]=p(t)}this.orient=i}var h=g.prototype;h.handleBoundaryDegeneracy=function(t,e){var r=this.dimension;var n=this.vertices.length-1;var i=this.tuple;var o=this.vertices;var s=[t];t.lastVisited=-n;while(s.length>0){t=s.pop();var a=t.vertices;var u=t.adjacent;for(var p=0;p<=r;++p){var l=u[p];if(!l.boundary||l.lastVisited<=-n){continue}var g=l.vertices;for(var h=0;h<=r;++h){var f=g[h];if(f<0){i[h]=e}else{i[h]=o[f]}}var c=this.orient();if(c>0){return l}l.lastVisited=-n;if(c===0){s.push(l)}}}return null};h.walk=function(t,e){var r=this.vertices.length-1;var n=this.dimension;var i=this.vertices;var o=this.tuple;var s=e?this.interior.length*Math.random()|0:this.interior.length-1;var a=this.interior[s];t:while(!a.boundary){var u=a.vertices;var p=a.adjacent;for(var l=0;l<=n;++l){o[l]=i[u[l]]}a.lastVisited=r;for(var l=0;l<=n;++l){var g=p[l];if(g.lastVisited>=r){continue}var h=o[l];o[l]=t;var f=this.orient();o[l]=h;if(f<0){a=g;continue t}else{if(!g.boundary){g.lastVisited=r}else{g.lastVisited=-r}}}return}return a};h.addPeaks=function(t,e){var r=this.vertices.length-1;var n=this.dimension;var i=this.vertices;var o=this.tuple;var p=this.interior;var l=this.simplices;var g=[e];e.lastVisited=r;e.vertices[e.vertices.indexOf(-1)]=r;e.boundary=false;p.push(e);var h=[];while(g.length>0){var e=g.pop();var f=e.vertices;var c=e.adjacent;var d=f.indexOf(r);if(d<0){continue}for(var m=0;m<=n;++m){if(m===d){continue}var y=c[m];if(!y.boundary||y.lastVisited>=r){continue}var v=y.vertices;if(y.lastVisited!==-r){var j=0;for(var E=0;E<=n;++E){if(v[E]<0){j=E;o[E]=t}else{o[E]=i[v[E]]}}var x=this.orient();if(x>0){v[j]=r;y.boundary=false;p.push(y);g.push(y);y.lastVisited=r;continue}else{y.lastVisited=-r}}var I=y.adjacent;var S=f.slice();var L=c.slice();var C=new s(S,L,true);l.push(C);var N=I.indexOf(e);if(N<0){continue}I[N]=C;L[d]=y;S[m]=-1;L[m]=e;c[m]=C;C.flip();for(var E=0;E<=n;++E){var b=S[E];if(b<0||b===r){continue}var P=new Array(n-1);var w=0;for(var R=0;R<=n;++R){var O=S[R];if(O<0||R===E){continue}P[w++]=O}h.push(new a(P,C,E))}}}h.sort(u);for(var m=0;m+1<h.length;m+=2){var M=h[m];var A=h[m+1];var T=M.index;var D=A.index;if(T<0||D<0){continue}M.cell.adjacent[M.index]=A.cell;A.cell.adjacent[A.index]=M.cell}};h.insert=function(t,e){var r=this.vertices;r.push(t);var n=this.walk(t,e);if(!n){return}var i=this.dimension;var o=this.tuple;for(var s=0;s<=i;++s){var a=n.vertices[s];if(a<0){o[s]=t}else{o[s]=r[a]}}var u=this.orient(o);if(u<0){return}else if(u===0){n=this.handleBoundaryDegeneracy(n,t);if(!n){return}}this.addPeaks(t,n)};h.boundary=function(){var t=this.dimension;var e=[];var r=this.simplices;var n=r.length;for(var i=0;i<n;++i){var o=r[i];if(o.boundary){var s=new Array(t);var a=o.vertices;var u=0;var p=0;for(var l=0;l<=t;++l){if(a[l]>=0){s[u++]=a[l]}else{p=l&1}}if(p===(t&1)){var g=s[0];s[0]=s[1];s[1]=g}e.push(s)}}return e};function f(t,e){var r=t.length;if(r===0){throw new Error("Must have at least d+1 points")}var i=t[0].length;if(r<=i){throw new Error("Must input at least d+1 points")}var o=t.slice(0,i+1);var a=n.apply(void 0,o);if(a===0){throw new Error("Input not in general position")}var u=new Array(i+1);for(var p=0;p<=i;++p){u[p]=p}if(a<0){u[0]=1;u[1]=0}var l=new s(u,new Array(i+1),false);var h=l.adjacent;var f=new Array(i+2);for(var p=0;p<=i;++p){var c=u.slice();for(var d=0;d<=i;++d){if(d===p){c[d]=-1}}var m=c[0];c[0]=c[1];c[1]=m;var y=new s(c,new Array(i+1),true);h[p]=y;f[p]=y}f[i+1]=l;for(var p=0;p<=i;++p){var c=h[p].vertices;var v=h[p].adjacent;for(var d=0;d<=i;++d){var j=c[d];if(j<0){v[d]=l;continue}for(var E=0;E<=i;++E){if(h[E].vertices.indexOf(j)<0){v[d]=h[E]}}}}var x=new g(i,o,f);var I=!!e;for(var p=i+1;p<r;++p){x.insert(t[p],I)}return x.boundary()}},{"robust-orientation":45,"simplicial-complex":48}],40:[function(t,e,r){arguments[4][33][0].apply(r,arguments)},{dup:33}],41:[function(t,e,r){arguments[4][34][0].apply(r,arguments)},{dup:34,"two-product":44,"two-sum":40}],42:[function(t,e,r){arguments[4][35][0].apply(r,arguments)},{dup:35}],43:[function(t,e,r){arguments[4][36][0].apply(r,arguments)},{dup:36}],44:[function(t,e,r){arguments[4][37][0].apply(r,arguments)},{dup:37}],45:[function(t,e,r){arguments[4][38][0].apply(r,arguments)},{dup:38,"robust-scale":41,"robust-subtract":42,"robust-sum":43,"two-product":44}],46:[function(t,e,r){"use strict";"use restrict";var n=32;r.INT_BITS=n;r.INT_MAX=2147483647;r.INT_MIN=-1<<n-1;r.sign=function(t){return(t>0)-(t<0)};r.abs=function(t){var e=t>>n-1;return(t^e)-e};r.min=function(t,e){return e^(t^e)&-(t<e)};r.max=function(t,e){return t^(t^e)&-(t<e)};r.isPow2=function(t){return!(t&t-1)&&!!t};r.log2=function(t){var e,r;e=(t>65535)<<4;t>>>=e;r=(t>255)<<3;t>>>=r;e|=r;r=(t>15)<<2;t>>>=r;e|=r;r=(t>3)<<1;t>>>=r;e|=r;return e|t>>1};r.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0};r.popCount=function(t){t=t-(t>>>1&1431655765);t=(t&858993459)+(t>>>2&858993459);return(t+(t>>>4)&252645135)*16843009>>>24};function i(t){var e=32;t&=-t;if(t)e--;if(t&65535)e-=16;if(t&16711935)e-=8;if(t&252645135)e-=4;if(t&858993459)e-=2;if(t&1431655765)e-=1;return e}r.countTrailingZeros=i;r.nextPow2=function(t){t+=t===0;--t;t|=t>>>1;t|=t>>>2;t|=t>>>4;t|=t>>>8;t|=t>>>16;return t+1};r.prevPow2=function(t){t|=t>>>1;t|=t>>>2;t|=t>>>4;t|=t>>>8;t|=t>>>16;return t-(t>>>1)};r.parity=function(t){t^=t>>>16;t^=t>>>8;t^=t>>>4;t&=15;return 27030>>>t&1};var o=new Array(256);(function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1){n<<=1;n|=r&1;--i}t[e]=n<<i&255}})(o);r.reverse=function(t){return o[t&255]<<24|o[t>>>8&255]<<16|o[t>>>16&255]<<8|o[t>>>24&255]};r.interleave2=function(t,e){t&=65535;t=(t|t<<8)&16711935;t=(t|t<<4)&252645135;t=(t|t<<2)&858993459;t=(t|t<<1)&1431655765;e&=65535;e=(e|e<<8)&16711935;e=(e|e<<4)&252645135;e=(e|e<<2)&858993459;e=(e|e<<1)&1431655765;return t|e<<1};r.deinterleave2=function(t,e){t=t>>>e&1431655765;t=(t|t>>>1)&858993459;t=(t|t>>>2)&252645135;t=(t|t>>>4)&16711935;t=(t|t>>>16)&65535;return t<<16>>16};r.interleave3=function(t,e,r){t&=1023;t=(t|t<<16)&4278190335;t=(t|t<<8)&251719695;t=(t|t<<4)&3272356035;t=(t|t<<2)&1227133513;e&=1023;e=(e|e<<16)&4278190335;e=(e|e<<8)&251719695;e=(e|e<<4)&3272356035;e=(e|e<<2)&1227133513;t|=e<<1;r&=1023;r=(r|r<<16)&4278190335;r=(r|r<<8)&251719695;r=(r|r<<4)&3272356035;r=(r|r<<2)&1227133513;return t|r<<2};r.deinterleave3=function(t,e){t=t>>>e&1227133513;t=(t|t>>>2)&3272356035;t=(t|t>>>4)&251719695;t=(t|t>>>8)&4278190335;t=(t|t>>>16)&1023;return t<<22>>22};r.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>i(t)+1}},{}],47:[function(t,e,r){"use strict";"use restrict";e.exports=n;function n(t){this.roots=new Array(t);this.ranks=new Array(t);for(var e=0;e<t;++e){this.roots[e]=e;this.ranks[e]=0}}var i=n.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}});i.makeSet=function(){var t=this.roots.length;this.roots.push(t);this.ranks.push(0);return t};i.find=function(t){var e=t;var r=this.roots;while(r[t]!==t){t=r[t]}while(r[e]!==t){var n=r[e];r[e]=t;e=n}return t};i.link=function(t,e){var r=this.find(t),n=this.find(e);if(r===n){return}var i=this.ranks,o=this.roots,s=i[r],a=i[n];if(s<a){o[r]=n}else if(a<s){o[n]=r}else{o[n]=r;++i[r]}}},{}],48:[function(t,e,r){"use strict";"use restrict";var n=t("bit-twiddle"),i=t("union-find");function o(t){var e=0,r=Math.max;for(var n=0,i=t.length;n<i;++n){e=r(e,t[n].length)}return e-1}r.dimension=o;function s(t){var e=-1,r=Math.max;for(var n=0,i=t.length;n<i;++n){var o=t[n];for(var s=0,a=o.length;s<a;++s){e=r(e,o[s])}}return e+1}r.countVertices=s;function a(t){var e=new Array(t.length);for(var r=0,n=t.length;r<n;++r){e[r]=t[r].slice(0)}return e}r.cloneCells=a;function u(t,e){var r=t.length,n=t.length-e.length,i=Math.min;if(n){return n}switch(r){case 0:return 0;case 1:return t[0]-e[0];case 2:var o=t[0]+t[1]-e[0]-e[1];if(o){return o}return i(t[0],t[1])-i(e[0],e[1]);case 3:var s=t[0]+t[1],a=e[0]+e[1];o=s+t[2]-(a+e[2]);if(o){return o}var u=i(t[0],t[1]),p=i(e[0],e[1]),o=i(u,t[2])-i(p,e[2]);if(o){return o}return i(u+t[2],s)-i(p+e[2],a);default:var l=t.slice(0);l.sort();var g=e.slice(0);g.sort();for(var h=0;h<r;++h){n=l[h]-g[h];if(n){return n}}return 0}}r.compareCells=u;function p(t,e){return u(t[0],e[0])}function l(t,e){if(e){var r=t.length;var n=new Array(r);for(var i=0;i<r;++i){n[i]=[t[i],e[i]]}n.sort(p);for(var i=0;i<r;++i){t[i]=n[i][0];e[i]=n[i][1]}return t}else{t.sort(u);return t}}r.normalize=l;function g(t){if(t.length===0){return[]}var e=1,r=t.length;for(var n=1;n<r;++n){var i=t[n];if(u(i,t[n-1])){if(n===e){e++;continue}t[e++]=i}}t.length=e;return t}r.unique=g;function h(t,e){var r=0,n=t.length-1,i=-1;while(r<=n){var o=r+n>>1,s=u(t[o],e);if(s<=0){if(s===0){i=o}r=o+1}else if(s>0){n=o-1}}return i}r.findCell=h;function f(t,e){var r=new Array(t.length);for(var i=0,o=r.length;i<o;++i){r[i]=[]}var s=[];for(var i=0,a=e.length;i<a;++i){var p=e[i];var l=p.length;for(var g=1,f=1<<l;g<f;++g){s.length=n.popCount(g);var c=0;for(var d=0;d<l;++d){if(g&1<<d){s[c++]=p[d]}}var m=h(t,s);if(m<0){continue}while(true){r[m++].push(i);if(m>=t.length||u(t[m],s)!==0){break}}}}return r}r.incidence=f;function c(t,e){if(!e){return f(g(m(t,0)),t,0)}var r=new Array(e);for(var n=0;n<e;++n){r[n]=[]}for(var n=0,i=t.length;n<i;++n){var o=t[n];for(var s=0,a=o.length;s<a;++s){r[o[s]].push(n)}}return r}r.dual=c;function d(t){var e=[];for(var r=0,n=t.length;r<n;++r){var i=t[r],o=i.length|0;for(var s=1,a=1<<o;s<a;++s){var u=[];for(var p=0;p<o;++p){if(s>>>p&1){u.push(i[p])}}e.push(u)}}return l(e)}r.explode=d;function m(t,e){if(e<0){return[]}var r=[],i=(1<<e+1)-1;for(var o=0;o<t.length;++o){var s=t[o];for(var a=i;a<1<<s.length;a=n.nextCombination(a)){var u=new Array(e+1),p=0;for(var g=0;g<s.length;++g){if(a&1<<g){u[p++]=s[g]}}r.push(u)}}return l(r)}r.skeleton=m;function y(t){var e=[];for(var r=0,n=t.length;r<n;++r){var i=t[r];for(var o=0,s=i.length;o<s;++o){var a=new Array(i.length-1);for(var u=0,p=0;u<s;++u){if(u!==o){a[p++]=i[u]}}e.push(a)}}return l(e)}r.boundary=y;function v(t,e){var r=new i(e);for(var n=0;n<t.length;++n){var o=t[n];for(var s=0;s<o.length;++s){for(var a=s+1;a<o.length;++a){r.link(o[s],o[a])}}}var u=[],p=r.ranks;for(var n=0;n<p.length;++n){p[n]=-1}for(var n=0;n<t.length;++n){var l=r.find(t[n][0]);if(p[l]<0){p[l]=u.length;u.push([t[n].slice(0)])}else{u[p[l]].push(t[n].slice(0))}}return u}function j(t){var e=g(l(m(t,0))),r=new i(e.length);for(var n=0;n<t.length;++n){var o=t[n];for(var s=0;s<o.length;++s){var a=h(e,[o[s]]);for(var u=s+1;u<o.length;++u){r.link(a,h(e,[o[u]]))}}}var p=[],f=r.ranks;for(var n=0;n<f.length;++n){f[n]=-1}for(var n=0;n<t.length;++n){var c=r.find(h(e,[t[n][0]]));if(f[c]<0){f[c]=p.length;p.push([t[n].slice(0)])}else{p[f[c]].push(t[n].slice(0))}}return p}function E(t,e){if(e){return v(t,e)}return j(t)}r.connectedComponents=E},{"bit-twiddle":46,"union-find":47}],49:[function(t,e,r){"use strict";e.exports=i;var n=t("robust-orientation")[3];function i(t){var e=t.length;if(e<3){var r=new Array(e);for(var i=0;i<e;++i){r[i]=i}if(e===2&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]){return[0]}return r}var o=new Array(e);for(var i=0;i<e;++i){o[i]=i}o.sort(function(e,r){var n=t[e][0]-t[r][0];if(n){return n}return t[e][1]-t[r][1]});var s=[o[0],o[1]];var a=[o[0],o[1]];for(var i=2;i<e;++i){var u=o[i];var p=t[u];var l=s.length;while(l>1&&n(t[s[l-2]],t[s[l-1]],p)<=0){l-=1;s.pop()}s.push(u);l=a.length;while(l>1&&n(t[a[l-2]],t[a[l-1]],p)>=0){l-=1;a.pop()}a.push(u)}var r=new Array(a.length+s.length-2);var g=0;for(var i=0,h=s.length;i<h;++i){r[g++]=s[i]}for(var f=a.length-2;f>0;--f){r[g++]=a[f]}return r}},{"robust-orientation":55}],50:[function(t,e,r){arguments[4][33][0].apply(r,arguments)},{dup:33}],51:[function(t,e,r){arguments[4][34][0].apply(r,arguments)},{dup:34,"two-product":54,"two-sum":50}],52:[function(t,e,r){arguments[4][35][0].apply(r,arguments)},{dup:35}],53:[function(t,e,r){arguments[4][36][0].apply(r,arguments)},{dup:36}],54:[function(t,e,r){arguments[4][37][0].apply(r,arguments)},{dup:37}],55:[function(t,e,r){arguments[4][38][0].apply(r,arguments)},{dup:38,"robust-scale":51,"robust-subtract":52,"robust-sum":53,"two-product":54}],56:[function(t,e,r){arguments[4][24][0].apply(r,arguments)},{dup:24}],57:[function(t,e,r){var n=t("turf-inside");e.exports=function(t,e,r,i){for(var o=0;o<t.features.length;o++){var s=t.features[o];if(!s.properties)s.properties={};var a=0;for(var u=0;u<e.features.length;u++){var p=e.features[u];if(n(p,s)){a++}}s.properties[r]=a}return t}},{"turf-inside":77}],58:[function(t,e,r){var n=t("turf-point");e.exports=function(t,e,r,s){var a=t.geometry.coordinates;var u=i(a[0]);var p=i(a[1]);var l=i(r);var g=0;switch(s){case"miles":g=3960;break;case"kilometers":g=6373;break;case"degrees":g=57.2957795;break;case"radians":g=1;break}var h=Math.asin(Math.sin(p)*Math.cos(e/g)+Math.cos(p)*Math.sin(e/g)*Math.cos(l));var f=u+Math.atan2(Math.sin(l)*Math.sin(e/g)*Math.cos(p),Math.cos(e/g)-Math.sin(p)*Math.sin(h));return n([o(f),o(h)])};function i(t){return t*Math.PI/180}function o(t){return t*180/Math.PI}},{"turf-point":103}],59:[function(t,e,r){var n=t("simple-statistics");var i=t("turf-inside");e.exports=function(t,e,r,o,s){t.features.forEach(function(t){if(!t.properties){t.properties={}}var s=[];e.features.forEach(function(e){if(i(e,t)){s.push(e.properties[r])}});t.properties[o]=n.standard_deviation(s)});return t}},{"simple-statistics":60,"turf-inside":77}],60:[function(t,e,r){(function(){var t={};if(typeof e!=="undefined"){e.exports=t}else{this.ss=t}function r(){var t={},e=[];t.data=function(r){if(!arguments.length)return e;e=r.slice();return t};t.mb=function(){var t,r;var n=e.length;if(n===1){t=0;r=e[0][1]}else{var i=0,o=0,s=0,a=0;var u,p,l;for(var g=0;g<n;g++){u=e[g];p=u[0];l=u[1];i+=p;o+=l;s+=p*p;a+=p*l}t=(n*a-i*o)/(n*s-i*i);r=o/n-t*i/n}return{m:t,b:r}};t.m=function(){return t.mb().m};t.b=function(){return t.mb().b};t.line=function(){var e=t.mb(),r=e.m,n=e.b;return function(t){return n+r*t}};return t}function n(t,e){if(t.length<2)return 1;var r=0,n;for(var i=0;i<t.length;i++){r+=t[i][1]}n=r/t.length;var o=0;for(var s=0;s<t.length;s++){o+=Math.pow(n-t[s][1],2)}var a=0;for(var u=0;u<t.length;u++){a+=Math.pow(t[u][1]-e(t[u][0]),2)}return 1-a/o}function i(){var t={},e=0,r={};t.train=function(t,n){if(!r[n])r[n]={};for(var i in t){var o=t[i];if(r[n][i]===undefined)r[n][i]={};if(r[n][i][o]===undefined)r[n][i][o]=0;r[n][i][t[i]]++}e++};t.score=function(t){var n={},i;for(var o in t){var s=t[o];for(i in r){if(n[i]===undefined)n[i]={};if(r[i][o]){n[i][o+"_"+s]=(r[i][o][s]||0)/e}else{n[i][o+"_"+s]=0}}}var a={};for(i in n){for(var u in n[i]){if(a[i]===undefined)a[i]=0;a[i]+=n[i][u]}}return a};return t}function o(t){var e=0;for(var r=0;r<t.length;r++){e+=t[r]}return e}function s(t){if(t.length===0)return null;return o(t)/t.length}function a(t){if(t.length===0)return null;var e=1;for(var r=0;r<t.length;r++){if(t[r]<=0)return null;e*=t[r]}return Math.pow(e,1/t.length)}function u(t){if(t.length===0)return null;var e=0;for(var r=0;r<t.length;r++){if(t[r]<=0)return null;e+=1/t[r]}return t.length/e}function p(t){if(t.length===0)return null;var e=0;for(var r=0;r<t.length;r++){e+=Math.pow(t[r],2)}return Math.sqrt(e/t.length)}function l(t){var e;for(var r=0;r<t.length;r++){if(t[r]<e||e===undefined)e=t[r]}return e}function g(t){var e;for(var r=0;r<t.length;r++){if(t[r]>e||e===undefined)e=t[r]}return e}function h(t){if(t.length===0)return null;var e=s(t),r=[];for(var n=0;n<t.length;n++){r.push(Math.pow(t[n]-e,2))}return s(r)}function f(t){if(t.length===0)return null;return Math.sqrt(h(t))}function c(t,e){var r=s(t),n=0;for(var i=0;i<t.length;i++){n+=Math.pow(t[i]-r,e)}return n}function d(t){if(t.length<=1)return null;var e=c(t,2);return e/(t.length-1)}function m(t){if(t.length<=1)return null;return Math.sqrt(d(t))}function y(t,e){if(t.length<=1||t.length!=e.length){return null}var r=s(t),n=s(e),i=0;for(var o=0;o<t.length;o++){i+=(t[o]-r)*(e[o]-n)}return i/(t.length-1)}function v(t,e){var r=y(t,e),n=m(t),i=m(e);if(r===null||n===null||i===null){return null}return r/n/i}function j(t){if(t.length===0)return null;var e=t.slice().sort(function(t,e){return t-e});if(e.length%2===1){return e[(e.length-1)/2]}else{var r=e[e.length/2-1];var n=e[e.length/2];return(r+n)/2}}function E(t){if(t.length===0)return null;else if(t.length===1)return t[0];var e=t.slice().sort(function(t,e){return t-e});var r=e[0],n,i=0,o=1;for(var s=1;s<e.length+1;s++){if(e[s]!==r){if(o>i){i=o;n=r}o=1;r=e[s]}else{o++}}return n}function x(t,e){var r=s(t);var n=f(t);var i=Math.sqrt(t.length);return(r-e)/(n/i)}function I(t,e,r){var n=t.length,i=e.length;if(!n||!i)return null;if(!r)r=0;var o=s(t),a=s(e);var u=((n-1)*d(t)+(i-1)*d(e))/(n+i-2);return(o-a-r)/Math.sqrt(u*(1/n+1/i))}function S(t,e){var r=[];if(e<=0){return null}for(var n=0;n<t.length;n+=e){r.push(t.slice(n,n+e))}return r}function L(t,e){e=e||Math.random;var r=t.length;var n;var i;while(r>0){i=Math.floor(e()*r--);n=t[r];t[r]=t[i];t[i]=n}return t}function C(t,e){t=t.slice();return L(t.slice(),e)}function N(t,e,r){var n=C(t,r);return n.slice(0,e)}function b(t,e){if(t.length===0)return null;var r=t.slice().sort(function(t,e){return t-e});if(e.length){var n=[];for(var i=0;i<e.length;i++){n[i]=P(r,e[i])}return n}else{return P(r,e)}}function P(t,e){var r=t.length*e;if(e<0||e>1){return null}else if(e===1){return t[t.length-1]}else if(e===0){return t[0]}else if(r%1!==0){return t[Math.ceil(r)-1]}else if(t.length%2===0){return(t[r-1]+t[r])/2}else{return t[r]}}function w(t){if(t.length===0)return null;return b(t,.75)-b(t,.25)}function R(t){if(!t||t.length===0)return null;var e=j(t),r=[];for(var n=0;n<t.length;n++){r.push(Math.abs(t[n]-e))}return j(r)}function O(t,e){var r=[],n=[],i,o,s=0;for(i=0;i<t.length+1;i++){var a=[],u=[];for(o=0;o<e+1;o++){a.push(0);u.push(0)}r.push(a);n.push(u)}for(i=1;i<e+1;i++){r[1][i]=1;n[1][i]=0;for(o=2;o<t.length+1;o++){n[o][i]=Infinity}}for(var p=2;p<t.length+1;p++){var l=0,g=0,h=0,f=0;for(var c=1;c<p+1;c++){var d=p-c+1,m=t[d-1];h++;l+=m;g+=m*m;s=g-l*l/h;f=d-1;if(f!==0){for(o=2;o<e+1;o++){if(n[p][o]>=s+n[f][o-1]){r[p][o]=d;n[p][o]=s+n[f][o-1]}}}}r[p][1]=1;n[p][1]=s}return{lower_class_limits:r,variance_combinations:n}}function M(t,e,r){var n=t.length,i=[],o=r;i[r]=t[t.length-1];while(o>0){i[o-1]=t[e[n][o]-1];n=e[n][o]-1;o--}return i}function A(t,e){if(e>t.length)return null;t=t.slice().sort(function(t,e){return t-e});var r=O(t,e),n=r.lower_class_limits;return M(t,n,e)}function T(t){if(t.length<3)return null;var e=t.length,r=Math.pow(m(t),3),n=c(t,3);return e*n/((e-1)*(e-2)*r)}var D=[.5,.504,.508,.512,.516,.5199,.5239,.5279,.5319,.5359,.5398,.5438,.5478,.5517,.5557,.5596,.5636,.5675,.5714,.5753,.5793,.5832,.5871,.591,.5948,.5987,.6026,.6064,.6103,.6141,.6179,.6217,.6255,.6293,.6331,.6368,.6406,.6443,.648,.6517,.6554,.6591,.6628,.6664,.67,.6736,.6772,.6808,.6844,.6879,.6915,.695,.6985,.7019,.7054,.7088,.7123,.7157,.719,.7224,.7257,.7291,.7324,.7357,.7389,.7422,.7454,.7486,.7517,.7549,.758,.7611,.7642,.7673,.7704,.7734,.7764,.7794,.7823,.7852,.7881,.791,.7939,.7967,.7995,.8023,.8051,.8078,.8106,.8133,.8159,.8186,.8212,.8238,.8264,.8289,.8315,.834,.8365,.8389,.8413,.8438,.8461,.8485,.8508,.8531,.8554,.8577,.8599,.8621,.8643,.8665,.8686,.8708,.8729,.8749,.877,.879,.881,.883,.8849,.8869,.8888,.8907,.8925,.8944,.8962,.898,.8997,.9015,.9032,.9049,.9066,.9082,.9099,.9115,.9131,.9147,.9162,.9177,.9192,.9207,.9222,.9236,.9251,.9265,.9279,.9292,.9306,.9319,.9332,.9345,.9357,.937,.9382,.9394,.9406,.9418,.9429,.9441,.9452,.9463,.9474,.9484,.9495,.9505,.9515,.9525,.9535,.9545,.9554,.9564,.9573,.9582,.9591,.9599,.9608,.9616,.9625,.9633,.9641,.9649,.9656,.9664,.9671,.9678,.9686,.9693,.9699,.9706,.9713,.9719,.9726,.9732,.9738,.9744,.975,.9756,.9761,.9767,.9772,.9778,.9783,.9788,.9793,.9798,.9803,.9808,.9812,.9817,.9821,.9826,.983,.9834,.9838,.9842,.9846,.985,.9854,.9857,.9861,.9864,.9868,.9871,.9875,.9878,.9881,.9884,.9887,.989,.9893,.9896,.9898,.9901,.9904,.9906,.9909,.9911,.9913,.9916,.9918,.992,.9922,.9925,.9927,.9929,.9931,.9932,.9934,.9936,.9938,.994,.9941,.9943,.9945,.9946,.9948,.9949,.9951,.9952,.9953,.9955,.9956,.9957,.9959,.996,.9961,.9962,.9963,.9964,.9965,.9966,.9967,.9968,.9969,.997,.9971,.9972,.9973,.9974,.9974,.9975,.9976,.9977,.9977,.9978,.9979,.9979,.998,.9981,.9981,.9982,.9982,.9983,.9984,.9984,.9985,.9985,.9986,.9986,.9987,.9987,.9987,.9988,.9988,.9989,.9989,.9989,.999,.999];function G(t){var e=1/(1+.5*Math.abs(t));var r=e*Math.exp(-Math.pow(t,2)-1.26551223+1.00002368*e+.37409196*Math.pow(e,2)+.09678418*Math.pow(e,3)-.18628806*Math.pow(e,4)+.27886807*Math.pow(e,5)-1.13520398*Math.pow(e,6)+1.48851587*Math.pow(e,7)-.82215223*Math.pow(e,8)+.17087277*Math.pow(e,9));if(t>=0){return 1-r}else{return r-1}}function F(t){var e=Math.abs(t),r=Math.min(Math.round(e*100),D.length-1);if(t>=0){return D[r]}else{return+(1-D[r]).toFixed(4)}}function B(t,e,r){return(t-e)/r}var q=1e-4;function _(t){if(t<0){return null}var e=1;for(var r=2;r<=t;r++){e*=r}return e}function V(t){if(t<0||t>1){return null}return k(1,t)}function k(t,e){if(e<0||e>1||t<=0||t%1!==0){return null}function r(t,e,r){return _(e)/(_(t)*_(e-t))*(Math.pow(r,t)*Math.pow(1-r,e-t))}var n=0,i=0,o={};do{o[n]=r(n,t,e);i+=o[n];n++}while(i<1-q);return o}function U(t){if(t<=0){return null}var e=0,r=0,n={};function i(t,e){return Math.pow(Math.E,-e)*Math.pow(e,t)/_(t)}do{n[e]=i(e,t);r+=n[e];e++}while(r<1-q);return n}var Y={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}};function H(t,e,r){var n=s(t),i=0,o,a=1,u=e(n),p=[],l=[],g;for(var h=0;h<t.length;h++){if(p[t[h]]===undefined){p[t[h]]=0}p[t[h]]++}for(h=0;h<p.length;h++){if(p[h]===undefined){p[h]=0}}for(g in u){if(g in p){l[g]=u[g]*t.length}}for(g=l.length-1;g>=0;g--){if(l[g]<3){l[g-1]+=l[g];l.pop();p[g-1]+=p[g];p.pop()}}for(g=0;g<p.length;g++){i+=Math.pow(p[g]-l[g],2)/l[g]}o=p.length-a-1;return Y[o][r]<i}function z(e){var r=!!(Object.defineProperty&&Object.defineProperties);if(!r)throw new Error("without defineProperty, simple-statistics cannot be mixed in");var n=["median","standard_deviation","sum","sample_skewness","mean","min","max","quantile","geometric_mean","harmonic_mean","root_mean_square"];function i(e){return function(){var r=Array.prototype.slice.apply(arguments);r.unshift(this);return t[e].apply(t,r)}}var o;if(e){o=e.slice()}else{o=Array.prototype}for(var s=0;s<n.length;s++){Object.defineProperty(o,n[s],{value:i(n[s]),configurable:true,enumerable:false,writable:true})}return o}t.linear_regression=r;t.standard_deviation=f;t.r_squared=n;t.median=j;

t.mean=s;t.mode=E;t.min=l;t.max=g;t.sum=o;t.quantile=b;t.quantile_sorted=P;t.iqr=w;t.mad=R;t.chunk=S;t.shuffle=C;t.shuffle_in_place=L;t.sample=N;t.sample_covariance=y;t.sample_correlation=v;t.sample_variance=d;t.sample_standard_deviation=m;t.sample_skewness=T;t.geometric_mean=a;t.harmonic_mean=u;t.root_mean_square=p;t.variance=h;t.t_test=x;t.t_test_two_sample=I;t.jenksMatrices=O;t.jenksBreaks=M;t.jenks=A;t.bayesian=i;t.epsilon=q;t.factorial=_;t.bernoulli_distribution=V;t.binomial_distribution=k;t.poisson_distribution=U;t.chi_squared_goodness_of_fit=H;t.z_score=B;t.cumulative_std_normal_probability=F;t.standard_normal_table=D;t.error_function=G;t.average=s;t.interquartile_range=w;t.mixin=z;t.median_absolute_deviation=R;t.rms=p;t.erf=G})(this)},{}],61:[function(t,e,r){var n=t("turf-invariant");e.exports=function(t,e,r){n.featureOf(t,"Point","distance");n.featureOf(e,"Point","distance");var o=t.geometry.coordinates;var s=e.geometry.coordinates;var a=i(s[1]-o[1]);var u=i(s[0]-o[0]);var p=i(o[1]);var l=i(s[1]);var g=Math.sin(a/2)*Math.sin(a/2)+Math.sin(u/2)*Math.sin(u/2)*Math.cos(p)*Math.cos(l);var h=2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g));var f;switch(r){case"miles":f=3960;break;case"kilometers":f=6373;break;case"degrees":f=57.2957795;break;case"radians":f=1;break;case undefined:f=6373;break;default:throw new Error('unknown option given to "units"')}var c=f*h;return c};function i(t){return t*Math.PI/180}},{"turf-invariant":62}],62:[function(t,e,r){e.exports.geojsonType=n;e.exports.collectionOf=o;e.exports.featureOf=i;function n(t,e,r){if(!e||!r)throw new Error("type and name required");if(!t||t.type!==e){throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.type)}}function i(t,e,r){if(!r)throw new Error(".featureOf() requires a name");if(!t||t.type!=="Feature"||!t.geometry){throw new Error("Invalid input to "+r+", Feature with geometry required")}if(!t.geometry||t.geometry.type!==e){throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.geometry.type)}}function o(t,e,r){if(!r)throw new Error(".collectionOf() requires a name");if(!t||t.type!=="FeatureCollection"){throw new Error("Invalid input to "+r+", FeatureCollection required")}for(var n=0;n<t.features.length;n++){var i=t.features[n];if(!i||i.type!=="Feature"||!i.geometry){throw new Error("Invalid input to "+r+", Feature with geometry required")}if(!i.geometry||i.geometry.type!==e){throw new Error("Invalid input to "+r+": must be a "+e+", given "+i.geometry.type)}}}},{}],63:[function(t,e,r){var n=t("turf-extent");var i=t("turf-bbox-polygon");e.exports=function(t,e){var r=n(t);var o=i(r);return o}},{"turf-bbox-polygon":13,"turf-extent":71}],64:[function(t,e,r){var n=t("jsts");e.exports=function(t,e,r){var i=JSON.parse(JSON.stringify(t));var o=JSON.parse(JSON.stringify(e));if(i.type!=="Feature"){i={type:"Feature",properties:{},geometry:i}}if(o.type!=="Feature"){o={type:"Feature",properties:{},geometry:o}}var s=new n.io.GeoJSONReader;var a=s.read(JSON.stringify(i.geometry));var u=s.read(JSON.stringify(o.geometry));var p=a.difference(u);var l=new n.io.GeoJSONParser;p=l.write(p);i.geometry=p;if(i.geometry.type==="GeometryCollection"&&i.geometry.geometries.length===0){return}else{return{type:"Feature",properties:i.properties,geometry:p}}}},{jsts:65}],65:[function(t,e,r){arguments[4][18][0].apply(r,arguments)},{"./lib/jsts":66,dup:18,"javascript.util":68}],66:[function(t,e,r){arguments[4][19][0].apply(r,arguments)},{dup:19}],67:[function(t,e,r){arguments[4][20][0].apply(r,arguments)},{dup:20}],68:[function(t,e,r){arguments[4][21][0].apply(r,arguments)},{"./dist/javascript.util-node.min.js":67,dup:21}],69:[function(t,e,r){var n=t("turf-featurecollection");var i=t("turf-meta").coordEach;var o=t("turf-point");e.exports=function(t){var e=[];i(t,function(t){e.push(o(t))});return n(e)}},{"turf-featurecollection":73,"turf-meta":70,"turf-point":103}],70:[function(t,e,r){arguments[4][24][0].apply(r,arguments)},{dup:24}],71:[function(t,e,r){var n=t("turf-meta").coordEach;e.exports=function(t){var e=[Infinity,Infinity,-Infinity,-Infinity];n(t,function(t){if(e[0]>t[0])e[0]=t[0];if(e[1]>t[1])e[1]=t[1];if(e[2]<t[0])e[2]=t[0];if(e[3]<t[1])e[3]=t[1]});return e}},{"turf-meta":72}],72:[function(t,e,r){arguments[4][24][0].apply(r,arguments)},{dup:24}],73:[function(t,e,r){e.exports=function(t){return{type:"FeatureCollection",features:t}}},{}],74:[function(t,e,r){var n=t("turf-featurecollection");e.exports=function(t,e,r){var i=n([]);for(var o=0;o<t.features.length;o++){if(t.features[o].properties[e]===r){i.features.push(t.features[o])}}return i}},{"turf-featurecollection":73}],75:[function(t,e,r){e.exports=n;function n(t){var e=JSON.parse(JSON.stringify(t));switch(e.type){case"FeatureCollection":for(var r=0;r<e.features.length;r++)i(e.features[r].geometry);return e;case"Feature":i(e.geometry);return e;default:i(e);return e}}function i(t){var e=t.coordinates;switch(t.type){case"Point":o(e);break;case"LineString":case"MultiPoint":s(e);break;case"Polygon":case"MultiLineString":a(e);break;case"MultiPolygon":u(e);break;case"GeometryCollection":t.geometries.forEach(i);break}}function o(t){t.reverse()}function s(t){for(var e=0;e<t.length;e++)t[e].reverse()}function a(t){for(var e=0;e<t.length;e++)for(var r=0;r<t[e].length;r++)t[e][r].reverse()}function u(t){for(var e=0;e<t.length;e++)for(var r=0;r<t[e].length;r++)for(var n=0;n<t[e][r].length;n++)t[e][r][n].reverse()}},{}],76:[function(t,e,r){var n=t("turf-point");var i=t("turf-polygon");var o=t("turf-distance");var s=t("turf-featurecollection");var a=[];var u=[];for(var p=0;p<6;p++){var l=2*Math.PI/6*p;a.push(Math.cos(l));u.push(Math.sin(l))}e.exports=function h(t,e,r){var i=e/o(n([t[0],t[1]]),n([t[2],t[1]]),r);var a=i*(t[2]-t[0]);var u=e/o(n([t[0],t[1]]),n([t[0],t[3]]),r);var p=u*(t[3]-t[1]);var l=a/2;var h=l*2;var f=Math.sqrt(3)/2*h;var c=t[2]-t[0];var d=t[3]-t[1];var m=3/4*h;var y=f;var v=c/(h-l/2);var j=Math.ceil(v);if(Math.round(v)===j){j++}var E=(j*m-l/2-c)/2-l/2;var x=Math.ceil(d/f);var I=(d-x*f)/2;var S=x*f-d>f/2;if(S){I-=f/4}var L=s([]);for(var C=0;C<j;C++){for(var N=0;N<=x;N++){var b=C%2===1;if(N===0&&b){continue}if(N===0&&S){continue}var P=C*m+t[0]-E;var w=N*y+t[1]+I;if(b){w-=f/2}L.features.push(g([P,w],l))}}return L};function g(t,e){var r=[];for(var n=0;n<6;n++){var o=t[0]+e*a[n];var s=t[1]+e*u[n];r.push([o,s])}r.push(r[0]);return i([r])}},{"turf-distance":61,"turf-featurecollection":73,"turf-point":103,"turf-polygon":104}],77:[function(t,e,r){arguments[4][6][0].apply(r,arguments)},{dup:6}],78:[function(t,e,r){var n=t("jsts");var i=t("turf-featurecollection");e.exports=function(t,e){var r;if(t.type==="Feature")r=t.geometry;else r=t;if(e.type==="Feature")geom2=e.geometry;else geom2=e;var i=new n.io.GeoJSONReader;var o=i.read(JSON.stringify(r));var s=i.read(JSON.stringify(geom2));var a=o.intersection(s);var u=new n.io.GeoJSONParser;a=u.write(a);if(a.type==="GeometryCollection"&&a.geometries.length===0){return}else{return{type:"Feature",properties:{},geometry:a}}}},{jsts:79,"turf-featurecollection":73}],79:[function(t,e,r){arguments[4][18][0].apply(r,arguments)},{"./lib/jsts":80,dup:18,"javascript.util":82}],80:[function(t,e,r){arguments[4][19][0].apply(r,arguments)},{dup:19}],81:[function(t,e,r){arguments[4][20][0].apply(r,arguments)},{dup:20}],82:[function(t,e,r){arguments[4][21][0].apply(r,arguments)},{"./dist/javascript.util-node.min.js":81,dup:21}],83:[function(t,e,r){e.exports=a;var n=1e-10;function i(t,e){var r=t.x-e.x,i=t.y-e.y;return r*r+i*i<n}function o(t){var e=t.head;while(e){var r=e.next;e.next=e.prev;e.prev=r;e=r}var r=t.head;t.head=t.tail;t.tail=r}function s(t){this.level=t;this.s=null;this.count=0}s.prototype.remove_seq=function(t){if(t.prev){t.prev.next=t.next}else{this.s=t.next}if(t.next){t.next.prev=t.prev}--this.count};s.prototype.addSegment=function(t,e){var r=this.s;var n=null;var s=null;var a=false;var u=false;while(r){if(n==null){if(i(t,r.head.p)){n=r;a=true}else if(i(t,r.tail.p)){n=r}}if(s==null){if(i(e,r.head.p)){s=r;u=true}else if(i(e,r.tail.p)){s=r}}if(s!=null&&n!=null){break}else{r=r.next}}var p=(n!=null?1:0)|(s!=null?2:0);switch(p){case 0:var l={p:t,prev:null};var g={p:e,next:null};l.next=g;g.prev=l;n={head:l,tail:g,next:this.s,prev:null,closed:false};if(this.s){this.s.prev=n}this.s=n;++this.count;break;case 1:var h={p:e};if(a){h.next=n.head;h.prev=null;n.head.prev=h;n.head=h}else{h.next=null;h.prev=n.tail;n.tail.next=h;n.tail=h}break;case 2:var h={p:t};if(u){h.next=s.head;h.prev=null;s.head.prev=h;s.head=h}else{h.next=null;h.prev=s.tail;s.tail.next=h;s.tail=h}break;case 3:if(n===s){var h={p:n.tail.p,next:n.head,prev:null};n.head.prev=h;n.head=h;n.closed=true;break}switch((a?1:0)|(u?2:0)){case 0:o(n);case 1:s.tail.next=n.head;n.head.prev=s.tail;s.tail=n.tail;this.remove_seq(n);break;case 3:o(n);case 2:n.tail.next=s.head;s.head.prev=n.tail;n.tail=s.tail;this.remove_seq(s);break}}};function a(t){if(!t){var e=this;e.contours={};this.drawContour=function(t,r,n,i,o,a){var u=e.contours[a];if(!u){u=e.contours[a]=new s(o)}u.addSegment({x:t,y:r},{x:n,y:i})};this.contourList=function(){var t=[];var r=e.contours;for(var n in r){var i=r[n].s;var o=r[n].level;while(i){var s=i.head;var a=[];a.level=o;a.k=n;while(s&&s.p){a.push(s.p);s=s.next}t.push(a);i=i.next}}t.sort(function(t,e){return t.k-e.k});return t}}else{this.drawContour=t}this.h=new Array(5);this.sh=new Array(5);this.xh=new Array(5);this.yh=new Array(5)}a.prototype.contour=function(t,e,r,i,o,s,a,u,p){var l=this.h,g=this.sh,h=this.xh,f=this.yh;var c=this.drawContour;this.contours={};var d=function(t,e){return(l[e]*h[t]-l[t]*h[e])/(l[e]-l[t])};var m=function(t,e){return(l[e]*f[t]-l[t]*f[e])/(l[e]-l[t])};var y;var v;var j;var E;var x;var I;var S=0;var L=0;var C=0;var N=0;var b=[0,1,1,0];var P=[0,0,1,1];var w=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]];for(var R=o-1;R>=i;R--){for(var O=e;O<=r-1;O++){var M,A;M=Math.min(t[O][R],t[O][R+1]);A=Math.min(t[O+1][R],t[O+1][R+1]);x=Math.min(M,A);M=Math.max(t[O][R],t[O][R+1]);A=Math.max(t[O+1][R],t[O+1][R+1]);I=Math.max(M,A);if(I>=p[0]&&x<=p[u-1]){for(var T=0;T<u;T++){if(p[T]>=x&&p[T]<=I){for(var D=4;D>=0;D--){if(D>0){l[D]=t[O+b[D-1]][R+P[D-1]]-p[T];h[D]=s[O+b[D-1]];f[D]=a[R+P[D-1]]}else{l[0]=.25*(l[1]+l[2]+l[3]+l[4]);h[0]=.5*(s[O]+s[O+1]);f[0]=.5*(a[R]+a[R+1])}if(l[D]>n){g[D]=1}else if(l[D]<-n){g[D]=-1}else g[D]=0}for(D=1;D<=4;D++){y=D;v=0;if(D!=4){j=D+1}else{j=1}E=w[g[y]+1][g[v]+1][g[j]+1];if(E!=0){switch(E){case 1:S=h[y];C=f[y];L=h[v];N=f[v];break;case 2:S=h[v];C=f[v];L=h[j];N=f[j];break;case 3:S=h[j];C=f[j];L=h[y];N=f[y];break;case 4:S=h[y];C=f[y];L=d(v,j);N=m(v,j);break;case 5:S=h[v];C=f[v];L=d(j,y);N=m(j,y);break;case 6:S=h[j];C=f[j];L=d(y,v);N=m(y,v);break;case 7:S=d(y,v);C=m(y,v);L=d(v,j);N=m(v,j);break;case 8:S=d(v,j);C=m(v,j);L=d(j,y);N=m(j,y);break;case 9:S=d(j,y);C=m(j,y);L=d(y,v);N=m(y,v);break;default:break}c(S,C,L,N,p[T],T)}}}}}}}}},{}],84:[function(t,e,r){var n=t("turf-tin");var i=t("turf-inside");var o=t("turf-grid");var s=t("turf-extent");var a=t("turf-planepoint");var u=t("turf-featurecollection");var p=t("turf-linestring");var l=t("turf-square");var g=t("./conrec");e.exports=function(t,e,r,h,f){var c=n(t,e);var d=s(t);var m=l(d);var y=o(m,r);var v=[];for(var j=0;j<y.features.length;j++){var E=y.features[j];for(var x=0;x<c.features.length;x++){var I=c.features[x];if(i(E,I)){E.properties={};E.properties[e]=a(E,I)}}}var S=Math.sqrt(y.features.length);for(var L=0;L<S;L++){var C=y.features.slice(L*S,(L+1)*S);var N=[];C.forEach(function(t){if(t.properties){N.push(t.properties[e])}else{N.push(0)}});v.push(N)}var b=(m[2]-m[0])/S;var P=[];var w=[];for(var L=0;L<S;L++){P.push(L*b+m[0]);w.push(L*b+m[1])}var R=new g;R.contour(v,0,r,0,r,P,w,h.length,h);var O=R.contourList();var M=u([]);O.forEach(function(t){if(t.length>2){var r=[];t.forEach(function(t){r.push([t.x,t.y])});var n=p(r);n.properties={};n.properties[e]=t.level;M.features.push(n)}});return M}},{"./conrec":83,"turf-extent":71,"turf-featurecollection":73,"turf-grid":85,"turf-inside":77,"turf-linestring":91,"turf-planepoint":99,"turf-square":116,"turf-tin":118}],85:[function(t,e,r){var n=t("turf-point");e.exports=function(t,e){var r=t[0];var i=t[1];var o=t[2];var s=t[3];var a=(o-r)/e;var u=[];var p={type:"FeatureCollection",features:[]};for(var l=0;l<=e;l++){for(var g=0;g<=e;g++){p.features.push(n([l*a+r,g*a+i]))}}return p}},{"turf-point":103}],86:[function(t,e,r){var n=t("simple-statistics");e.exports=function(t,e,r){var i=[];var o=[];t.features.forEach(function(t){if(t.properties[e]!==undefined){i.push(t.properties[e])}});o=n.jenks(i,r);return o}},{"simple-statistics":87}],87:[function(t,e,r){arguments[4][60][0].apply(r,arguments)},{dup:60}],88:[function(t,e,r){var n=t("turf-polygon");var i=t("turf-point");var o=t("turf-featurecollection");e.exports=function(t){var e;var r={intersections:o([]),fixed:null};if(t.type==="Feature"){e=t.geometry}else{e=t}var n={};e.coordinates.forEach(function(t){e.coordinates.forEach(function(e){for(var n=0;n<t.length-1;n++){for(var o=0;o<e.length-1;o++){var a=s(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[o][0],e[o][1],e[o+1][0],e[o+1][1]);if(a){r.intersections.features.push(i([a[0],a[1]]))}}}})});return r};function s(t,e,r,n,i,o,s,a){var u,p,l,g,h,f={x:null,y:null,onLine1:false,onLine2:false};u=(a-o)*(r-t)-(s-i)*(n-e);if(u==0){if(f.x!=null&&f.y!=null){return f}else{return false}}p=e-o;l=t-i;g=(s-i)*p-(a-o)*l;h=(r-t)*p-(n-e)*l;p=g/u;l=h/u;f.x=t+p*(r-t);f.y=e+p*(n-e);if(p>0&&p<1){f.onLine1=true}if(l>0&&l<1){f.onLine2=true}if(f.onLine1&&f.onLine2){return[f.x,f.y]}else{return false}}},{"turf-featurecollection":73,"turf-point":103,"turf-polygon":104}],89:[function(t,e,r){var n=t("turf-distance");var i=t("turf-point");e.exports=function(t,e){var r;if(t.type==="Feature")r=t.geometry.coordinates;else if(t.type==="LineString")r=t.geometry.coordinates;else throw new Error("input must be a LineString Feature or Geometry");var o=0;for(var s=0;s<r.length-1;s++){o+=n(i(r[s]),i(r[s+1]),e)}return o}},{"turf-distance":61,"turf-point":103}],90:[function(t,e,r){var n=t("turf-distance");var i=t("turf-point");var o=t("turf-linestring");var s=t("turf-bearing");var a=t("turf-destination");e.exports=function(t,e,r){var n;if(r.type==="Feature")n=r.geometry.coordinates;else if(r.type==="LineString")n=r.geometry.coordinates;else throw new Error("input must be a LineString Feature or Geometry");var i=u(t,n);var s=u(e,n);var a;if(i.properties.index<=s.properties.index){a=[i,s]}else{a=[s,i]}var p=o([a[0].geometry.coordinates],{});for(var l=a[0].properties.index+1;l<a[1].properties.index+1;l++){p.geometry.coordinates.push(n[l])}p.geometry.coordinates.push(a[1].geometry.coordinates);return p};function u(t,e){var r="miles";var o=i([Infinity,Infinity],{dist:Infinity});for(var u=0;u<e.length-1;u++){var l=i(e[u]);var g=i(e[u+1]);l.properties.dist=n(t,l,r);g.properties.dist=n(t,g,r);var h=s(l,g);var f=a(t,1e3,h+90,r);var c=p(t.geometry.coordinates[0],t.geometry.coordinates[1],f.geometry.coordinates[0],f.geometry.coordinates[1],l.geometry.coordinates[0],l.geometry.coordinates[1],g.geometry.coordinates[0],g.geometry.coordinates[1]);if(!c){f=a(t,1e3,h-90,r);c=p(t.geometry.coordinates[0],t.geometry.coordinates[1],f.geometry.coordinates[0],f.geometry.coordinates[1],l.geometry.coordinates[0],l.geometry.coordinates[1],g.geometry.coordinates[0],g.geometry.coordinates[1])}f.properties.dist=Infinity;var d;if(c){var d=i(c);d.properties.dist=n(t,d,r)}if(l.properties.dist<o.properties.dist){o=l;o.properties.index=u}if(g.properties.dist<o.properties.dist){o=g;o.properties.index=u}if(d&&d.properties.dist<o.properties.dist){o=d;o.properties.index=u}}return o}function p(t,e,r,n,i,o,s,a){var u,p,l,g,h,f={x:null,y:null,onLine1:false,onLine2:false};u=(a-o)*(r-t)-(s-i)*(n-e);if(u==0){if(f.x!=null&&f.y!=null){return f}else{return false}}p=e-o;l=t-i;g=(s-i)*p-(a-o)*l;h=(r-t)*p-(n-e)*l;p=g/u;l=h/u;f.x=t+p*(r-t);f.y=e+p*(n-e);if(p>0&&p<1){f.onLine1=true}if(l>0&&l<1){f.onLine2=true}if(f.onLine1&&f.onLine2){return[f.x,f.y]}else{return false}}},{"turf-bearing":14,"turf-destination":58,"turf-distance":61,"turf-linestring":91,"turf-point":103}],91:[function(t,e,r){e.exports=function(t,e){if(!t){throw new Error("No coordinates passed")}return{type:"Feature",geometry:{type:"LineString",coordinates:t},properties:e||{}}}},{}],92:[function(t,e,r){var n=t("turf-inside");e.exports=function(t,e,r,o){t.features.forEach(function(t){if(!t.properties){t.properties={}}var s=[];e.features.forEach(function(e){if(n(e,t)){s.push(e.properties[r])}});t.properties[o]=i(s)});return t};function i(t){var e;for(var r=0;r<t.length;r++){if(t[r]>e||e===undefined)e=t[r]}return e}},{"turf-inside":77}],93:[function(t,e,r){var n=t("turf-inside");e.exports=function(t,e,r,o){t.features.forEach(function(t){if(!t.properties){t.properties={}}var s=[];e.features.forEach(function(e){if(n(e,t)){s.push(e.properties[r])}});t.properties[o]=i(s)});return t};function i(t){if(t.length===0)return null;var e=t.slice().sort(function(t,e){return t-e});if(e.length%2===1){return e[(e.length-1)/2]}else{var r=e[e.length/2-1];var n=e[e.length/2];return(r+n)/2}}},{"turf-inside":77}],94:[function(t,e,r){var n=t("clone");var i=t("turf-union");e.exports=function(t,e){var r=n(t.features[0]),o=t.features;for(var s=0,a=o.length;s<a;s++){var u=o[s];if(u.geometry){r=i(r,u)}}return r}},{clone:95,"turf-union":120}],95:[function(t,e,r){(function(t){"use strict";function r(t){return Object.prototype.toString.call(t)}var n={isArray:function(t){return Array.isArray(t)||typeof t==="object"&&r(t)==="[object Array]"},isDate:function(t){return typeof t==="object"&&r(t)==="[object Date]"},isRegExp:function(t){return typeof t==="object"&&r(t)==="[object RegExp]"},getRegExpFlags:function(t){var e="";t.global&&(e+="g");t.ignoreCase&&(e+="i");t.multiline&&(e+="m");return e}};if(typeof e==="object")e.exports=i;function i(e,r,i,o){var s=[];var a=[];var u=typeof t!="undefined";if(typeof r=="undefined")r=true;if(typeof i=="undefined")i=Infinity;function p(e,i){if(e===null)return null;if(i==0)return e;var l;var g;if(typeof e!="object"){return e}if(n.isArray(e)){l=[]}else if(n.isRegExp(e)){l=new RegExp(e.source,n.getRegExpFlags(e));if(e.lastIndex)l.lastIndex=e.lastIndex}else if(n.isDate(e)){l=new Date(e.getTime())}else if(u&&t.isBuffer(e)){l=new t(e.length);e.copy(l);return l}else{if(typeof o=="undefined"){g=Object.getPrototypeOf(e);l=Object.create(g)}else{l=Object.create(o);g=o}}if(r){var h=s.indexOf(e);if(h!=-1){return a[h]}s.push(e);a.push(l)}for(var f in e){var c;if(g){c=Object.getOwnPropertyDescriptor(g,f)}if(c&&c.set==null){continue}l[f]=p(e[f],i-1)}return l}return p(e,i)}i.clonePrototype=function(t){if(t===null)return null;var e=function(){};e.prototype=t;return new e}}).call(this,t("buffer").Buffer)},{buffer:1}],96:[function(t,e,r){var n=t("turf-point");e.exports=function(t,e){if(t===null||e===null){throw new Error("Less than two points passed.")}var r=t.geometry.coordinates[0];var i=e.geometry.coordinates[0];var o=t.geometry.coordinates[1];var s=e.geometry.coordinates[1];var a=r+i;var u=a/2;var p=o+s;var l=p/2;return n([u,l])}},{"turf-point":103}],97:[function(t,e,r){var n=t("turf-inside");e.exports=function(t,e,r,o){t.features.forEach(function(t){if(!t.properties){t.properties={}}var s=[];e.features.forEach(function(e){if(n(e,t)){s.push(e.properties[r])}});t.properties[o]=i(s)});return t};function i(t){var e;for(var r=0;r<t.length;r++){if(t[r]<e||e===undefined)e=t[r]}return e}},{"turf-inside":77}],98:[function(t,e,r){var n=t("turf-distance");e.exports=function(t,e){var r;var i=0;var o=Infinity;e.features.forEach(function(e){if(!r){r=e;var i=n(t,e,"miles");r.properties.distance=i}else{var i=n(t,e,"miles");if(i<r.properties.distance){r=e;r.properties.distance=i}}});delete r.properties.distance;return r}},{"turf-distance":61}],99:[function(t,e,r){e.exports=function(t,e){var r=t.geometry.coordinates[0],n=t.geometry.coordinates[1],i=e.geometry.coordinates[0][0][0],o=e.geometry.coordinates[0][0][1],s=e.properties.a,a=e.geometry.coordinates[0][1][0],u=e.geometry.coordinates[0][1][1],p=e.properties.b,l=e.geometry.coordinates[0][2][0],g=e.geometry.coordinates[0][2][1],h=e.properties.c;var f=(h*(r-i)*(n-u)+s*(r-a)*(n-g)+p*(r-l)*(n-o)-p*(r-i)*(n-g)-h*(r-a)*(n-o)-s*(r-l)*(n-u))/((r-i)*(n-u)+(r-a)*(n-g)+(r-l)*(n-o)-(r-i)*(n-g)-(r-a)*(n-o)-(r-l)*(n-u));return f}},{}],100:[function(t,e,r){var n=t("turf-point");var i=t("turf-featurecollection");var o=t("turf-distance");e.exports=function(t,e,r){var s=i([]);var a=e/o(n([t[0],t[1]]),n([t[2],t[1]]),r);var u=a*(t[2]-t[0]);var p=e/o(n([t[0],t[1]]),n([t[0],t[3]]),r);var l=p*(t[3]-t[1]);var g=t[0];while(g<=t[2]){var h=t[1];while(h<=t[3]){s.features.push(n([g,h]));h+=l}g+=u}return s}},{"turf-distance":61,"turf-featurecollection":73,"turf-point":103}],101:[function(t,e,r){var n=t("turf-distance");var i=t("turf-point");var o=t("turf-linestring");var s=t("turf-bearing");var a=t("turf-destination");e.exports=function(t,e){var r;if(t.type==="Feature")r=t.geometry.coordinates;else if(t.type==="LineString")r=t.geometry.coordinates;else throw new Error("input must be a LineString Feature or Geometry");return u(e,r)};function u(t,e){var r="miles";var o=i([Infinity,Infinity],{dist:Infinity});for(var u=0;u<e.length-1;u++){var l=i(e[u]);var g=i(e[u+1]);l.properties.dist=n(t,l,r);g.properties.dist=n(t,g,r);var h=s(l,g);var f=a(t,1e3,h+90,r);var c=p(t.geometry.coordinates[0],t.geometry.coordinates[1],f.geometry.coordinates[0],f.geometry.coordinates[1],l.geometry.coordinates[0],l.geometry.coordinates[1],g.geometry.coordinates[0],g.geometry.coordinates[1]);if(!c){f=a(t,1e3,h-90,r);c=p(t.geometry.coordinates[0],t.geometry.coordinates[1],f.geometry.coordinates[0],f.geometry.coordinates[1],l.geometry.coordinates[0],l.geometry.coordinates[1],g.geometry.coordinates[0],g.geometry.coordinates[1])}f.properties.dist=Infinity;var d;if(c){var d=i(c);d.properties.dist=n(t,d,r)}if(l.properties.dist<o.properties.dist){o=l;o.properties.index=u}if(g.properties.dist<o.properties.dist){o=g;o.properties.index=u}if(d&&d.properties.dist<o.properties.dist){o=d;o.properties.index=u}}return o}function p(t,e,r,n,i,o,s,a){var u,p,l,g,h,f={x:null,y:null,onLine1:false,onLine2:false};u=(a-o)*(r-t)-(s-i)*(n-e);if(u==0){if(f.x!=null&&f.y!=null){return f}else{return false}}p=e-o;l=t-i;g=(s-i)*p-(a-o)*l;h=(r-t)*p-(n-e)*l;p=g/u;l=h/u;f.x=t+p*(r-t);f.y=e+p*(n-e);if(p>0&&p<1){f.onLine1=true}if(l>0&&l<1){f.onLine2=true}if(f.onLine1&&f.onLine2){return[f.x,f.y]}else{return false}}},{"turf-bearing":14,"turf-destination":58,"turf-distance":61,"turf-linestring":91,"turf-point":103}],102:[function(t,e,r){var n=t("turf-featurecollection");var i=t("turf-center");var o=t("turf-distance");var s=t("turf-inside");var a=t("turf-explode");e.exports=function(t){if(t.type!="FeatureCollection"){if(t.type!="Feature"){t={type:"Feature",geometry:t,properties:{}}}t=n([t])}var e=i(t);var r=false;var p=0;while(!r&&p<t.features.length){var l=t.features[p].geometry;if(l.type==="Point"){if(e.geometry.coordinates[0]===l.coordinates[0]&&e.geometry.coordinates[1]===l.coordinates[1]){r=true}}else if(l.type==="MultiPoint"){var g=false;var h=0;while(!g&&h<l.coordinates.length){if(e.geometry.coordinates[0]===l.coordinates[h][0]&&e.geometry.coordinates[1]===l.coordinates[h][1]){r=true;g=true}h++}}else if(l.type==="LineString"){var f=false;var h=0;while(!f&&h<l.coordinates.length-1){var c=e.geometry.coordinates[0];var d=e.geometry.coordinates[1];var m=l.coordinates[h][0];var y=l.coordinates[h][1];var v=l.coordinates[h+1][0];var j=l.coordinates[h+1][1];if(u(c,d,m,y,v,j)){f=true;r=true}h++}}else if(l.type==="MultiLineString"){var E=false;var x=0;while(!E&&x<l.coordinates.length){var f=false;var h=0;var I=l.coordinates[x];while(!f&&h<I.length-1){var c=e.geometry.coordinates[0];var d=e.geometry.coordinates[1];var m=I[h][0];var y=I[h][1];var v=I[h+1][0];var j=I[h+1][1];if(u(c,d,m,y,v,j)){f=true;r=true}h++}x++}}else if(l.type==="Polygon"||l.type==="MultiPolygon"){var S={type:"Feature",geometry:l,properties:{}};if(s(e,S)){r=true}}p++}if(r){return e}else{var L=n([]);for(var p=0;p<t.features.length;p++){L.features=L.features.concat(a(t.features[p]).features)}var C;var N=Infinity;for(var p=0;p<L.features.length;p++){var b=o(e,L.features[p],"miles");if(b<N){N=b;C=L.features[p]}}return C}};function u(t,e,r,n,i,o){var s=Math.sqrt((i-r)*(i-r)+(o-n)*(o-n));var a=Math.sqrt((t-r)*(t-r)+(e-n)*(e-n));var u=Math.sqrt((i-t)*(i-t)+(o-e)*(o-e));if(s===a+u){return true}}},{"turf-center":22,"turf-distance":61,"turf-explode":69,"turf-featurecollection":73,"turf-inside":77}],103:[function(t,e,r){var n=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};e.exports=function(t,e){if(!n(t))throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");return{type:"Feature",geometry:{type:"Point",coordinates:t},properties:e||{}}}},{}],104:[function(t,e,r){e.exports=function(t,e){if(t===null)throw new Error("No coordinates passed");for(var r=0;r<t.length;r++){var n=t[r];for(var i=0;i<n[n.length-1].length;i++){if(n.length<4){throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.")}if(n[n.length-1][i]!==n[0][i]){throw new Error("First and last Position are not equivalent.")}}}var o={type:"Feature",geometry:{type:"Polygon",coordinates:t},properties:e};if(!o.properties){o.properties={}}return o}},{}],105:[function(t,e,r){var n=t("simple-statistics");e.exports=function(t,e,r){var i=[];var o=[];t.features.forEach(function(t){i.push(t.properties[e])});r.forEach(function(t){o.push(n.quantile(i,t*.01))});return o}},{"simple-statistics":106}],106:[function(t,e,r){arguments[4][60][0].apply(r,arguments)},{dup:60}],107:[function(t,e,r){var n=t("geojson-random");e.exports=function(t,e,r){r=r||{};e=e||1;switch(t){case"point":case"points":case undefined:return n.point(e,r.bbox);case"polygon":case"polygons":return n.polygon(e,r.num_vertices,r.max_radial_length,r.bbox);default:throw new Error("Unknown type given: valid options are points and polygons")}}},{"geojson-random":108}],108:[function(t,e,r){e.exports=function(){throw new Error("call .point() or .polygon() instead")};function n(t){if(t)return l(t);else return[a(),u()]}e.exports.position=n;e.exports.point=function(t,e){var r=[];for(i=0;i<t;i++){r.push(f(e?p(n(e)):p()))}return c(r)};e.exports.polygon=function(t,e,r,s){if(typeof e!=="number")e=10;if(typeof r!=="number")r=10;var a=[];for(i=0;i<t;i++){var u=[],p=Array.apply(null,new Array(e+1)).map(Math.random);p.forEach(l);p.forEach(g);u[u.length-1]=u[0];u=u.map(o(n(s)));a.push(f(h([u])))}function l(t,e,r){r[e]=e>0?t+r[e-1]:t}function g(t,e){t=t*2*Math.PI/p[p.length-1];var n=Math.random();u.push([n*r*Math.sin(t),n*r*Math.cos(t)])}return c(a)};function o(t){return function(e,r){return[e[0]+t[0],e[1]+t[1]]}}function s(){return Math.random()-.5}function a(){return s()*360}function u(){return s()*180}function p(t){return{type:"Point",coordinates:t||[a(),u()]}}function l(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}function g(){return{type:"Point",coordinates:[a(),u()]}}function h(t){return{type:"Polygon",coordinates:t}}function f(t){return{type:"Feature",geometry:t,properties:{}}}function c(t){return{type:"FeatureCollection",features:t}}},{}],109:[function(t,e,r){var n=t("turf-featurecollection");var i=t("./index.js");e.exports=function(t,e,r,i,o){var s=n([]);t.features.forEach(function(t){var n;var o=false;for(var a=0;a<i.length;a++){if(t.properties[e]>=i[a][0]&&t.properties[e]<=i[a][1]){t.properties[r]=i[a][2]}}s.features.push(t)});return s}},{"./index.js":109,"turf-featurecollection":73}],110:[function(t,e,r){var n=t("turf-featurecollection");e.exports=function(t,e,r){var i=n([]);for(var o=0;o<t.features.length;o++){if(t.features[o].properties[e]!=r){i.features.push(t.features[o])}}return i}},{"turf-featurecollection":73}],111:[function(t,e,r){var n=t("turf-featurecollection");e.exports=function(t,e){var r=n(i(t.features,e));return r};function i(t,e){var r=t.slice(0),n=t.length,i=n-e,o,s;while(n-->i){s=Math.floor((n+1)*Math.random());o=r[s];r[s]=r[n];r[n]=o}return r.slice(i)}},{"turf-featurecollection":73}],112:[function(t,e,r){var n=t("simplify-js");e.exports=function(t,e,r){if(t.geometry.type==="LineString"){var o={type:"LineString",coordinates:[]};var s=t.geometry.coordinates.map(function(t){return{x:t[0],y:t[1]}});o.coordinates=n(s,e,r).map(function(t){return[t.x,t.y]});return i(o,t.properties)}else if(t.geometry.type==="Polygon"){var a={type:"Polygon",coordinates:[]};t.geometry.coordinates.forEach(function(t){var i=t.map(function(t){return{x:t[0],y:t[1]}});var o=n(i,e,r).map(function(t){return[t.x,t.y]});a.coordinates.push(o)});return i(a,t.properties)}};function i(t,e){return{type:"Feature",geometry:t,properties:e}}},{"simplify-js":113}],113:[function(e,r,n){(function(){"use strict";function e(t,e){var r=t.x-e.x,n=t.y-e.y;return r*r+n*n}function n(t,e,r){var n=e.x,i=e.y,o=r.x-n,s=r.y-i;if(o!==0||s!==0){var a=((t.x-n)*o+(t.y-i)*s)/(o*o+s*s);if(a>1){n=r.x;i=r.y}else if(a>0){n+=o*a;i+=s*a}}o=t.x-n;s=t.y-i;return o*o+s*s}function i(t,r){var n=t[0],i=[n],o;for(var s=1,a=t.length;s<a;s++){o=t[s];if(e(o,n)>r){i.push(o);n=o}}if(n!==o)i.push(o);return i}function o(t,e){var r=t.length,i=typeof Uint8Array!=="undefined"?Uint8Array:Array,o=new i(r),s=0,a=r-1,u=[],p=[],l,g,h,f;o[s]=o[a]=1;while(a){g=0;for(l=s+1;l<a;l++){h=n(t[l],t[s],t[a]);if(h>g){f=l;g=h}}if(g>e){o[f]=1;u.push(s,f,f,a)}a=u.pop();s=u.pop()}for(l=0;l<r;l++){if(o[l])p.push(t[l])}return p}function s(t,e,r){var n=e!==undefined?e*e:1;t=r?t:i(t,n);t=o(t,n);return t}if(typeof t==="function"&&t.amd)t(function(){return s});else if(typeof r!=="undefined")r.exports=s;else if(typeof self!=="undefined")self.simplify=s;else window.simplify=s})()},{}],114:[function(t,e,r){e.exports=function(t,e){var r=t[2]-t[0];var n=t[3]-t[1];var i=r*e;var o=n*e;var s=i-r;var a=o-n;var u=t[0]-s/2;var p=t[1]-a/2;var l=s/2+t[2];var g=a/2+t[3];var h=[u,p,l,g];return h}},{}],115:[function(t,e,r){var n=t("turf-featurecollection");var i=t("turf-point");var o=t("turf-polygon");var s=t("turf-distance");e.exports=function(t,e,r){var a=n([]);var u=e/s(i([t[0],t[1]]),i([t[2],t[1]]),r);var p=u*(t[2]-t[0]);var l=e/s(i([t[0],t[1]]),i([t[0],t[3]]),r);var g=l*(t[3]-t[1]);var h=t[0];while(h<=t[2]){var f=t[1];while(f<=t[3]){var c=o([[[h,f],[h,f+g],[h+p,f+g],[h+p,f],[h,f]]]);a.features.push(c);f+=g}h+=p}return a}},{"turf-distance":61,"turf-featurecollection":73,"turf-point":103,"turf-polygon":104}],116:[function(t,e,r){var n=t("turf-midpoint");var i=t("turf-point");var o=t("turf-distance");e.exports=function(t){var e=[0,0,0,0];var r=i([t[0],t[1]]);var s=i([t[0],t[3]]);var a=i([t[2],t[3]]);var u=i([t[2],t[1]]);var p=o(r,u,"miles");var l=o(r,s,"miles");if(p>=l){e[0]=t[0];e[2]=t[2];var g=n(r,s);e[1]=g.geometry.coordinates[1]-(t[2]-t[0])/2;e[3]=g.geometry.coordinates[1]+(t[2]-t[0])/2;return e}else{e[1]=t[1];e[3]=t[3];var h=n(r,u);e[0]=h.geometry.coordinates[0]-(t[3]-t[1])/2;e[2]=h.geometry.coordinates[0]+(t[3]-t[1])/2;return e}}},{"turf-distance":61,"turf-midpoint":96,"turf-point":103}],117:[function(t,e,r){var n=t("turf-inside");e.exports=function(t,e,r,o){t.features.forEach(function(t){if(!t.properties){t.properties={}}var s=[];e.features.forEach(function(e){if(n(e,t)){s.push(e.properties[r])}});t.properties[o]=i(s)});return t};function i(t){var e=0;for(var r=0;r<t.length;r++){e+=t[r]}return e}},{"turf-inside":77}],118:[function(t,e,r){var n=t("turf-polygon");var i=t("turf-featurecollection");e.exports=function(t,e){return i(u(t.features.map(function(t){var r={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};if(e)r.z=t.properties[e];return r})).map(function(t){return n([[[t.a.x,t.a.y],[t.b.x,t.b.y],[t.c.x,t.c.y],[t.a.x,t.a.y]]],{a:t.a.z,b:t.b.z,c:t.c.z})}))};function o(t,e,r){this.a=t;this.b=e;this.c=r;var n=e.x-t.x,i=e.y-t.y,o=r.x-t.x,s=r.y-t.y,a=n*(t.x+e.x)+i*(t.y+e.y),u=o*(t.x+r.x)+s*(t.y+r.y),p=2*(n*(r.y-e.y)-i*(r.x-e.x)),l,g,h,f;

if(Math.abs(p)<1e-6){l=Math.min(t.x,e.x,r.x);g=Math.min(t.y,e.y,r.y);h=(Math.max(t.x,e.x,r.x)-l)*.5;f=(Math.max(t.y,e.y,r.y)-g)*.5;this.x=l+h;this.y=g+f;this.r=h*h+f*f}else{this.x=(s*a-i*u)/p;this.y=(n*u-o*a)/p;h=this.x-t.x;f=this.y-t.y;this.r=h*h+f*f}}function s(t,e){return e.x-t.x}function a(t){var e=t.length,r,n,i,o,s;t:while(e){n=t[--e];r=t[--e];i=e;while(i){s=t[--i];o=t[--i];if(r===o&&n===s||r===s&&n===o){t.splice(e,2);t.splice(i,2);e-=2;continue t}}}}function u(t){if(t.length<3)return[];t.sort(s);var e=t.length-1,r=t[e].x,n=t[0].x,i=t[e].y,u=i;while(e--){if(t[e].y<i)i=t[e].y;if(t[e].y>u)u=t[e].y}var p=n-r,l=u-i,g=p>l?p:l,h=(n+r)*.5,f=(u+i)*.5,c=[new o({x:h-20*g,y:f-g,__sentinel:true},{x:h,y:f+20*g,__sentinel:true},{x:h+20*g,y:f-g,__sentinel:true})],d=[],m=[],y,v,j;e=t.length;while(e--){m.length=0;y=c.length;while(y--){p=t[e].x-c[y].x;if(p>0&&p*p>c[y].r){d.push(c[y]);c.splice(y,1);continue}l=t[e].y-c[y].y;if(p*p+l*l>c[y].r)continue;m.push(c[y].a,c[y].b,c[y].b,c[y].c,c[y].c,c[y].a);c.splice(y,1)}a(m);y=m.length;while(y){j=m[--y];v=m[--y];c.push(new o(v,j,t[e]))}}Array.prototype.push.apply(d,c);e=d.length;while(e--)if(d[e].a.__sentinel||d[e].b.__sentinel||d[e].c.__sentinel)d.splice(e,1);return d}},{"turf-featurecollection":73,"turf-polygon":104}],119:[function(t,e,r){var n=t("turf-featurecollection");var i=t("turf-point");var o=t("turf-polygon");var s=t("turf-distance");e.exports=function(t,e,r){var a=n([]);var u=e/s(i([t[0],t[1]]),i([t[2],t[1]]),r);var p=u*(t[2]-t[0]);var l=e/s(i([t[0],t[1]]),i([t[0],t[3]]),r);var g=l*(t[3]-t[1]);var h=0;var f=t[0];while(f<=t[2]){var c=0;var d=t[1];while(d<=t[3]){if(h%2===0&&c%2===0){var m=o([[[f,d],[f,d+g],[f+p,d],[f,d]]]);a.features.push(m);var y=o([[[f,d+g],[f+p,d+g],[f+p,d],[f,d+g]]]);a.features.push(y)}else if(h%2===0&&c%2===1){var m=o([[[f,d],[f+p,d+g],[f+p,d],[f,d]]]);a.features.push(m);var y=o([[[f,d],[f,d+g],[f+p,d+g],[f,d]]]);a.features.push(y)}else if(c%2===0&&h%2===1){var m=o([[[f,d],[f,d+g],[f+p,d+g],[f,d]]]);a.features.push(m);var y=o([[[f,d],[f+p,d+g],[f+p,d],[f,d]]]);a.features.push(y)}else if(c%2===1&&h%2===1){var m=o([[[f,d],[f,d+g],[f+p,d],[f,d]]]);a.features.push(m);var y=o([[[f,d+g],[f+p,d+g],[f+p,d],[f,d+g]]]);a.features.push(y)}d+=g;c++}h++;f+=p}return a}},{"turf-distance":61,"turf-featurecollection":73,"turf-point":103,"turf-polygon":104}],120:[function(t,e,r){var n=t("jsts");e.exports=function(t,e){var r=new n.io.GeoJSONReader;var i=r.read(JSON.stringify(t.geometry));var o=r.read(JSON.stringify(e.geometry));var s=i.union(o);var a=new n.io.GeoJSONParser;s=a.write(s);return{type:"Feature",geometry:s,properties:t.properties}}},{jsts:121}],121:[function(t,e,r){arguments[4][18][0].apply(r,arguments)},{"./lib/jsts":122,dup:18,"javascript.util":124}],122:[function(t,e,r){arguments[4][19][0].apply(r,arguments)},{dup:19}],123:[function(t,e,r){arguments[4][20][0].apply(r,arguments)},{dup:20}],124:[function(t,e,r){arguments[4][21][0].apply(r,arguments)},{"./dist/javascript.util-node.min.js":123,dup:21}],125:[function(t,e,r){var n=t("simple-statistics");var i=t("turf-inside");e.exports=function(t,e,r,o){t.features.forEach(function(t){if(!t.properties){t.properties={}}var s=[];e.features.forEach(function(e){if(i(e,t)){s.push(e.properties[r])}});t.properties[o]=n.variance(s)});return t}},{"simple-statistics":126,"turf-inside":77}],126:[function(t,e,r){arguments[4][60][0].apply(r,arguments)},{dup:60}],127:[function(t,e,r){var n=t("turf-inside");var i=t("turf-featurecollection");e.exports=function(t,e){var r=i([]);for(var o=0;o<e.features.length;o++){for(var s=0;s<t.features.length;s++){var a=n(t.features[s],e.features[o]);if(a){r.features.push(t.features[s])}}}return r}},{"turf-featurecollection":73,"turf-inside":77}],turf:[function(t,e,r){e.exports={isolines:t("turf-isolines"),merge:t("turf-merge"),convex:t("turf-convex"),within:t("turf-within"),concave:t("turf-concave"),count:t("turf-count"),erase:t("turf-erase"),variance:t("turf-variance"),deviation:t("turf-deviation"),median:t("turf-median"),min:t("turf-min"),max:t("turf-max"),aggregate:t("turf-aggregate"),flip:t("turf-flip"),simplify:t("turf-simplify"),sum:t("turf-sum"),average:t("turf-average"),bezier:t("turf-bezier"),tag:t("turf-tag"),size:t("turf-size"),sample:t("turf-sample"),jenks:t("turf-jenks"),quantile:t("turf-quantile"),envelope:t("turf-envelope"),square:t("turf-square"),midpoint:t("turf-midpoint"),buffer:t("turf-buffer"),center:t("turf-center"),centroid:t("turf-centroid"),combine:t("turf-combine"),distance:t("turf-distance"),explode:t("turf-explode"),extent:t("turf-extent"),bboxPolygon:t("turf-bbox-polygon"),featurecollection:t("turf-featurecollection"),filter:t("turf-filter"),inside:t("turf-inside"),intersect:t("turf-intersect"),linestring:t("turf-linestring"),nearest:t("turf-nearest"),planepoint:t("turf-planepoint"),point:t("turf-point"),polygon:t("turf-polygon"),random:t("turf-random"),reclass:t("turf-reclass"),remove:t("turf-remove"),tin:t("turf-tin"),union:t("turf-union"),bearing:t("turf-bearing"),destination:t("turf-destination"),kinks:t("turf-kinks"),pointOnSurface:t("turf-point-on-surface"),area:t("turf-area"),along:t("turf-along"),lineDistance:t("turf-line-distance"),lineSlice:t("turf-line-slice"),pointOnLine:t("turf-point-on-line"),pointGrid:t("turf-point-grid"),squareGrid:t("turf-square-grid"),triangleGrid:t("turf-triangle-grid"),hexGrid:t("turf-hex-grid")}},{"turf-aggregate":7,"turf-along":8,"turf-area":9,"turf-average":12,"turf-bbox-polygon":13,"turf-bearing":14,"turf-bezier":15,"turf-buffer":17,"turf-center":22,"turf-centroid":23,"turf-combine":25,"turf-concave":26,"turf-convex":27,"turf-count":57,"turf-destination":58,"turf-deviation":59,"turf-distance":61,"turf-envelope":63,"turf-erase":64,"turf-explode":69,"turf-extent":71,"turf-featurecollection":73,"turf-filter":74,"turf-flip":75,"turf-hex-grid":76,"turf-inside":77,"turf-intersect":78,"turf-isolines":84,"turf-jenks":86,"turf-kinks":88,"turf-line-distance":89,"turf-line-slice":90,"turf-linestring":91,"turf-max":92,"turf-median":93,"turf-merge":94,"turf-midpoint":96,"turf-min":97,"turf-nearest":98,"turf-planepoint":99,"turf-point":103,"turf-point-grid":100,"turf-point-on-line":101,"turf-point-on-surface":102,"turf-polygon":104,"turf-quantile":105,"turf-random":107,"turf-reclass":109,"turf-remove":110,"turf-sample":111,"turf-simplify":112,"turf-size":114,"turf-square":116,"turf-square-grid":115,"turf-sum":117,"turf-tag":5,"turf-tin":118,"turf-triangle-grid":119,"turf-union":120,"turf-variance":125,"turf-within":127}]},{},[])("turf")});
var turf = module.exports;
